{"ast":null,"code":"import { m as g, i as p, t as q, r as f, d as J, a as K, v as V, c as z, e as Y, A as Q, P as Z, B as ee, b as re } from \"./chart.es.js\";\n/*!\n * chartjs-plugin-datalabels v2.2.0\n * https://chartjs-plugin-datalabels.netlify.app\n * (c) 2017-2022 chartjs-plugin-datalabels contributors\n * Released under the MIT license\n */\n\nvar D = function () {\n  if (typeof window < \"u\") {\n    if (window.devicePixelRatio) return window.devicePixelRatio;\n    var e = window.screen;\n    if (e) return (e.deviceXDPI || 1) / (e.logicalXDPI || 1);\n  }\n\n  return 1;\n}(),\n    m = {\n  // @todo move this in Chart.helpers.toTextLines\n  toTextLines: function (e) {\n    var t = [],\n        r;\n\n    for (e = [].concat(e); e.length;) r = e.pop(), typeof r == \"string\" ? t.unshift.apply(t, r.split(`\n`)) : Array.isArray(r) ? e.push.apply(e, r) : p(e) || t.unshift(\"\" + r);\n\n    return t;\n  },\n  // @todo move this in Chart.helpers.canvas.textSize\n  // @todo cache calls of measureText if font doesn't change?!\n  textSize: function (e, t, r) {\n    var a = [].concat(t),\n        i = a.length,\n        n = e.font,\n        o = 0,\n        s;\n\n    for (e.font = r.string, s = 0; s < i; ++s) o = Math.max(e.measureText(a[s]).width, o);\n\n    return e.font = n, {\n      height: i * r.lineHeight,\n      width: o\n    };\n  },\n\n  /**\n   * Returns value bounded by min and max. This is equivalent to max(min, min(value, max)).\n   * @todo move this method in Chart.helpers.bound\n   * https://doc.qt.io/qt-5/qtglobal.html#qBound\n   */\n  bound: function (e, t, r) {\n    return Math.max(e, Math.min(t, r));\n  },\n\n  /**\n   * Returns an array of pair [value, state] where state is:\n   * * -1: value is only in a0 (removed)\n   * *  1: value is only in a1 (added)\n   */\n  arrayDiff: function (e, t) {\n    var r = e.slice(),\n        a = [],\n        i,\n        n,\n        o,\n        s;\n\n    for (i = 0, o = t.length; i < o; ++i) s = t[i], n = r.indexOf(s), n === -1 ? a.push([s, 1]) : r.splice(n, 1);\n\n    for (i = 0, o = r.length; i < o; ++i) a.push([r[i], -1]);\n\n    return a;\n  },\n\n  /**\n   * https://github.com/chartjs/chartjs-plugin-datalabels/issues/70\n   */\n  rasterize: function (e) {\n    return Math.round(e * D) / D;\n  }\n};\n\nfunction A(e, t) {\n  var r = t.x,\n      a = t.y;\n  if (r === null) return {\n    x: 0,\n    y: -1\n  };\n  if (a === null) return {\n    x: 1,\n    y: 0\n  };\n  var i = e.x - r,\n      n = e.y - a,\n      o = Math.sqrt(i * i + n * n);\n  return {\n    x: o ? i / o : 0,\n    y: o ? n / o : -1\n  };\n}\n\nfunction ae(e, t, r, a, i) {\n  switch (i) {\n    case \"center\":\n      r = a = 0;\n      break;\n\n    case \"bottom\":\n      r = 0, a = 1;\n      break;\n\n    case \"right\":\n      r = 1, a = 0;\n      break;\n\n    case \"left\":\n      r = -1, a = 0;\n      break;\n\n    case \"top\":\n      r = 0, a = -1;\n      break;\n\n    case \"start\":\n      r = -r, a = -a;\n      break;\n\n    case \"end\":\n      break;\n\n    default:\n      i *= Math.PI / 180, r = Math.cos(i), a = Math.sin(i);\n      break;\n  }\n\n  return {\n    x: e,\n    y: t,\n    vx: r,\n    vy: a\n  };\n}\n\nvar te = 0,\n    j = 1,\n    N = 2,\n    O = 4,\n    F = 8;\n\nfunction M(e, t, r) {\n  var a = te;\n  return e < r.left ? a |= j : e > r.right && (a |= N), t < r.top ? a |= F : t > r.bottom && (a |= O), a;\n}\n\nfunction ie(e, t) {\n  for (var r = e.x0, a = e.y0, i = e.x1, n = e.y1, o = M(r, a, t), s = M(i, n, t), l, u, v; !(!(o | s) || o & s);) l = o || s, l & F ? (u = r + (i - r) * (t.top - a) / (n - a), v = t.top) : l & O ? (u = r + (i - r) * (t.bottom - a) / (n - a), v = t.bottom) : l & N ? (v = a + (n - a) * (t.right - r) / (i - r), u = t.right) : l & j && (v = a + (n - a) * (t.left - r) / (i - r), u = t.left), l === o ? (r = u, a = v, o = M(r, a, t)) : (i = u, n = v, s = M(i, n, t));\n\n  return {\n    x0: r,\n    x1: i,\n    y0: a,\n    y1: n\n  };\n}\n\nfunction P(e, t) {\n  var r = t.anchor,\n      a = e,\n      i,\n      n;\n  return t.clamp && (a = ie(a, t.area)), r === \"start\" ? (i = a.x0, n = a.y0) : r === \"end\" ? (i = a.x1, n = a.y1) : (i = (a.x0 + a.x1) / 2, n = (a.y0 + a.y1) / 2), ae(i, n, e.vx, e.vy, t.align);\n}\n\nvar E = {\n  arc: function (e, t) {\n    var r = (e.startAngle + e.endAngle) / 2,\n        a = Math.cos(r),\n        i = Math.sin(r),\n        n = e.innerRadius,\n        o = e.outerRadius;\n    return P({\n      x0: e.x + a * n,\n      y0: e.y + i * n,\n      x1: e.x + a * o,\n      y1: e.y + i * o,\n      vx: a,\n      vy: i\n    }, t);\n  },\n  point: function (e, t) {\n    var r = A(e, t.origin),\n        a = r.x * e.options.radius,\n        i = r.y * e.options.radius;\n    return P({\n      x0: e.x - a,\n      y0: e.y - i,\n      x1: e.x + a,\n      y1: e.y + i,\n      vx: r.x,\n      vy: r.y\n    }, t);\n  },\n  bar: function (e, t) {\n    var r = A(e, t.origin),\n        a = e.x,\n        i = e.y,\n        n = 0,\n        o = 0;\n    return e.horizontal ? (a = Math.min(e.x, e.base), n = Math.abs(e.base - e.x)) : (i = Math.min(e.y, e.base), o = Math.abs(e.base - e.y)), P({\n      x0: a,\n      y0: i + o,\n      x1: a + n,\n      y1: i,\n      vx: r.x,\n      vy: r.y\n    }, t);\n  },\n  fallback: function (e, t) {\n    var r = A(e, t.origin);\n    return P({\n      x0: e.x,\n      y0: e.y,\n      x1: e.x + (e.width || 0),\n      y1: e.y + (e.height || 0),\n      vx: r.x,\n      vy: r.y\n    }, t);\n  }\n},\n    x = m.rasterize;\n\nfunction ne(e) {\n  var t = e.borderWidth || 0,\n      r = e.padding,\n      a = e.size.height,\n      i = e.size.width,\n      n = -i / 2,\n      o = -a / 2;\n  return {\n    frame: {\n      x: n - r.left - t,\n      y: o - r.top - t,\n      w: i + r.width + t * 2,\n      h: a + r.height + t * 2\n    },\n    text: {\n      x: n,\n      y: o,\n      w: i,\n      h: a\n    }\n  };\n}\n\nfunction oe(e, t) {\n  var r = t.chart.getDatasetMeta(t.datasetIndex).vScale;\n  if (!r) return null;\n  if (r.xCenter !== void 0 && r.yCenter !== void 0) return {\n    x: r.xCenter,\n    y: r.yCenter\n  };\n  var a = r.getBasePixel();\n  return e.horizontal ? {\n    x: a,\n    y: null\n  } : {\n    x: null,\n    y: a\n  };\n}\n\nfunction se(e) {\n  return e instanceof Q ? E.arc : e instanceof Z ? E.point : e instanceof ee ? E.bar : E.fallback;\n}\n\nfunction le(e, t, r, a, i, n) {\n  var o = Math.PI / 2;\n\n  if (n) {\n    var s = Math.min(n, i / 2, a / 2),\n        l = t + s,\n        u = r + s,\n        v = t + a - s,\n        d = r + i - s;\n    e.moveTo(t, u), l < v && u < d ? (e.arc(l, u, s, -Math.PI, -o), e.arc(v, u, s, -o, 0), e.arc(v, d, s, 0, o), e.arc(l, d, s, o, Math.PI)) : l < v ? (e.moveTo(l, r), e.arc(v, u, s, -o, o), e.arc(l, u, s, o, Math.PI + o)) : u < d ? (e.arc(l, u, s, -Math.PI, 0), e.arc(l, d, s, 0, Math.PI)) : e.arc(l, u, s, -Math.PI, Math.PI), e.closePath(), e.moveTo(t, r);\n  } else e.rect(t, r, a, i);\n}\n\nfunction ue(e, t, r) {\n  var a = r.backgroundColor,\n      i = r.borderColor,\n      n = r.borderWidth;\n  !a && (!i || !n) || (e.beginPath(), le(e, x(t.x) + n / 2, x(t.y) + n / 2, x(t.w) - n, x(t.h) - n, r.borderRadius), e.closePath(), a && (e.fillStyle = a, e.fill()), i && n && (e.strokeStyle = i, e.lineWidth = n, e.lineJoin = \"miter\", e.stroke()));\n}\n\nfunction ve(e, t, r) {\n  var a = r.lineHeight,\n      i = e.w,\n      n = e.x,\n      o = e.y + a / 2;\n  return t === \"center\" ? n += i / 2 : (t === \"end\" || t === \"right\") && (n += i), {\n    h: a,\n    w: i,\n    x: n,\n    y: o\n  };\n}\n\nfunction de(e, t, r) {\n  var a = e.shadowBlur,\n      i = r.stroked,\n      n = x(r.x),\n      o = x(r.y),\n      s = x(r.w);\n  i && e.strokeText(t, n, o, s), r.filled && (a && i && (e.shadowBlur = 0), e.fillText(t, n, o, s), a && i && (e.shadowBlur = a));\n}\n\nfunction fe(e, t, r, a) {\n  var i = a.textAlign,\n      n = a.color,\n      o = !!n,\n      s = a.font,\n      l = t.length,\n      u = a.textStrokeColor,\n      v = a.textStrokeWidth,\n      d = u && v,\n      y;\n  if (!(!l || !o && !d)) for (r = ve(r, i, s), e.font = s.string, e.textAlign = i, e.textBaseline = \"middle\", e.shadowBlur = a.textShadowBlur, e.shadowColor = a.textShadowColor, o && (e.fillStyle = n), d && (e.lineJoin = \"round\", e.lineWidth = v, e.strokeStyle = u), y = 0, l = t.length; y < l; ++y) de(e, t[y], {\n    stroked: d,\n    filled: o,\n    w: r.w,\n    x: r.x,\n    y: r.y + r.h * y\n  });\n}\n\nvar L = function (e, t, r, a) {\n  var i = this;\n  i._config = e, i._index = a, i._model = null, i._rects = null, i._ctx = t, i._el = r;\n};\n\ng(L.prototype, {\n  /**\n   * @private\n   */\n  _modelize: function (e, t, r, a) {\n    var i = this,\n        n = i._index,\n        o = q(f([r.font, {}], a, n)),\n        s = f([r.color, J.color], a, n);\n    return {\n      align: f([r.align, \"center\"], a, n),\n      anchor: f([r.anchor, \"center\"], a, n),\n      area: a.chart.chartArea,\n      backgroundColor: f([r.backgroundColor, null], a, n),\n      borderColor: f([r.borderColor, null], a, n),\n      borderRadius: f([r.borderRadius, 0], a, n),\n      borderWidth: f([r.borderWidth, 0], a, n),\n      clamp: f([r.clamp, !1], a, n),\n      clip: f([r.clip, !1], a, n),\n      color: s,\n      display: e,\n      font: o,\n      lines: t,\n      offset: f([r.offset, 4], a, n),\n      opacity: f([r.opacity, 1], a, n),\n      origin: oe(i._el, a),\n      padding: K(f([r.padding, 4], a, n)),\n      positioner: se(i._el),\n      rotation: f([r.rotation, 0], a, n) * (Math.PI / 180),\n      size: m.textSize(i._ctx, t, o),\n      textAlign: f([r.textAlign, \"start\"], a, n),\n      textShadowBlur: f([r.textShadowBlur, 0], a, n),\n      textShadowColor: f([r.textShadowColor, s], a, n),\n      textStrokeColor: f([r.textStrokeColor, s], a, n),\n      textStrokeWidth: f([r.textStrokeWidth, 0], a, n)\n    };\n  },\n  update: function (e) {\n    var t = this,\n        r = null,\n        a = null,\n        i = t._index,\n        n = t._config,\n        o,\n        s,\n        l,\n        u = f([n.display, !0], e, i);\n    u && (o = e.dataset.data[i], s = V(z(n.formatter, [o, e]), o), l = p(s) ? [] : m.toTextLines(s), l.length && (r = t._modelize(u, l, n, e), a = ne(r))), t._model = r, t._rects = a;\n  },\n  geometry: function () {\n    return this._rects ? this._rects.frame : {};\n  },\n  rotation: function () {\n    return this._model ? this._model.rotation : 0;\n  },\n  visible: function () {\n    return this._model && this._model.opacity;\n  },\n  model: function () {\n    return this._model;\n  },\n  draw: function (e, t) {\n    var r = this,\n        a = e.ctx,\n        i = r._model,\n        n = r._rects,\n        o;\n    this.visible() && (a.save(), i.clip && (o = i.area, a.beginPath(), a.rect(o.left, o.top, o.right - o.left, o.bottom - o.top), a.clip()), a.globalAlpha = m.bound(0, i.opacity, 1), a.translate(x(t.x), x(t.y)), a.rotate(i.rotation), ue(a, n.frame, i), fe(a, i.lines, n.text, i), a.restore());\n  }\n});\nvar he = Number.MIN_SAFE_INTEGER || -9007199254740991,\n    ye = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\nfunction b(e, t, r) {\n  var a = Math.cos(r),\n      i = Math.sin(r),\n      n = t.x,\n      o = t.y;\n  return {\n    x: n + a * (e.x - n) - i * (e.y - o),\n    y: o + i * (e.x - n) + a * (e.y - o)\n  };\n}\n\nfunction W(e, t) {\n  var r = ye,\n      a = he,\n      i = t.origin,\n      n,\n      o,\n      s,\n      l,\n      u;\n\n  for (n = 0; n < e.length; ++n) o = e[n], s = o.x - i.x, l = o.y - i.y, u = t.vx * s + t.vy * l, r = Math.min(r, u), a = Math.max(a, u);\n\n  return {\n    min: r,\n    max: a\n  };\n}\n\nfunction I(e, t) {\n  var r = t.x - e.x,\n      a = t.y - e.y,\n      i = Math.sqrt(r * r + a * a);\n  return {\n    vx: (t.x - e.x) / i,\n    vy: (t.y - e.y) / i,\n    origin: e,\n    ln: i\n  };\n}\n\nvar G = function () {\n  this._rotation = 0, this._rect = {\n    x: 0,\n    y: 0,\n    w: 0,\n    h: 0\n  };\n};\n\ng(G.prototype, {\n  center: function () {\n    var e = this._rect;\n    return {\n      x: e.x + e.w / 2,\n      y: e.y + e.h / 2\n    };\n  },\n  update: function (e, t, r) {\n    this._rotation = r, this._rect = {\n      x: t.x + e.x,\n      y: t.y + e.y,\n      w: t.w,\n      h: t.h\n    };\n  },\n  contains: function (e) {\n    var t = this,\n        r = 1,\n        a = t._rect;\n    return e = b(e, t.center(), -t._rotation), !(e.x < a.x - r || e.y < a.y - r || e.x > a.x + a.w + r * 2 || e.y > a.y + a.h + r * 2);\n  },\n  // Separating Axis Theorem\n  // https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169\n  intersects: function (e) {\n    var t = this._points(),\n        r = e._points(),\n        a = [I(t[0], t[1]), I(t[0], t[3])],\n        i,\n        n,\n        o;\n\n    for (this._rotation !== e._rotation && a.push(I(r[0], r[1]), I(r[0], r[3])), i = 0; i < a.length; ++i) if (n = W(t, a[i]), o = W(r, a[i]), n.max < o.min || o.max < n.min) return !1;\n\n    return !0;\n  },\n\n  /**\n   * @private\n   */\n  _points: function () {\n    var e = this,\n        t = e._rect,\n        r = e._rotation,\n        a = e.center();\n    return [b({\n      x: t.x,\n      y: t.y\n    }, a, r), b({\n      x: t.x + t.w,\n      y: t.y\n    }, a, r), b({\n      x: t.x + t.w,\n      y: t.y + t.h\n    }, a, r), b({\n      x: t.x,\n      y: t.y + t.h\n    }, a, r)];\n  }\n});\n\nfunction H(e, t, r) {\n  var a = t.positioner(e, t),\n      i = a.vx,\n      n = a.vy;\n  if (!i && !n) return {\n    x: a.x,\n    y: a.y\n  };\n  var o = r.w,\n      s = r.h,\n      l = t.rotation,\n      u = Math.abs(o / 2 * Math.cos(l)) + Math.abs(s / 2 * Math.sin(l)),\n      v = Math.abs(o / 2 * Math.sin(l)) + Math.abs(s / 2 * Math.cos(l)),\n      d = 1 / Math.max(Math.abs(i), Math.abs(n));\n  return u *= i * d, v *= n * d, u += t.offset * i, v += t.offset * n, {\n    x: a.x + u,\n    y: a.y + v\n  };\n}\n\nfunction xe(e, t) {\n  var r, a, i, n;\n\n  for (r = e.length - 1; r >= 0; --r) for (i = e[r].$layout, a = r - 1; a >= 0 && i._visible; --a) n = e[a].$layout, n._visible && i._box.intersects(n._box) && t(i, n);\n\n  return e;\n}\n\nfunction _e(e) {\n  var t, r, a, i, n, o, s;\n\n  for (t = 0, r = e.length; t < r; ++t) a = e[t], i = a.$layout, i._visible && (s = new Proxy(a._el, {\n    get: (l, u) => l.getProps([u], !0)[u]\n  }), n = a.geometry(), o = H(s, a.model(), n), i._box.update(o, n, a.rotation()));\n\n  return xe(e, function (l, u) {\n    var v = l._hidable,\n        d = u._hidable;\n    v && d || d ? u._visible = !1 : v && (l._visible = !1);\n  });\n}\n\nvar w = {\n  prepare: function (e) {\n    var t = [],\n        r,\n        a,\n        i,\n        n,\n        o;\n\n    for (r = 0, i = e.length; r < i; ++r) for (a = 0, n = e[r].length; a < n; ++a) o = e[r][a], t.push(o), o.$layout = {\n      _box: new G(),\n      _hidable: !1,\n      _visible: !0,\n      _set: r,\n      _idx: o._index\n    };\n\n    return t.sort(function (s, l) {\n      var u = s.$layout,\n          v = l.$layout;\n      return u._idx === v._idx ? v._set - u._set : v._idx - u._idx;\n    }), this.update(t), t;\n  },\n  update: function (e) {\n    var t = !1,\n        r,\n        a,\n        i,\n        n,\n        o;\n\n    for (r = 0, a = e.length; r < a; ++r) i = e[r], n = i.model(), o = i.$layout, o._hidable = n && n.display === \"auto\", o._visible = i.visible(), t |= o._hidable;\n\n    t && _e(e);\n  },\n  lookup: function (e, t) {\n    var r, a;\n\n    for (r = e.length - 1; r >= 0; --r) if (a = e[r].$layout, a && a._visible && a._box.contains(t)) return e[r];\n\n    return null;\n  },\n  draw: function (e, t) {\n    var r, a, i, n, o, s;\n\n    for (r = 0, a = t.length; r < a; ++r) i = t[r], n = i.$layout, n._visible && (o = i.geometry(), s = H(i._el, i.model(), o), n._box.update(s, o, i.rotation()), i.draw(e, s));\n  }\n},\n    ce = function (e) {\n  if (p(e)) return null;\n  var t = e,\n      r,\n      a,\n      i;\n  if (re(e)) if (!p(e.label)) t = e.label;else if (!p(e.r)) t = e.r;else for (t = \"\", r = Object.keys(e), i = 0, a = r.length; i < a; ++i) t += (i !== 0 ? \", \" : \"\") + r[i] + \": \" + e[r[i]];\n  return \"\" + t;\n},\n    be = {\n  align: \"center\",\n  anchor: \"center\",\n  backgroundColor: null,\n  borderColor: null,\n  borderRadius: 0,\n  borderWidth: 0,\n  clamp: !1,\n  clip: !1,\n  color: void 0,\n  display: !0,\n  font: {\n    family: void 0,\n    lineHeight: 1.2,\n    size: void 0,\n    style: void 0,\n    weight: null\n  },\n  formatter: ce,\n  labels: void 0,\n  listeners: {},\n  offset: 4,\n  opacity: 1,\n  padding: {\n    top: 4,\n    right: 4,\n    bottom: 4,\n    left: 4\n  },\n  rotation: 0,\n  textAlign: \"start\",\n  textStrokeColor: void 0,\n  textStrokeWidth: 0,\n  textShadowBlur: 0,\n  textShadowColor: void 0\n},\n    h = \"$datalabels\",\n    U = \"$default\";\n\nfunction pe(e, t) {\n  var r = e.datalabels,\n      a = {},\n      i = [],\n      n,\n      o;\n  return r === !1 ? null : (r === !0 && (r = {}), t = g({}, [t, r]), n = t.labels || {}, o = Object.keys(n), delete t.labels, o.length ? o.forEach(function (s) {\n    n[s] && i.push(g({}, [t, n[s], {\n      _key: s\n    }]));\n  }) : i.push(t), a = i.reduce(function (s, l) {\n    return Y(l.listeners || {}, function (u, v) {\n      s[v] = s[v] || {}, s[v][l._key || U] = u;\n    }), delete l.listeners, s;\n  }, {}), {\n    labels: i,\n    listeners: a\n  });\n}\n\nfunction R(e, t, r, a) {\n  if (t) {\n    var i = r.$context,\n        n = r.$groups,\n        o;\n    t[n._set] && (o = t[n._set][n._key], o && z(o, [i, a]) === !0 && (e[h]._dirty = !0, r.update(i)));\n  }\n}\n\nfunction me(e, t, r, a, i) {\n  var n, o;\n  !r && !a || (r ? a ? r !== a && (o = n = !0) : o = !0 : n = !0, o && R(e, t.leave, r, i), n && R(e, t.enter, a, i));\n}\n\nfunction we(e, t) {\n  var r = e[h],\n      a = r._listeners,\n      i,\n      n;\n\n  if (!(!a.enter && !a.leave)) {\n    if (t.type === \"mousemove\") n = w.lookup(r._labels, t);else if (t.type !== \"mouseout\") return;\n    i = r._hovered, r._hovered = n, me(e, a, i, n, t);\n  }\n}\n\nfunction ge(e, t) {\n  var r = e[h],\n      a = r._listeners.click,\n      i = a && w.lookup(r._labels, t);\n  i && R(e, a, i, t);\n}\n\nvar Me = {\n  id: \"datalabels\",\n  defaults: be,\n  beforeInit: function (e) {\n    e[h] = {\n      _actives: []\n    };\n  },\n  beforeUpdate: function (e) {\n    var t = e[h];\n    t._listened = !1, t._listeners = {}, t._datasets = [], t._labels = [];\n  },\n  afterDatasetUpdate: function (e, t, r) {\n    var a = t.index,\n        i = e[h],\n        n = i._datasets[a] = [],\n        o = e.isDatasetVisible(a),\n        s = e.data.datasets[a],\n        l = pe(s, r),\n        u = t.meta.data || [],\n        v = e.ctx,\n        d,\n        y,\n        $,\n        T,\n        S,\n        B,\n        c,\n        _;\n\n    for (v.save(), d = 0, $ = u.length; d < $; ++d) if (c = u[d], c[h] = [], o && c && e.getDataVisibility(d) && !c.skip) for (y = 0, T = l.labels.length; y < T; ++y) S = l.labels[y], B = S._key, _ = new L(S, v, c, d), _.$groups = {\n      _set: a,\n      _key: B || U\n    }, _.$context = {\n      active: !1,\n      chart: e,\n      dataIndex: d,\n      dataset: s,\n      datasetIndex: a\n    }, _.update(_.$context), c[h].push(_), n.push(_);\n\n    v.restore(), g(i._listeners, l.listeners, {\n      merger: function (k, C, X) {\n        C[k] = C[k] || {}, C[k][t.index] = X[k], i._listened = !0;\n      }\n    });\n  },\n  afterUpdate: function (e) {\n    e[h]._labels = w.prepare(e[h]._datasets);\n  },\n  // Draw labels on top of all dataset elements\n  // https://github.com/chartjs/chartjs-plugin-datalabels/issues/29\n  // https://github.com/chartjs/chartjs-plugin-datalabels/issues/32\n  afterDatasetsDraw: function (e) {\n    w.draw(e, e[h]._labels);\n  },\n  beforeEvent: function (e, t) {\n    if (e[h]._listened) {\n      var r = t.event;\n\n      switch (r.type) {\n        case \"mousemove\":\n        case \"mouseout\":\n          we(e, r);\n          break;\n\n        case \"click\":\n          ge(e, r);\n          break;\n      }\n    }\n  },\n  afterEvent: function (e) {\n    var t = e[h],\n        r = t._actives,\n        a = t._actives = e.getActiveElements(),\n        i = m.arrayDiff(r, a),\n        n,\n        o,\n        s,\n        l,\n        u,\n        v,\n        d;\n\n    for (n = 0, o = i.length; n < o; ++n) if (u = i[n], u[1]) for (d = u[0].element[h] || [], s = 0, l = d.length; s < l; ++s) v = d[s], v.$context.active = u[1] === 1, v.update(v.$context);\n\n    (t._dirty || i.length) && (w.update(t._labels), e.render()), delete t._dirty;\n  }\n};\nexport { Me as default };","map":{"version":3,"mappings":"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","names":["devicePixelRatio","window","screen","deviceXDPI","logicalXDPI","utils","toTextLines","inputs","lines","input","concat","length","pop","unshift","apply","split","Array","isArray","push","isNullOrUndef","textSize","ctx","font","items","ilen","prev","width","i","string","Math","max","measureText","height","lineHeight","bound","min","value","arrayDiff","a0","a1","slice","updates","j","v","indexOf","splice","rasterize","round","orient","point","origin","x0","x","y0","y","dx","dy","ln","sqrt","aligned","vx","vy","align","PI","cos","sin","R_INSIDE","R_LEFT","R_RIGHT","R_BOTTOM","R_TOP","region","rect","res","left","right","top","bottom","clipped","segment","area","x1","y1","r0","r1","r","compute$1","range","config","anchor","clamp","positioners","arc","el","angle","startAngle","endAngle","innerRadius","outerRadius","rx","options","radius","ry","bar","sx","sy","horizontal","base","abs","fallback","boundingRects","model","borderWidth","padding","th","size","tw","tx","ty","frame","w","h","text","getScaleOrigin","context","scale","chart","getDatasetMeta","datasetIndex","vScale","xCenter","yCenter","pixel","getBasePixel","getPositioner","ArcElement","PointElement","BarElement","drawRoundedRect","HALF_PI","moveTo","closePath","drawFrame","bgColor","backgroundColor","borderColor","beginPath","borderRadius","fillStyle","fill","strokeStyle","lineWidth","lineJoin","stroke","textGeometry","drawTextLine","cfg","shadow","shadowBlur","stroked","strokeText","filled","fillText","drawText","textAlign","color","strokeColor","textStrokeColor","strokeWidth","textStrokeWidth","textBaseline","textShadowBlur","shadowColor","textShadowColor","Label","index","me","_config","_index","_model","_rects","_ctx","_el","merge","prototype","_modelize","display","toFont","resolve","defaults$1","chartArea","clip","offset","opacity","toPadding","positioner","rotation","update","rects","label","dataset","data","valueOrDefault","callback","formatter","geometry","visible","draw","center","save","globalAlpha","translate","rotate","restore","MIN_INTEGER","Number","MIN_SAFE_INTEGER","MAX_INTEGER","MAX_SAFE_INTEGER","rotated","cx","cy","projected","points","axis","pt","dp","toAxis","p0","p1","HitBox","_rotation","_rect","contains","margin","intersects","other","_points","axes","pr0","pr1","coordinates","vs","collide","labels","collider","s0","s1","$layout","_visible","_box","compute","state","proxy","Proxy","get","p","getProps","h0","_hidable","h1","layout","prepare","datasets","jlen","_set","_idx","sort","a","b","sa","sb","dirty","lookup","keys","klen","k","isObject","Object","defaults","family","style","weight","listeners","EXPANDO_KEY","DEFAULT_KEY","configure","override","datalabels","configs","forEach","key","_key","reduce","target","each","fn","event","dispatchEvent","$context","groups","$groups","callback$1","_dirty","dispatchMoveEvents","previous","enter","leave","handleMoveEvents","expando","_listeners","type","_labels","_hovered","handleClickEvents","handlers","click","plugin","id","beforeInit","_actives","beforeUpdate","_listened","_datasets","afterDatasetUpdate","args","isDatasetVisible","elements","meta","getDataVisibility","skip","active","dataIndex","merger","source","afterUpdate","afterDatasetsDraw","beforeEvent","afterEvent","actives","getActiveElements","element","render"],"sources":["C:\\Users\\aweso\\OneDrive\\Desktop\\QuickMeds\\frontend\\node_modules\\tw-elements\\node_modules\\chartjs-plugin-datalabels\\dist\\chartjs-plugin-datalabels.esm.js"],"sourcesContent":["/*!\n * chartjs-plugin-datalabels v2.2.0\n * https://chartjs-plugin-datalabels.netlify.app\n * (c) 2017-2022 chartjs-plugin-datalabels contributors\n * Released under the MIT license\n */\nimport { isNullOrUndef, merge, toFont, resolve, toPadding, valueOrDefault, callback, isObject, each } from 'chart.js/helpers';\nimport { defaults as defaults$1, ArcElement, PointElement, BarElement } from 'chart.js';\n\nvar devicePixelRatio = (function() {\n  if (typeof window !== 'undefined') {\n    if (window.devicePixelRatio) {\n      return window.devicePixelRatio;\n    }\n\n    // devicePixelRatio is undefined on IE10\n    // https://stackoverflow.com/a/20204180/8837887\n    // https://github.com/chartjs/chartjs-plugin-datalabels/issues/85\n    var screen = window.screen;\n    if (screen) {\n      return (screen.deviceXDPI || 1) / (screen.logicalXDPI || 1);\n    }\n  }\n\n  return 1;\n}());\n\nvar utils = {\n  // @todo move this in Chart.helpers.toTextLines\n  toTextLines: function(inputs) {\n    var lines = [];\n    var input;\n\n    inputs = [].concat(inputs);\n    while (inputs.length) {\n      input = inputs.pop();\n      if (typeof input === 'string') {\n        lines.unshift.apply(lines, input.split('\\n'));\n      } else if (Array.isArray(input)) {\n        inputs.push.apply(inputs, input);\n      } else if (!isNullOrUndef(inputs)) {\n        lines.unshift('' + input);\n      }\n    }\n\n    return lines;\n  },\n\n  // @todo move this in Chart.helpers.canvas.textSize\n  // @todo cache calls of measureText if font doesn't change?!\n  textSize: function(ctx, lines, font) {\n    var items = [].concat(lines);\n    var ilen = items.length;\n    var prev = ctx.font;\n    var width = 0;\n    var i;\n\n    ctx.font = font.string;\n\n    for (i = 0; i < ilen; ++i) {\n      width = Math.max(ctx.measureText(items[i]).width, width);\n    }\n\n    ctx.font = prev;\n\n    return {\n      height: ilen * font.lineHeight,\n      width: width\n    };\n  },\n\n  /**\n   * Returns value bounded by min and max. This is equivalent to max(min, min(value, max)).\n   * @todo move this method in Chart.helpers.bound\n   * https://doc.qt.io/qt-5/qtglobal.html#qBound\n   */\n  bound: function(min, value, max) {\n    return Math.max(min, Math.min(value, max));\n  },\n\n  /**\n   * Returns an array of pair [value, state] where state is:\n   * * -1: value is only in a0 (removed)\n   * *  1: value is only in a1 (added)\n   */\n  arrayDiff: function(a0, a1) {\n    var prev = a0.slice();\n    var updates = [];\n    var i, j, ilen, v;\n\n    for (i = 0, ilen = a1.length; i < ilen; ++i) {\n      v = a1[i];\n      j = prev.indexOf(v);\n\n      if (j === -1) {\n        updates.push([v, 1]);\n      } else {\n        prev.splice(j, 1);\n      }\n    }\n\n    for (i = 0, ilen = prev.length; i < ilen; ++i) {\n      updates.push([prev[i], -1]);\n    }\n\n    return updates;\n  },\n\n  /**\n   * https://github.com/chartjs/chartjs-plugin-datalabels/issues/70\n   */\n  rasterize: function(v) {\n    return Math.round(v * devicePixelRatio) / devicePixelRatio;\n  }\n};\n\nfunction orient(point, origin) {\n  var x0 = origin.x;\n  var y0 = origin.y;\n\n  if (x0 === null) {\n    return {x: 0, y: -1};\n  }\n  if (y0 === null) {\n    return {x: 1, y: 0};\n  }\n\n  var dx = point.x - x0;\n  var dy = point.y - y0;\n  var ln = Math.sqrt(dx * dx + dy * dy);\n\n  return {\n    x: ln ? dx / ln : 0,\n    y: ln ? dy / ln : -1\n  };\n}\n\nfunction aligned(x, y, vx, vy, align) {\n  switch (align) {\n  case 'center':\n    vx = vy = 0;\n    break;\n  case 'bottom':\n    vx = 0;\n    vy = 1;\n    break;\n  case 'right':\n    vx = 1;\n    vy = 0;\n    break;\n  case 'left':\n    vx = -1;\n    vy = 0;\n    break;\n  case 'top':\n    vx = 0;\n    vy = -1;\n    break;\n  case 'start':\n    vx = -vx;\n    vy = -vy;\n    break;\n  case 'end':\n    // keep natural orientation\n    break;\n  default:\n    // clockwise rotation (in degree)\n    align *= (Math.PI / 180);\n    vx = Math.cos(align);\n    vy = Math.sin(align);\n    break;\n  }\n\n  return {\n    x: x,\n    y: y,\n    vx: vx,\n    vy: vy\n  };\n}\n\n// Line clipping (CohenSutherland algorithm)\n// https://en.wikipedia.org/wiki/CohenSutherland_algorithm\n\nvar R_INSIDE = 0;\nvar R_LEFT = 1;\nvar R_RIGHT = 2;\nvar R_BOTTOM = 4;\nvar R_TOP = 8;\n\nfunction region(x, y, rect) {\n  var res = R_INSIDE;\n\n  if (x < rect.left) {\n    res |= R_LEFT;\n  } else if (x > rect.right) {\n    res |= R_RIGHT;\n  }\n  if (y < rect.top) {\n    res |= R_TOP;\n  } else if (y > rect.bottom) {\n    res |= R_BOTTOM;\n  }\n\n  return res;\n}\n\nfunction clipped(segment, area) {\n  var x0 = segment.x0;\n  var y0 = segment.y0;\n  var x1 = segment.x1;\n  var y1 = segment.y1;\n  var r0 = region(x0, y0, area);\n  var r1 = region(x1, y1, area);\n  var r, x, y;\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    if (!(r0 | r1) || (r0 & r1)) {\n      // both points inside or on the same side: no clipping\n      break;\n    }\n\n    // at least one point is outside\n    r = r0 || r1;\n\n    if (r & R_TOP) {\n      x = x0 + (x1 - x0) * (area.top - y0) / (y1 - y0);\n      y = area.top;\n    } else if (r & R_BOTTOM) {\n      x = x0 + (x1 - x0) * (area.bottom - y0) / (y1 - y0);\n      y = area.bottom;\n    } else if (r & R_RIGHT) {\n      y = y0 + (y1 - y0) * (area.right - x0) / (x1 - x0);\n      x = area.right;\n    } else if (r & R_LEFT) {\n      y = y0 + (y1 - y0) * (area.left - x0) / (x1 - x0);\n      x = area.left;\n    }\n\n    if (r === r0) {\n      x0 = x;\n      y0 = y;\n      r0 = region(x0, y0, area);\n    } else {\n      x1 = x;\n      y1 = y;\n      r1 = region(x1, y1, area);\n    }\n  }\n\n  return {\n    x0: x0,\n    x1: x1,\n    y0: y0,\n    y1: y1\n  };\n}\n\nfunction compute$1(range, config) {\n  var anchor = config.anchor;\n  var segment = range;\n  var x, y;\n\n  if (config.clamp) {\n    segment = clipped(segment, config.area);\n  }\n\n  if (anchor === 'start') {\n    x = segment.x0;\n    y = segment.y0;\n  } else if (anchor === 'end') {\n    x = segment.x1;\n    y = segment.y1;\n  } else {\n    x = (segment.x0 + segment.x1) / 2;\n    y = (segment.y0 + segment.y1) / 2;\n  }\n\n  return aligned(x, y, range.vx, range.vy, config.align);\n}\n\nvar positioners = {\n  arc: function(el, config) {\n    var angle = (el.startAngle + el.endAngle) / 2;\n    var vx = Math.cos(angle);\n    var vy = Math.sin(angle);\n    var r0 = el.innerRadius;\n    var r1 = el.outerRadius;\n\n    return compute$1({\n      x0: el.x + vx * r0,\n      y0: el.y + vy * r0,\n      x1: el.x + vx * r1,\n      y1: el.y + vy * r1,\n      vx: vx,\n      vy: vy\n    }, config);\n  },\n\n  point: function(el, config) {\n    var v = orient(el, config.origin);\n    var rx = v.x * el.options.radius;\n    var ry = v.y * el.options.radius;\n\n    return compute$1({\n      x0: el.x - rx,\n      y0: el.y - ry,\n      x1: el.x + rx,\n      y1: el.y + ry,\n      vx: v.x,\n      vy: v.y\n    }, config);\n  },\n\n  bar: function(el, config) {\n    var v = orient(el, config.origin);\n    var x = el.x;\n    var y = el.y;\n    var sx = 0;\n    var sy = 0;\n\n    if (el.horizontal) {\n      x = Math.min(el.x, el.base);\n      sx = Math.abs(el.base - el.x);\n    } else {\n      y = Math.min(el.y, el.base);\n      sy = Math.abs(el.base - el.y);\n    }\n\n    return compute$1({\n      x0: x,\n      y0: y + sy,\n      x1: x + sx,\n      y1: y,\n      vx: v.x,\n      vy: v.y\n    }, config);\n  },\n\n  fallback: function(el, config) {\n    var v = orient(el, config.origin);\n\n    return compute$1({\n      x0: el.x,\n      y0: el.y,\n      x1: el.x + (el.width || 0),\n      y1: el.y + (el.height || 0),\n      vx: v.x,\n      vy: v.y\n    }, config);\n  }\n};\n\nvar rasterize = utils.rasterize;\n\nfunction boundingRects(model) {\n  var borderWidth = model.borderWidth || 0;\n  var padding = model.padding;\n  var th = model.size.height;\n  var tw = model.size.width;\n  var tx = -tw / 2;\n  var ty = -th / 2;\n\n  return {\n    frame: {\n      x: tx - padding.left - borderWidth,\n      y: ty - padding.top - borderWidth,\n      w: tw + padding.width + borderWidth * 2,\n      h: th + padding.height + borderWidth * 2\n    },\n    text: {\n      x: tx,\n      y: ty,\n      w: tw,\n      h: th\n    }\n  };\n}\n\nfunction getScaleOrigin(el, context) {\n  var scale = context.chart.getDatasetMeta(context.datasetIndex).vScale;\n\n  if (!scale) {\n    return null;\n  }\n\n  if (scale.xCenter !== undefined && scale.yCenter !== undefined) {\n    return {x: scale.xCenter, y: scale.yCenter};\n  }\n\n  var pixel = scale.getBasePixel();\n  return el.horizontal ?\n    {x: pixel, y: null} :\n    {x: null, y: pixel};\n}\n\nfunction getPositioner(el) {\n  if (el instanceof ArcElement) {\n    return positioners.arc;\n  }\n  if (el instanceof PointElement) {\n    return positioners.point;\n  }\n  if (el instanceof BarElement) {\n    return positioners.bar;\n  }\n  return positioners.fallback;\n}\n\nfunction drawRoundedRect(ctx, x, y, w, h, radius) {\n  var HALF_PI = Math.PI / 2;\n\n  if (radius) {\n    var r = Math.min(radius, h / 2, w / 2);\n    var left = x + r;\n    var top = y + r;\n    var right = x + w - r;\n    var bottom = y + h - r;\n\n    ctx.moveTo(x, top);\n    if (left < right && top < bottom) {\n      ctx.arc(left, top, r, -Math.PI, -HALF_PI);\n      ctx.arc(right, top, r, -HALF_PI, 0);\n      ctx.arc(right, bottom, r, 0, HALF_PI);\n      ctx.arc(left, bottom, r, HALF_PI, Math.PI);\n    } else if (left < right) {\n      ctx.moveTo(left, y);\n      ctx.arc(right, top, r, -HALF_PI, HALF_PI);\n      ctx.arc(left, top, r, HALF_PI, Math.PI + HALF_PI);\n    } else if (top < bottom) {\n      ctx.arc(left, top, r, -Math.PI, 0);\n      ctx.arc(left, bottom, r, 0, Math.PI);\n    } else {\n      ctx.arc(left, top, r, -Math.PI, Math.PI);\n    }\n    ctx.closePath();\n    ctx.moveTo(x, y);\n  } else {\n    ctx.rect(x, y, w, h);\n  }\n}\n\nfunction drawFrame(ctx, rect, model) {\n  var bgColor = model.backgroundColor;\n  var borderColor = model.borderColor;\n  var borderWidth = model.borderWidth;\n\n  if (!bgColor && (!borderColor || !borderWidth)) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  drawRoundedRect(\n    ctx,\n    rasterize(rect.x) + borderWidth / 2,\n    rasterize(rect.y) + borderWidth / 2,\n    rasterize(rect.w) - borderWidth,\n    rasterize(rect.h) - borderWidth,\n    model.borderRadius);\n\n  ctx.closePath();\n\n  if (bgColor) {\n    ctx.fillStyle = bgColor;\n    ctx.fill();\n  }\n\n  if (borderColor && borderWidth) {\n    ctx.strokeStyle = borderColor;\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = 'miter';\n    ctx.stroke();\n  }\n}\n\nfunction textGeometry(rect, align, font) {\n  var h = font.lineHeight;\n  var w = rect.w;\n  var x = rect.x;\n  var y = rect.y + h / 2;\n\n  if (align === 'center') {\n    x += w / 2;\n  } else if (align === 'end' || align === 'right') {\n    x += w;\n  }\n\n  return {\n    h: h,\n    w: w,\n    x: x,\n    y: y\n  };\n}\n\nfunction drawTextLine(ctx, text, cfg) {\n  var shadow = ctx.shadowBlur;\n  var stroked = cfg.stroked;\n  var x = rasterize(cfg.x);\n  var y = rasterize(cfg.y);\n  var w = rasterize(cfg.w);\n\n  if (stroked) {\n    ctx.strokeText(text, x, y, w);\n  }\n\n  if (cfg.filled) {\n    if (shadow && stroked) {\n      // Prevent drawing shadow on both the text stroke and fill, so\n      // if the text is stroked, remove the shadow for the text fill.\n      ctx.shadowBlur = 0;\n    }\n\n    ctx.fillText(text, x, y, w);\n\n    if (shadow && stroked) {\n      ctx.shadowBlur = shadow;\n    }\n  }\n}\n\nfunction drawText(ctx, lines, rect, model) {\n  var align = model.textAlign;\n  var color = model.color;\n  var filled = !!color;\n  var font = model.font;\n  var ilen = lines.length;\n  var strokeColor = model.textStrokeColor;\n  var strokeWidth = model.textStrokeWidth;\n  var stroked = strokeColor && strokeWidth;\n  var i;\n\n  if (!ilen || (!filled && !stroked)) {\n    return;\n  }\n\n  // Adjust coordinates based on text alignment and line height\n  rect = textGeometry(rect, align, font);\n\n  ctx.font = font.string;\n  ctx.textAlign = align;\n  ctx.textBaseline = 'middle';\n  ctx.shadowBlur = model.textShadowBlur;\n  ctx.shadowColor = model.textShadowColor;\n\n  if (filled) {\n    ctx.fillStyle = color;\n  }\n  if (stroked) {\n    ctx.lineJoin = 'round';\n    ctx.lineWidth = strokeWidth;\n    ctx.strokeStyle = strokeColor;\n  }\n\n  for (i = 0, ilen = lines.length; i < ilen; ++i) {\n    drawTextLine(ctx, lines[i], {\n      stroked: stroked,\n      filled: filled,\n      w: rect.w,\n      x: rect.x,\n      y: rect.y + rect.h * i\n    });\n  }\n}\n\nvar Label = function(config, ctx, el, index) {\n  var me = this;\n\n  me._config = config;\n  me._index = index;\n  me._model = null;\n  me._rects = null;\n  me._ctx = ctx;\n  me._el = el;\n};\n\nmerge(Label.prototype, {\n  /**\n   * @private\n   */\n  _modelize: function(display, lines, config, context) {\n    var me = this;\n    var index = me._index;\n    var font = toFont(resolve([config.font, {}], context, index));\n    var color = resolve([config.color, defaults$1.color], context, index);\n\n    return {\n      align: resolve([config.align, 'center'], context, index),\n      anchor: resolve([config.anchor, 'center'], context, index),\n      area: context.chart.chartArea,\n      backgroundColor: resolve([config.backgroundColor, null], context, index),\n      borderColor: resolve([config.borderColor, null], context, index),\n      borderRadius: resolve([config.borderRadius, 0], context, index),\n      borderWidth: resolve([config.borderWidth, 0], context, index),\n      clamp: resolve([config.clamp, false], context, index),\n      clip: resolve([config.clip, false], context, index),\n      color: color,\n      display: display,\n      font: font,\n      lines: lines,\n      offset: resolve([config.offset, 4], context, index),\n      opacity: resolve([config.opacity, 1], context, index),\n      origin: getScaleOrigin(me._el, context),\n      padding: toPadding(resolve([config.padding, 4], context, index)),\n      positioner: getPositioner(me._el),\n      rotation: resolve([config.rotation, 0], context, index) * (Math.PI / 180),\n      size: utils.textSize(me._ctx, lines, font),\n      textAlign: resolve([config.textAlign, 'start'], context, index),\n      textShadowBlur: resolve([config.textShadowBlur, 0], context, index),\n      textShadowColor: resolve([config.textShadowColor, color], context, index),\n      textStrokeColor: resolve([config.textStrokeColor, color], context, index),\n      textStrokeWidth: resolve([config.textStrokeWidth, 0], context, index)\n    };\n  },\n\n  update: function(context) {\n    var me = this;\n    var model = null;\n    var rects = null;\n    var index = me._index;\n    var config = me._config;\n    var value, label, lines;\n\n    // We first resolve the display option (separately) to avoid computing\n    // other options in case the label is hidden (i.e. display: false).\n    var display = resolve([config.display, true], context, index);\n\n    if (display) {\n      value = context.dataset.data[index];\n      label = valueOrDefault(callback(config.formatter, [value, context]), value);\n      lines = isNullOrUndef(label) ? [] : utils.toTextLines(label);\n\n      if (lines.length) {\n        model = me._modelize(display, lines, config, context);\n        rects = boundingRects(model);\n      }\n    }\n\n    me._model = model;\n    me._rects = rects;\n  },\n\n  geometry: function() {\n    return this._rects ? this._rects.frame : {};\n  },\n\n  rotation: function() {\n    return this._model ? this._model.rotation : 0;\n  },\n\n  visible: function() {\n    return this._model && this._model.opacity;\n  },\n\n  model: function() {\n    return this._model;\n  },\n\n  draw: function(chart, center) {\n    var me = this;\n    var ctx = chart.ctx;\n    var model = me._model;\n    var rects = me._rects;\n    var area;\n\n    if (!this.visible()) {\n      return;\n    }\n\n    ctx.save();\n\n    if (model.clip) {\n      area = model.area;\n      ctx.beginPath();\n      ctx.rect(\n        area.left,\n        area.top,\n        area.right - area.left,\n        area.bottom - area.top);\n      ctx.clip();\n    }\n\n    ctx.globalAlpha = utils.bound(0, model.opacity, 1);\n    ctx.translate(rasterize(center.x), rasterize(center.y));\n    ctx.rotate(model.rotation);\n\n    drawFrame(ctx, rects.frame, model);\n    drawText(ctx, model.lines, rects.text, model);\n\n    ctx.restore();\n  }\n});\n\nvar MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991; // eslint-disable-line es/no-number-minsafeinteger\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;  // eslint-disable-line es/no-number-maxsafeinteger\n\nfunction rotated(point, center, angle) {\n  var cos = Math.cos(angle);\n  var sin = Math.sin(angle);\n  var cx = center.x;\n  var cy = center.y;\n\n  return {\n    x: cx + cos * (point.x - cx) - sin * (point.y - cy),\n    y: cy + sin * (point.x - cx) + cos * (point.y - cy)\n  };\n}\n\nfunction projected(points, axis) {\n  var min = MAX_INTEGER;\n  var max = MIN_INTEGER;\n  var origin = axis.origin;\n  var i, pt, vx, vy, dp;\n\n  for (i = 0; i < points.length; ++i) {\n    pt = points[i];\n    vx = pt.x - origin.x;\n    vy = pt.y - origin.y;\n    dp = axis.vx * vx + axis.vy * vy;\n    min = Math.min(min, dp);\n    max = Math.max(max, dp);\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n}\n\nfunction toAxis(p0, p1) {\n  var vx = p1.x - p0.x;\n  var vy = p1.y - p0.y;\n  var ln = Math.sqrt(vx * vx + vy * vy);\n\n  return {\n    vx: (p1.x - p0.x) / ln,\n    vy: (p1.y - p0.y) / ln,\n    origin: p0,\n    ln: ln\n  };\n}\n\nvar HitBox = function() {\n  this._rotation = 0;\n  this._rect = {\n    x: 0,\n    y: 0,\n    w: 0,\n    h: 0\n  };\n};\n\nmerge(HitBox.prototype, {\n  center: function() {\n    var r = this._rect;\n    return {\n      x: r.x + r.w / 2,\n      y: r.y + r.h / 2\n    };\n  },\n\n  update: function(center, rect, rotation) {\n    this._rotation = rotation;\n    this._rect = {\n      x: rect.x + center.x,\n      y: rect.y + center.y,\n      w: rect.w,\n      h: rect.h\n    };\n  },\n\n  contains: function(point) {\n    var me = this;\n    var margin = 1;\n    var rect = me._rect;\n\n    point = rotated(point, me.center(), -me._rotation);\n\n    return !(point.x < rect.x - margin\n      || point.y < rect.y - margin\n      || point.x > rect.x + rect.w + margin * 2\n      || point.y > rect.y + rect.h + margin * 2);\n  },\n\n  // Separating Axis Theorem\n  // https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169\n  intersects: function(other) {\n    var r0 = this._points();\n    var r1 = other._points();\n    var axes = [\n      toAxis(r0[0], r0[1]),\n      toAxis(r0[0], r0[3])\n    ];\n    var i, pr0, pr1;\n\n    if (this._rotation !== other._rotation) {\n      // Only separate with r1 axis if the rotation is different,\n      // else it's enough to separate r0 and r1 with r0 axis only!\n      axes.push(\n        toAxis(r1[0], r1[1]),\n        toAxis(r1[0], r1[3])\n      );\n    }\n\n    for (i = 0; i < axes.length; ++i) {\n      pr0 = projected(r0, axes[i]);\n      pr1 = projected(r1, axes[i]);\n\n      if (pr0.max < pr1.min || pr1.max < pr0.min) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  /**\n   * @private\n   */\n  _points: function() {\n    var me = this;\n    var rect = me._rect;\n    var angle = me._rotation;\n    var center = me.center();\n\n    return [\n      rotated({x: rect.x, y: rect.y}, center, angle),\n      rotated({x: rect.x + rect.w, y: rect.y}, center, angle),\n      rotated({x: rect.x + rect.w, y: rect.y + rect.h}, center, angle),\n      rotated({x: rect.x, y: rect.y + rect.h}, center, angle)\n    ];\n  }\n});\n\nfunction coordinates(el, model, geometry) {\n  var point = model.positioner(el, model);\n  var vx = point.vx;\n  var vy = point.vy;\n\n  if (!vx && !vy) {\n    // if aligned center, we don't want to offset the center point\n    return {x: point.x, y: point.y};\n  }\n\n  var w = geometry.w;\n  var h = geometry.h;\n\n  // take in account the label rotation\n  var rotation = model.rotation;\n  var dx = Math.abs(w / 2 * Math.cos(rotation)) + Math.abs(h / 2 * Math.sin(rotation));\n  var dy = Math.abs(w / 2 * Math.sin(rotation)) + Math.abs(h / 2 * Math.cos(rotation));\n\n  // scale the unit vector (vx, vy) to get at least dx or dy equal to\n  // w or h respectively (else we would calculate the distance to the\n  // ellipse inscribed in the bounding rect)\n  var vs = 1 / Math.max(Math.abs(vx), Math.abs(vy));\n  dx *= vx * vs;\n  dy *= vy * vs;\n\n  // finally, include the explicit offset\n  dx += model.offset * vx;\n  dy += model.offset * vy;\n\n  return {\n    x: point.x + dx,\n    y: point.y + dy\n  };\n}\n\nfunction collide(labels, collider) {\n  var i, j, s0, s1;\n\n  // IMPORTANT Iterate in the reverse order since items at the end of the\n  // list have an higher weight/priority and thus should be less impacted\n  // by the overlapping strategy.\n\n  for (i = labels.length - 1; i >= 0; --i) {\n    s0 = labels[i].$layout;\n\n    for (j = i - 1; j >= 0 && s0._visible; --j) {\n      s1 = labels[j].$layout;\n\n      if (s1._visible && s0._box.intersects(s1._box)) {\n        collider(s0, s1);\n      }\n    }\n  }\n\n  return labels;\n}\n\nfunction compute(labels) {\n  var i, ilen, label, state, geometry, center, proxy;\n\n  // Initialize labels for overlap detection\n  for (i = 0, ilen = labels.length; i < ilen; ++i) {\n    label = labels[i];\n    state = label.$layout;\n\n    if (state._visible) {\n      // Chart.js 3 removed el._model in favor of getProps(), making harder to\n      // abstract reading values in positioners. Also, using string arrays to\n      // read values (i.e. var {a,b,c} = el.getProps([\"a\",\"b\",\"c\"])) would make\n      // positioners inefficient in the normal case (i.e. not the final values)\n      // and the code a bit ugly, so let's use a Proxy instead.\n      proxy = new Proxy(label._el, {get: (el, p) => el.getProps([p], true)[p]});\n\n      geometry = label.geometry();\n      center = coordinates(proxy, label.model(), geometry);\n      state._box.update(center, geometry, label.rotation());\n    }\n  }\n\n  // Auto hide overlapping labels\n  return collide(labels, function(s0, s1) {\n    var h0 = s0._hidable;\n    var h1 = s1._hidable;\n\n    if ((h0 && h1) || h1) {\n      s1._visible = false;\n    } else if (h0) {\n      s0._visible = false;\n    }\n  });\n}\n\nvar layout = {\n  prepare: function(datasets) {\n    var labels = [];\n    var i, j, ilen, jlen, label;\n\n    for (i = 0, ilen = datasets.length; i < ilen; ++i) {\n      for (j = 0, jlen = datasets[i].length; j < jlen; ++j) {\n        label = datasets[i][j];\n        labels.push(label);\n        label.$layout = {\n          _box: new HitBox(),\n          _hidable: false,\n          _visible: true,\n          _set: i,\n          _idx: label._index\n        };\n      }\n    }\n\n    // TODO New `z` option: labels with a higher z-index are drawn\n    // of top of the ones with a lower index. Lowest z-index labels\n    // are also discarded first when hiding overlapping labels.\n    labels.sort(function(a, b) {\n      var sa = a.$layout;\n      var sb = b.$layout;\n\n      return sa._idx === sb._idx\n        ? sb._set - sa._set\n        : sb._idx - sa._idx;\n    });\n\n    this.update(labels);\n\n    return labels;\n  },\n\n  update: function(labels) {\n    var dirty = false;\n    var i, ilen, label, model, state;\n\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      label = labels[i];\n      model = label.model();\n      state = label.$layout;\n      state._hidable = model && model.display === 'auto';\n      state._visible = label.visible();\n      dirty |= state._hidable;\n    }\n\n    if (dirty) {\n      compute(labels);\n    }\n  },\n\n  lookup: function(labels, point) {\n    var i, state;\n\n    // IMPORTANT Iterate in the reverse order since items at the end of\n    // the list have an higher z-index, thus should be picked first.\n\n    for (i = labels.length - 1; i >= 0; --i) {\n      state = labels[i].$layout;\n\n      if (state && state._visible && state._box.contains(point)) {\n        return labels[i];\n      }\n    }\n\n    return null;\n  },\n\n  draw: function(chart, labels) {\n    var i, ilen, label, state, geometry, center;\n\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      label = labels[i];\n      state = label.$layout;\n\n      if (state._visible) {\n        geometry = label.geometry();\n        center = coordinates(label._el, label.model(), geometry);\n        state._box.update(center, geometry, label.rotation());\n        label.draw(chart, center);\n      }\n    }\n  }\n};\n\nvar formatter = function(value) {\n  if (isNullOrUndef(value)) {\n    return null;\n  }\n\n  var label = value;\n  var keys, klen, k;\n  if (isObject(value)) {\n    if (!isNullOrUndef(value.label)) {\n      label = value.label;\n    } else if (!isNullOrUndef(value.r)) {\n      label = value.r;\n    } else {\n      label = '';\n      keys = Object.keys(value);\n      for (k = 0, klen = keys.length; k < klen; ++k) {\n        label += (k !== 0 ? ', ' : '') + keys[k] + ': ' + value[keys[k]];\n      }\n    }\n  }\n\n  return '' + label;\n};\n\n/**\n * IMPORTANT: make sure to also update tests and TypeScript definition\n * files (`/test/specs/defaults.spec.js` and `/types/options.d.ts`)\n */\n\nvar defaults = {\n  align: 'center',\n  anchor: 'center',\n  backgroundColor: null,\n  borderColor: null,\n  borderRadius: 0,\n  borderWidth: 0,\n  clamp: false,\n  clip: false,\n  color: undefined,\n  display: true,\n  font: {\n    family: undefined,\n    lineHeight: 1.2,\n    size: undefined,\n    style: undefined,\n    weight: null\n  },\n  formatter: formatter,\n  labels: undefined,\n  listeners: {},\n  offset: 4,\n  opacity: 1,\n  padding: {\n    top: 4,\n    right: 4,\n    bottom: 4,\n    left: 4\n  },\n  rotation: 0,\n  textAlign: 'start',\n  textStrokeColor: undefined,\n  textStrokeWidth: 0,\n  textShadowBlur: 0,\n  textShadowColor: undefined\n};\n\n/**\n * @see https://github.com/chartjs/Chart.js/issues/4176\n */\n\nvar EXPANDO_KEY = '$datalabels';\nvar DEFAULT_KEY = '$default';\n\nfunction configure(dataset, options) {\n  var override = dataset.datalabels;\n  var listeners = {};\n  var configs = [];\n  var labels, keys;\n\n  if (override === false) {\n    return null;\n  }\n  if (override === true) {\n    override = {};\n  }\n\n  options = merge({}, [options, override]);\n  labels = options.labels || {};\n  keys = Object.keys(labels);\n  delete options.labels;\n\n  if (keys.length) {\n    keys.forEach(function(key) {\n      if (labels[key]) {\n        configs.push(merge({}, [\n          options,\n          labels[key],\n          {_key: key}\n        ]));\n      }\n    });\n  } else {\n    // Default label if no \"named\" label defined.\n    configs.push(options);\n  }\n\n  // listeners: {<event-type>: {<label-key>: <fn>}}\n  listeners = configs.reduce(function(target, config) {\n    each(config.listeners || {}, function(fn, event) {\n      target[event] = target[event] || {};\n      target[event][config._key || DEFAULT_KEY] = fn;\n    });\n\n    delete config.listeners;\n    return target;\n  }, {});\n\n  return {\n    labels: configs,\n    listeners: listeners\n  };\n}\n\nfunction dispatchEvent(chart, listeners, label, event) {\n  if (!listeners) {\n    return;\n  }\n\n  var context = label.$context;\n  var groups = label.$groups;\n  var callback$1;\n\n  if (!listeners[groups._set]) {\n    return;\n  }\n\n  callback$1 = listeners[groups._set][groups._key];\n  if (!callback$1) {\n    return;\n  }\n\n  if (callback(callback$1, [context, event]) === true) {\n    // Users are allowed to tweak the given context by injecting values that can be\n    // used in scriptable options to display labels differently based on the current\n    // event (e.g. highlight an hovered label). That's why we update the label with\n    // the output context and schedule a new chart render by setting it dirty.\n    chart[EXPANDO_KEY]._dirty = true;\n    label.update(context);\n  }\n}\n\nfunction dispatchMoveEvents(chart, listeners, previous, label, event) {\n  var enter, leave;\n\n  if (!previous && !label) {\n    return;\n  }\n\n  if (!previous) {\n    enter = true;\n  } else if (!label) {\n    leave = true;\n  } else if (previous !== label) {\n    leave = enter = true;\n  }\n\n  if (leave) {\n    dispatchEvent(chart, listeners.leave, previous, event);\n  }\n  if (enter) {\n    dispatchEvent(chart, listeners.enter, label, event);\n  }\n}\n\nfunction handleMoveEvents(chart, event) {\n  var expando = chart[EXPANDO_KEY];\n  var listeners = expando._listeners;\n  var previous, label;\n\n  if (!listeners.enter && !listeners.leave) {\n    return;\n  }\n\n  if (event.type === 'mousemove') {\n    label = layout.lookup(expando._labels, event);\n  } else if (event.type !== 'mouseout') {\n    return;\n  }\n\n  previous = expando._hovered;\n  expando._hovered = label;\n  dispatchMoveEvents(chart, listeners, previous, label, event);\n}\n\nfunction handleClickEvents(chart, event) {\n  var expando = chart[EXPANDO_KEY];\n  var handlers = expando._listeners.click;\n  var label = handlers && layout.lookup(expando._labels, event);\n  if (label) {\n    dispatchEvent(chart, handlers, label, event);\n  }\n}\n\nvar plugin = {\n  id: 'datalabels',\n\n  defaults: defaults,\n\n  beforeInit: function(chart) {\n    chart[EXPANDO_KEY] = {\n      _actives: []\n    };\n  },\n\n  beforeUpdate: function(chart) {\n    var expando = chart[EXPANDO_KEY];\n    expando._listened = false;\n    expando._listeners = {};     // {<event-type>: {<dataset-index>: {<label-key>: <fn>}}}\n    expando._datasets = [];      // per dataset labels: [Label[]]\n    expando._labels = [];        // layouted labels: Label[]\n  },\n\n  afterDatasetUpdate: function(chart, args, options) {\n    var datasetIndex = args.index;\n    var expando = chart[EXPANDO_KEY];\n    var labels = expando._datasets[datasetIndex] = [];\n    var visible = chart.isDatasetVisible(datasetIndex);\n    var dataset = chart.data.datasets[datasetIndex];\n    var config = configure(dataset, options);\n    var elements = args.meta.data || [];\n    var ctx = chart.ctx;\n    var i, j, ilen, jlen, cfg, key, el, label;\n\n    ctx.save();\n\n    for (i = 0, ilen = elements.length; i < ilen; ++i) {\n      el = elements[i];\n      el[EXPANDO_KEY] = [];\n\n      if (visible && el && chart.getDataVisibility(i) && !el.skip) {\n        for (j = 0, jlen = config.labels.length; j < jlen; ++j) {\n          cfg = config.labels[j];\n          key = cfg._key;\n\n          label = new Label(cfg, ctx, el, i);\n          label.$groups = {\n            _set: datasetIndex,\n            _key: key || DEFAULT_KEY\n          };\n          label.$context = {\n            active: false,\n            chart: chart,\n            dataIndex: i,\n            dataset: dataset,\n            datasetIndex: datasetIndex\n          };\n\n          label.update(label.$context);\n          el[EXPANDO_KEY].push(label);\n          labels.push(label);\n        }\n      }\n    }\n\n    ctx.restore();\n\n    // Store listeners at the chart level and per event type to optimize\n    // cases where no listeners are registered for a specific event.\n    merge(expando._listeners, config.listeners, {\n      merger: function(event, target, source) {\n        target[event] = target[event] || {};\n        target[event][args.index] = source[event];\n        expando._listened = true;\n      }\n    });\n  },\n\n  afterUpdate: function(chart) {\n    chart[EXPANDO_KEY]._labels = layout.prepare(chart[EXPANDO_KEY]._datasets);\n  },\n\n  // Draw labels on top of all dataset elements\n  // https://github.com/chartjs/chartjs-plugin-datalabels/issues/29\n  // https://github.com/chartjs/chartjs-plugin-datalabels/issues/32\n  afterDatasetsDraw: function(chart) {\n    layout.draw(chart, chart[EXPANDO_KEY]._labels);\n  },\n\n  beforeEvent: function(chart, args) {\n    // If there is no listener registered for this chart, `listened` will be false,\n    // meaning we can immediately ignore the incoming event and avoid useless extra\n    // computation for users who don't implement label interactions.\n    if (chart[EXPANDO_KEY]._listened) {\n      var event = args.event;\n      switch (event.type) {\n      case 'mousemove':\n      case 'mouseout':\n        handleMoveEvents(chart, event);\n        break;\n      case 'click':\n        handleClickEvents(chart, event);\n        break;\n      }\n    }\n  },\n\n  afterEvent: function(chart) {\n    var expando = chart[EXPANDO_KEY];\n    var previous = expando._actives;\n    var actives = expando._actives = chart.getActiveElements();\n    var updates = utils.arrayDiff(previous, actives);\n    var i, ilen, j, jlen, update, label, labels;\n\n    for (i = 0, ilen = updates.length; i < ilen; ++i) {\n      update = updates[i];\n      if (update[1]) {\n        labels = update[0].element[EXPANDO_KEY] || [];\n        for (j = 0, jlen = labels.length; j < jlen; ++j) {\n          label = labels[j];\n          label.$context.active = (update[1] === 1);\n          label.update(label.$context);\n        }\n      }\n    }\n\n    if (expando._dirty || updates.length) {\n      layout.update(expando._labels);\n      chart.render();\n    }\n\n    delete expando._dirty;\n  }\n};\n\nexport { plugin as default };\n"]},"metadata":{},"sourceType":"module"}