{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aweso\\\\OneDrive\\\\Desktop\\\\QuickMeds\\\\frontend\\\\src\\\\components\\\\buttons\\\\DeleteButton.js\";\nimport React from 'react';\nimport { RiDeleteBin6Fill } from 'react-icons/ri';\nimport { toast } from 'react-toastify';\nimport DeleteModal from '../modals/DeleteModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DeleteButton = _ref => {\n  let {\n    deleteApiLink,\n    itemId,\n    name,\n    onDelete\n  } = _ref;\n\n  const deleteItem = () => {\n    fetch(deleteApiLink, {\n      method: 'DELETE'\n    }).then(res => {\n      if (!res.ok) {\n        throw new Error(`HTTP error! Status: ${res.status}`);\n      }\n\n      return res.json();\n    }).then(data => {\n      // Check for the message property in the response\n      if (data.message && data.message.includes('deleted successfully')) {\n        toast( /*#__PURE__*/_jsxDEV(DeleteModal, {\n          name: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 25\n        }, this)); // Call the onDelete callback if provided\n\n        if (onDelete && typeof onDelete === 'function') {\n          onDelete();\n        }\n      } else if (data.deletedCount > 0) {\n        // For backward compatibility\n        toast( /*#__PURE__*/_jsxDEV(DeleteModal, {\n          name: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 25\n        }, this)); // Call the onDelete callback if provided\n\n        if (onDelete && typeof onDelete === 'function') {\n          onDelete();\n        }\n      } else {\n        toast.error(`Failed to delete ${name}`);\n      }\n    }).catch(error => {\n      console.error('Delete error:', error);\n      toast.error(`Error deleting ${name}: ${error.message}`);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: deleteItem,\n    className: \"z-10 block p-1 text-red-700 transition-all bg-red-100 border-2 border-white rounded-full active:bg-red-50 hover:scale-110 focus:outline-none focus:ring\",\n    type: \"button\",\n    children: /*#__PURE__*/_jsxDEV(RiDeleteBin6Fill, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_c = DeleteButton;\nexport default DeleteButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteButton\");","map":{"version":3,"names":["React","RiDeleteBin6Fill","toast","DeleteModal","DeleteButton","deleteApiLink","itemId","name","onDelete","deleteItem","fetch","method","then","res","ok","Error","status","json","data","message","includes","deletedCount","error","catch","console"],"sources":["C:/Users/aweso/OneDrive/Desktop/QuickMeds/frontend/src/components/buttons/DeleteButton.js"],"sourcesContent":["import React from 'react';\r\nimport { RiDeleteBin6Fill } from 'react-icons/ri';\r\nimport { toast } from 'react-toastify';\r\nimport DeleteModal from '../modals/DeleteModal';\r\n\r\nconst DeleteButton = ({ deleteApiLink, itemId, name, onDelete }) => {\r\n    const deleteItem = () => {\r\n        fetch(deleteApiLink, {\r\n            method: 'DELETE'\r\n        })\r\n            .then(res => {\r\n                if (!res.ok) {\r\n                    throw new Error(`HTTP error! Status: ${res.status}`);\r\n                }\r\n                return res.json();\r\n            })\r\n            .then(data => {\r\n                // Check for the message property in the response\r\n                if (data.message && data.message.includes('deleted successfully')) {\r\n                    toast(\r\n                        <DeleteModal name={name} />\r\n                    );\r\n                    \r\n                    // Call the onDelete callback if provided\r\n                    if (onDelete && typeof onDelete === 'function') {\r\n                        onDelete();\r\n                    }\r\n                } else if (data.deletedCount > 0) {\r\n                    // For backward compatibility\r\n                    toast(\r\n                        <DeleteModal name={name} />\r\n                    );\r\n                    \r\n                    // Call the onDelete callback if provided\r\n                    if (onDelete && typeof onDelete === 'function') {\r\n                        onDelete();\r\n                    }\r\n                } else {\r\n                    toast.error(`Failed to delete ${name}`);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('Delete error:', error);\r\n                toast.error(`Error deleting ${name}: ${error.message}`);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <button onClick={deleteItem}\r\n            className=\"z-10 block p-1 text-red-700 transition-all bg-red-100 border-2 border-white rounded-full active:bg-red-50 hover:scale-110 focus:outline-none focus:ring\"\r\n            type=\"button\"\r\n        >\r\n            <RiDeleteBin6Fill />\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default DeleteButton;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,QAAiC,gBAAjC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;;;AAEA,MAAMC,YAAY,GAAG,QAA+C;EAAA,IAA9C;IAAEC,aAAF;IAAiBC,MAAjB;IAAyBC,IAAzB;IAA+BC;EAA/B,CAA8C;;EAChE,MAAMC,UAAU,GAAG,MAAM;IACrBC,KAAK,CAACL,aAAD,EAAgB;MACjBM,MAAM,EAAE;IADS,CAAhB,CAAL,CAGKC,IAHL,CAGUC,GAAG,IAAI;MACT,IAAI,CAACA,GAAG,CAACC,EAAT,EAAa;QACT,MAAM,IAAIC,KAAJ,CAAW,uBAAsBF,GAAG,CAACG,MAAO,EAA5C,CAAN;MACH;;MACD,OAAOH,GAAG,CAACI,IAAJ,EAAP;IACH,CARL,EASKL,IATL,CASUM,IAAI,IAAI;MACV;MACA,IAAIA,IAAI,CAACC,OAAL,IAAgBD,IAAI,CAACC,OAAL,CAAaC,QAAb,CAAsB,sBAAtB,CAApB,EAAmE;QAC/DlB,KAAK,eACD,QAAC,WAAD;UAAa,IAAI,EAAEK;QAAnB;UAAA;UAAA;UAAA;QAAA,QADC,CAAL,CAD+D,CAK/D;;QACA,IAAIC,QAAQ,IAAI,OAAOA,QAAP,KAAoB,UAApC,EAAgD;UAC5CA,QAAQ;QACX;MACJ,CATD,MASO,IAAIU,IAAI,CAACG,YAAL,GAAoB,CAAxB,EAA2B;QAC9B;QACAnB,KAAK,eACD,QAAC,WAAD;UAAa,IAAI,EAAEK;QAAnB;UAAA;UAAA;UAAA;QAAA,QADC,CAAL,CAF8B,CAM9B;;QACA,IAAIC,QAAQ,IAAI,OAAOA,QAAP,KAAoB,UAApC,EAAgD;UAC5CA,QAAQ;QACX;MACJ,CAVM,MAUA;QACHN,KAAK,CAACoB,KAAN,CAAa,oBAAmBf,IAAK,EAArC;MACH;IACJ,CAjCL,EAkCKgB,KAlCL,CAkCWD,KAAK,IAAI;MACZE,OAAO,CAACF,KAAR,CAAc,eAAd,EAA+BA,KAA/B;MACApB,KAAK,CAACoB,KAAN,CAAa,kBAAiBf,IAAK,KAAIe,KAAK,CAACH,OAAQ,EAArD;IACH,CArCL;EAsCH,CAvCD;;EAyCA,oBACI;IAAQ,OAAO,EAAEV,UAAjB;IACI,SAAS,EAAC,yJADd;IAEI,IAAI,EAAC,QAFT;IAAA,uBAII,QAAC,gBAAD;MAAA;MAAA;MAAA;IAAA;EAJJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAQH,CAlDD;;KAAML,Y;AAoDN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}