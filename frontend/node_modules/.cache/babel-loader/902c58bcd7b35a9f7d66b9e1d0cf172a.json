{"ast":null,"code":"/*!\n * Chart.js v3.9.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nfunction ct() {}\n\nconst _o = function () {\n  let i = 0;\n  return function () {\n    return i++;\n  };\n}();\n\nfunction T(i) {\n  return i === null || typeof i > \"u\";\n}\n\nfunction z(i) {\n  if (Array.isArray && Array.isArray(i)) return !0;\n  const t = Object.prototype.toString.call(i);\n  return t.slice(0, 7) === \"[object\" && t.slice(-6) === \"Array]\";\n}\n\nfunction D(i) {\n  return i !== null && Object.prototype.toString.call(i) === \"[object Object]\";\n}\n\nconst N = i => (typeof i == \"number\" || i instanceof Number) && isFinite(+i);\n\nfunction Q(i, t) {\n  return N(i) ? i : t;\n}\n\nfunction C(i, t) {\n  return typeof i > \"u\" ? t : i;\n}\n\nconst yo = (i, t) => typeof i == \"string\" && i.endsWith(\"%\") ? parseFloat(i) / 100 : i / t,\n      an = (i, t) => typeof i == \"string\" && i.endsWith(\"%\") ? parseFloat(i) / 100 * t : +i;\n\nfunction I(i, t, e) {\n  if (i && typeof i.call == \"function\") return i.apply(e, t);\n}\n\nfunction E(i, t, e, s) {\n  let n, o, r;\n  if (z(i)) {\n    if (o = i.length, s) for (n = o - 1; n >= 0; n--) t.call(e, i[n], n);else for (n = 0; n < o; n++) t.call(e, i[n], n);\n  } else if (D(i)) for (r = Object.keys(i), o = r.length, n = 0; n < o; n++) t.call(e, i[r[n]], r[n]);\n}\n\nfunction ze(i, t) {\n  let e, s, n, o;\n  if (!i || !t || i.length !== t.length) return !1;\n\n  for (e = 0, s = i.length; e < s; ++e) if (n = i[e], o = t[e], n.datasetIndex !== o.datasetIndex || n.index !== o.index) return !1;\n\n  return !0;\n}\n\nfunction Be(i) {\n  if (z(i)) return i.map(Be);\n\n  if (D(i)) {\n    const t = /* @__PURE__ */Object.create(null),\n          e = Object.keys(i),\n          s = e.length;\n    let n = 0;\n\n    for (; n < s; ++n) t[e[n]] = Be(i[e[n]]);\n\n    return t;\n  }\n\n  return i;\n}\n\nfunction ln(i) {\n  return [\"__proto__\", \"prototype\", \"constructor\"].indexOf(i) === -1;\n}\n\nfunction vo(i, t, e, s) {\n  if (!ln(i)) return;\n  const n = t[i],\n        o = e[i];\n  D(n) && D(o) ? ne(n, o, s) : t[i] = Be(o);\n}\n\nfunction ne(i, t, e) {\n  const s = z(t) ? t : [t],\n        n = s.length;\n  if (!D(i)) return i;\n  e = e || {};\n  const o = e.merger || vo;\n\n  for (let r = 0; r < n; ++r) {\n    if (t = s[r], !D(t)) continue;\n    const a = Object.keys(t);\n\n    for (let l = 0, c = a.length; l < c; ++l) o(a[l], i, t, e);\n  }\n\n  return i;\n}\n\nfunction Qt(i, t) {\n  return ne(i, t, {\n    merger: Mo\n  });\n}\n\nfunction Mo(i, t, e) {\n  if (!ln(i)) return;\n  const s = t[i],\n        n = e[i];\n  D(s) && D(n) ? Qt(s, n) : Object.prototype.hasOwnProperty.call(t, i) || (t[i] = Be(n));\n}\n\nconst Xi = {\n  \"\": i => i,\n  x: i => i.x,\n  y: i => i.y\n};\n\nfunction _t(i, t) {\n  return (Xi[t] || (Xi[t] = ko(t)))(i);\n}\n\nfunction ko(i) {\n  const t = wo(i);\n  return e => {\n    for (const s of t) {\n      if (s === \"\") break;\n      e = e && e[s];\n    }\n\n    return e;\n  };\n}\n\nfunction wo(i) {\n  const t = i.split(\".\"),\n        e = [];\n  let s = \"\";\n\n  for (const n of t) s += n, s.endsWith(\"\\\\\") ? s = s.slice(0, -1) + \".\" : (e.push(s), s = \"\");\n\n  return e;\n}\n\nfunction Oi(i) {\n  return i.charAt(0).toUpperCase() + i.slice(1);\n}\n\nconst et = i => typeof i < \"u\",\n      yt = i => typeof i == \"function\",\n      Ui = (i, t) => {\n  if (i.size !== t.size) return !1;\n\n  for (const e of i) if (!t.has(e)) return !1;\n\n  return !0;\n};\n\nfunction So(i) {\n  return i.type === \"mouseup\" || i.type === \"click\" || i.type === \"contextmenu\";\n}\n\nconst B = Math.PI,\n      F = 2 * B,\n      Po = F + B,\n      Ve = Number.POSITIVE_INFINITY,\n      Co = B / 180,\n      V = B / 2,\n      $t = B / 4,\n      Ki = B * 2 / 3,\n      tt = Math.log10,\n      lt = Math.sign;\n\nfunction qi(i) {\n  const t = Math.round(i);\n  i = te(i, t, i / 1e3) ? t : i;\n  const e = Math.pow(10, Math.floor(tt(i))),\n        s = i / e;\n  return (s <= 1 ? 1 : s <= 2 ? 2 : s <= 5 ? 5 : 10) * e;\n}\n\nfunction Do(i) {\n  const t = [],\n        e = Math.sqrt(i);\n  let s;\n\n  for (s = 1; s < e; s++) i % s === 0 && (t.push(s), t.push(i / s));\n\n  return e === (e | 0) && t.push(e), t.sort((n, o) => n - o).pop(), t;\n}\n\nfunction Bt(i) {\n  return !isNaN(parseFloat(i)) && isFinite(i);\n}\n\nfunction te(i, t, e) {\n  return Math.abs(i - t) < e;\n}\n\nfunction Oo(i, t) {\n  const e = Math.round(i);\n  return e - t <= i && e + t >= i;\n}\n\nfunction cn(i, t, e) {\n  let s, n, o;\n\n  for (s = 0, n = i.length; s < n; s++) o = i[s][e], isNaN(o) || (t.min = Math.min(t.min, o), t.max = Math.max(t.max, o));\n}\n\nfunction nt(i) {\n  return i * (B / 180);\n}\n\nfunction Ai(i) {\n  return i * (180 / B);\n}\n\nfunction Gi(i) {\n  if (!N(i)) return;\n  let t = 1,\n      e = 0;\n\n  for (; Math.round(i * t) / t !== i;) t *= 10, e++;\n\n  return e;\n}\n\nfunction hn(i, t) {\n  const e = t.x - i.x,\n        s = t.y - i.y,\n        n = Math.sqrt(e * e + s * s);\n  let o = Math.atan2(s, e);\n  return o < -0.5 * B && (o += F), {\n    angle: o,\n    distance: n\n  };\n}\n\nfunction bi(i, t) {\n  return Math.sqrt(Math.pow(t.x - i.x, 2) + Math.pow(t.y - i.y, 2));\n}\n\nfunction Ao(i, t) {\n  return (i - t + Po) % F - B;\n}\n\nfunction Z(i) {\n  return (i % F + F) % F;\n}\n\nfunction oe(i, t, e, s) {\n  const n = Z(i),\n        o = Z(t),\n        r = Z(e),\n        a = Z(o - n),\n        l = Z(r - n),\n        c = Z(n - o),\n        h = Z(n - r);\n  return n === o || n === r || s && o === r || a > l && c < h;\n}\n\nfunction Y(i, t, e) {\n  return Math.max(t, Math.min(e, i));\n}\n\nfunction To(i) {\n  return Y(i, -32768, 32767);\n}\n\nfunction ut(i, t, e) {\n  let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1e-6;\n  return i >= Math.min(t, e) - s && i <= Math.max(t, e) + s;\n}\n\nfunction Ti(i, t, e) {\n  e = e || (r => i[r] < t);\n\n  let s = i.length - 1,\n      n = 0,\n      o;\n\n  for (; s - n > 1;) o = n + s >> 1, e(o) ? n = o : s = o;\n\n  return {\n    lo: n,\n    hi: s\n  };\n}\n\nconst ft = (i, t, e, s) => Ti(i, e, s ? n => i[n][t] <= e : n => i[n][t] < e),\n      Lo = (i, t, e) => Ti(i, e, s => i[s][t] >= e);\n\nfunction Ro(i, t, e) {\n  let s = 0,\n      n = i.length;\n\n  for (; s < n && i[s] < t;) s++;\n\n  for (; n > s && i[n - 1] > e;) n--;\n\n  return s > 0 || n < i.length ? i.slice(s, n) : i;\n}\n\nconst dn = [\"push\", \"pop\", \"shift\", \"splice\", \"unshift\"];\n\nfunction Eo(i, t) {\n  if (i._chartjs) {\n    i._chartjs.listeners.push(t);\n\n    return;\n  }\n\n  Object.defineProperty(i, \"_chartjs\", {\n    configurable: !0,\n    enumerable: !1,\n    value: {\n      listeners: [t]\n    }\n  }), dn.forEach(e => {\n    const s = \"_onData\" + Oi(e),\n          n = i[e];\n    Object.defineProperty(i, e, {\n      configurable: !0,\n      enumerable: !1,\n\n      value() {\n        for (var _len = arguments.length, o = new Array(_len), _key = 0; _key < _len; _key++) {\n          o[_key] = arguments[_key];\n        }\n\n        const r = n.apply(this, o);\n        return i._chartjs.listeners.forEach(a => {\n          typeof a[s] == \"function\" && a[s](...o);\n        }), r;\n      }\n\n    });\n  });\n}\n\nfunction Zi(i, t) {\n  const e = i._chartjs;\n  if (!e) return;\n  const s = e.listeners,\n        n = s.indexOf(t);\n  n !== -1 && s.splice(n, 1), !(s.length > 0) && (dn.forEach(o => {\n    delete i[o];\n  }), delete i._chartjs);\n}\n\nfunction un(i) {\n  const t = /* @__PURE__ */new Set();\n  let e, s;\n\n  for (e = 0, s = i.length; e < s; ++e) t.add(i[e]);\n\n  return t.size === s ? i : Array.from(t);\n}\n\nconst fn = function () {\n  return typeof window > \"u\" ? function (i) {\n    return i();\n  } : window.requestAnimationFrame;\n}();\n\nfunction gn(i, t, e) {\n  const s = e || (r => Array.prototype.slice.call(r));\n\n  let n = !1,\n      o = [];\n  return function () {\n    for (var _len2 = arguments.length, r = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      r[_key2] = arguments[_key2];\n    }\n\n    o = s(r), n || (n = !0, fn.call(window, () => {\n      n = !1, i.apply(t, o);\n    }));\n  };\n}\n\nfunction Fo(i, t) {\n  let e;\n  return function () {\n    for (var _len3 = arguments.length, s = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      s[_key3] = arguments[_key3];\n    }\n\n    return t ? (clearTimeout(e), e = setTimeout(i, t, s)) : i.apply(this, s), t;\n  };\n}\n\nconst Li = i => i === \"start\" ? \"left\" : i === \"end\" ? \"right\" : \"center\",\n      U = (i, t, e) => i === \"start\" ? t : i === \"end\" ? e : (t + e) / 2,\n      Io = (i, t, e, s) => i === (s ? \"left\" : \"right\") ? e : i === \"center\" ? (t + e) / 2 : t;\n\nfunction pn(i, t, e) {\n  const s = t.length;\n  let n = 0,\n      o = s;\n\n  if (i._sorted) {\n    const {\n      iScale: r,\n      _parsed: a\n    } = i,\n          l = r.axis,\n          {\n      min: c,\n      max: h,\n      minDefined: d,\n      maxDefined: u\n    } = r.getUserBounds();\n    d && (n = Y(Math.min(ft(a, r.axis, c).lo, e ? s : ft(t, l, r.getPixelForValue(c)).lo), 0, s - 1)), u ? o = Y(Math.max(ft(a, r.axis, h, !0).hi + 1, e ? 0 : ft(t, l, r.getPixelForValue(h), !0).hi + 1), n, s) - n : o = s - n;\n  }\n\n  return {\n    start: n,\n    count: o\n  };\n}\n\nfunction mn(i) {\n  const {\n    xScale: t,\n    yScale: e,\n    _scaleRanges: s\n  } = i,\n        n = {\n    xmin: t.min,\n    xmax: t.max,\n    ymin: e.min,\n    ymax: e.max\n  };\n  if (!s) return i._scaleRanges = n, !0;\n  const o = s.xmin !== t.min || s.xmax !== t.max || s.ymin !== e.min || s.ymax !== e.max;\n  return Object.assign(s, n), o;\n}\n\nconst we = i => i === 0 || i === 1,\n      Ji = (i, t, e) => -(Math.pow(2, 10 * (i -= 1)) * Math.sin((i - t) * F / e)),\n      Qi = (i, t, e) => Math.pow(2, -10 * i) * Math.sin((i - t) * F / e) + 1,\n      ee = {\n  linear: i => i,\n  easeInQuad: i => i * i,\n  easeOutQuad: i => -i * (i - 2),\n  easeInOutQuad: i => (i /= 0.5) < 1 ? 0.5 * i * i : -0.5 * (--i * (i - 2) - 1),\n  easeInCubic: i => i * i * i,\n  easeOutCubic: i => (i -= 1) * i * i + 1,\n  easeInOutCubic: i => (i /= 0.5) < 1 ? 0.5 * i * i * i : 0.5 * ((i -= 2) * i * i + 2),\n  easeInQuart: i => i * i * i * i,\n  easeOutQuart: i => -((i -= 1) * i * i * i - 1),\n  easeInOutQuart: i => (i /= 0.5) < 1 ? 0.5 * i * i * i * i : -0.5 * ((i -= 2) * i * i * i - 2),\n  easeInQuint: i => i * i * i * i * i,\n  easeOutQuint: i => (i -= 1) * i * i * i * i + 1,\n  easeInOutQuint: i => (i /= 0.5) < 1 ? 0.5 * i * i * i * i * i : 0.5 * ((i -= 2) * i * i * i * i + 2),\n  easeInSine: i => -Math.cos(i * V) + 1,\n  easeOutSine: i => Math.sin(i * V),\n  easeInOutSine: i => -0.5 * (Math.cos(B * i) - 1),\n  easeInExpo: i => i === 0 ? 0 : Math.pow(2, 10 * (i - 1)),\n  easeOutExpo: i => i === 1 ? 1 : -Math.pow(2, -10 * i) + 1,\n  easeInOutExpo: i => we(i) ? i : i < 0.5 ? 0.5 * Math.pow(2, 10 * (i * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (i * 2 - 1)) + 2),\n  easeInCirc: i => i >= 1 ? i : -(Math.sqrt(1 - i * i) - 1),\n  easeOutCirc: i => Math.sqrt(1 - (i -= 1) * i),\n  easeInOutCirc: i => (i /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - i * i) - 1) : 0.5 * (Math.sqrt(1 - (i -= 2) * i) + 1),\n  easeInElastic: i => we(i) ? i : Ji(i, 0.075, 0.3),\n  easeOutElastic: i => we(i) ? i : Qi(i, 0.075, 0.3),\n\n  easeInOutElastic(i) {\n    return we(i) ? i : i < 0.5 ? 0.5 * Ji(i * 2, 0.1125, 0.45) : 0.5 + 0.5 * Qi(i * 2 - 1, 0.1125, 0.45);\n  },\n\n  easeInBack(i) {\n    return i * i * ((1.70158 + 1) * i - 1.70158);\n  },\n\n  easeOutBack(i) {\n    return (i -= 1) * i * ((1.70158 + 1) * i + 1.70158) + 1;\n  },\n\n  easeInOutBack(i) {\n    let t = 1.70158;\n    return (i /= 0.5) < 1 ? 0.5 * (i * i * (((t *= 1.525) + 1) * i - t)) : 0.5 * ((i -= 2) * i * (((t *= 1.525) + 1) * i + t) + 2);\n  },\n\n  easeInBounce: i => 1 - ee.easeOutBounce(1 - i),\n\n  easeOutBounce(i) {\n    return i < 1 / 2.75 ? 7.5625 * i * i : i < 2 / 2.75 ? 7.5625 * (i -= 1.5 / 2.75) * i + 0.75 : i < 2.5 / 2.75 ? 7.5625 * (i -= 2.25 / 2.75) * i + 0.9375 : 7.5625 * (i -= 2.625 / 2.75) * i + 0.984375;\n  },\n\n  easeInOutBounce: i => i < 0.5 ? ee.easeInBounce(i * 2) * 0.5 : ee.easeOutBounce(i * 2 - 1) * 0.5 + 0.5\n};\n/*!\n * @kurkle/color v0.2.1\n * https://github.com/kurkle/color#readme\n * (c) 2022 Jukka Kurkela\n * Released under the MIT License\n */\n\n\nfunction he(i) {\n  return i + 0.5 | 0;\n}\n\nconst mt = (i, t, e) => Math.max(Math.min(i, e), t);\n\nfunction Gt(i) {\n  return mt(he(i * 2.55), 0, 255);\n}\n\nfunction xt(i) {\n  return mt(he(i * 255), 0, 255);\n}\n\nfunction dt(i) {\n  return mt(he(i / 2.55) / 100, 0, 1);\n}\n\nfunction ts(i) {\n  return mt(he(i * 100), 0, 100);\n}\n\nconst J = {\n  0: 0,\n  1: 1,\n  2: 2,\n  3: 3,\n  4: 4,\n  5: 5,\n  6: 6,\n  7: 7,\n  8: 8,\n  9: 9,\n  A: 10,\n  B: 11,\n  C: 12,\n  D: 13,\n  E: 14,\n  F: 15,\n  a: 10,\n  b: 11,\n  c: 12,\n  d: 13,\n  e: 14,\n  f: 15\n},\n      xi = [...\"0123456789ABCDEF\"],\n      zo = i => xi[i & 15],\n      Bo = i => xi[(i & 240) >> 4] + xi[i & 15],\n      Se = i => (i & 240) >> 4 === (i & 15),\n      Vo = i => Se(i.r) && Se(i.g) && Se(i.b) && Se(i.a);\n\nfunction Wo(i) {\n  var t = i.length,\n      e;\n  return i[0] === \"#\" && (t === 4 || t === 5 ? e = {\n    r: 255 & J[i[1]] * 17,\n    g: 255 & J[i[2]] * 17,\n    b: 255 & J[i[3]] * 17,\n    a: t === 5 ? J[i[4]] * 17 : 255\n  } : (t === 7 || t === 9) && (e = {\n    r: J[i[1]] << 4 | J[i[2]],\n    g: J[i[3]] << 4 | J[i[4]],\n    b: J[i[5]] << 4 | J[i[6]],\n    a: t === 9 ? J[i[7]] << 4 | J[i[8]] : 255\n  })), e;\n}\n\nconst No = (i, t) => i < 255 ? t(i) : \"\";\n\nfunction Ho(i) {\n  var t = Vo(i) ? zo : Bo;\n  return i ? \"#\" + t(i.r) + t(i.g) + t(i.b) + No(i.a, t) : void 0;\n}\n\nconst jo = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\n\nfunction bn(i, t, e) {\n  const s = t * Math.min(e, 1 - e),\n        n = function (o) {\n    let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (o + i / 30) % 12;\n    return e - s * Math.max(Math.min(r - 3, 9 - r, 1), -1);\n  };\n\n  return [n(0), n(8), n(4)];\n}\n\nfunction $o(i, t, e) {\n  const s = function (n) {\n    let o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (n + i / 60) % 6;\n    return e - e * t * Math.max(Math.min(o, 4 - o, 1), 0);\n  };\n\n  return [s(5), s(3), s(1)];\n}\n\nfunction Yo(i, t, e) {\n  const s = bn(i, 1, 0.5);\n  let n;\n\n  for (t + e > 1 && (n = 1 / (t + e), t *= n, e *= n), n = 0; n < 3; n++) s[n] *= 1 - t - e, s[n] += t;\n\n  return s;\n}\n\nfunction Xo(i, t, e, s, n) {\n  return i === n ? (t - e) / s + (t < e ? 6 : 0) : t === n ? (e - i) / s + 2 : (i - t) / s + 4;\n}\n\nfunction Ri(i) {\n  const e = i.r / 255,\n        s = i.g / 255,\n        n = i.b / 255,\n        o = Math.max(e, s, n),\n        r = Math.min(e, s, n),\n        a = (o + r) / 2;\n  let l, c, h;\n  return o !== r && (h = o - r, c = a > 0.5 ? h / (2 - o - r) : h / (o + r), l = Xo(e, s, n, h, o), l = l * 60 + 0.5), [l | 0, c || 0, a];\n}\n\nfunction Ei(i, t, e, s) {\n  return (Array.isArray(t) ? i(t[0], t[1], t[2]) : i(t, e, s)).map(xt);\n}\n\nfunction Fi(i, t, e) {\n  return Ei(bn, i, t, e);\n}\n\nfunction Uo(i, t, e) {\n  return Ei(Yo, i, t, e);\n}\n\nfunction Ko(i, t, e) {\n  return Ei($o, i, t, e);\n}\n\nfunction xn(i) {\n  return (i % 360 + 360) % 360;\n}\n\nfunction qo(i) {\n  const t = jo.exec(i);\n  let e = 255,\n      s;\n  if (!t) return;\n  t[5] !== s && (e = t[6] ? Gt(+t[5]) : xt(+t[5]));\n  const n = xn(+t[2]),\n        o = +t[3] / 100,\n        r = +t[4] / 100;\n  return t[1] === \"hwb\" ? s = Uo(n, o, r) : t[1] === \"hsv\" ? s = Ko(n, o, r) : s = Fi(n, o, r), {\n    r: s[0],\n    g: s[1],\n    b: s[2],\n    a: e\n  };\n}\n\nfunction Go(i, t) {\n  var e = Ri(i);\n  e[0] = xn(e[0] + t), e = Fi(e), i.r = e[0], i.g = e[1], i.b = e[2];\n}\n\nfunction Zo(i) {\n  if (!i) return;\n  const t = Ri(i),\n        e = t[0],\n        s = ts(t[1]),\n        n = ts(t[2]);\n  return i.a < 255 ? `hsla(${e}, ${s}%, ${n}%, ${dt(i.a)})` : `hsl(${e}, ${s}%, ${n}%)`;\n}\n\nconst es = {\n  x: \"dark\",\n  Z: \"light\",\n  Y: \"re\",\n  X: \"blu\",\n  W: \"gr\",\n  V: \"medium\",\n  U: \"slate\",\n  A: \"ee\",\n  T: \"ol\",\n  S: \"or\",\n  B: \"ra\",\n  C: \"lateg\",\n  D: \"ights\",\n  R: \"in\",\n  Q: \"turquois\",\n  E: \"hi\",\n  P: \"ro\",\n  O: \"al\",\n  N: \"le\",\n  M: \"de\",\n  L: \"yello\",\n  F: \"en\",\n  K: \"ch\",\n  G: \"arks\",\n  H: \"ea\",\n  I: \"ightg\",\n  J: \"wh\"\n},\n      is = {\n  OiceXe: \"f0f8ff\",\n  antiquewEte: \"faebd7\",\n  aqua: \"ffff\",\n  aquamarRe: \"7fffd4\",\n  azuY: \"f0ffff\",\n  beige: \"f5f5dc\",\n  bisque: \"ffe4c4\",\n  black: \"0\",\n  blanKedOmond: \"ffebcd\",\n  Xe: \"ff\",\n  XeviTet: \"8a2be2\",\n  bPwn: \"a52a2a\",\n  burlywood: \"deb887\",\n  caMtXe: \"5f9ea0\",\n  KartYuse: \"7fff00\",\n  KocTate: \"d2691e\",\n  cSO: \"ff7f50\",\n  cSnflowerXe: \"6495ed\",\n  cSnsilk: \"fff8dc\",\n  crimson: \"dc143c\",\n  cyan: \"ffff\",\n  xXe: \"8b\",\n  xcyan: \"8b8b\",\n  xgTMnPd: \"b8860b\",\n  xWay: \"a9a9a9\",\n  xgYF: \"6400\",\n  xgYy: \"a9a9a9\",\n  xkhaki: \"bdb76b\",\n  xmagFta: \"8b008b\",\n  xTivegYF: \"556b2f\",\n  xSange: \"ff8c00\",\n  xScEd: \"9932cc\",\n  xYd: \"8b0000\",\n  xsOmon: \"e9967a\",\n  xsHgYF: \"8fbc8f\",\n  xUXe: \"483d8b\",\n  xUWay: \"2f4f4f\",\n  xUgYy: \"2f4f4f\",\n  xQe: \"ced1\",\n  xviTet: \"9400d3\",\n  dAppRk: \"ff1493\",\n  dApskyXe: \"bfff\",\n  dimWay: \"696969\",\n  dimgYy: \"696969\",\n  dodgerXe: \"1e90ff\",\n  fiYbrick: \"b22222\",\n  flSOwEte: \"fffaf0\",\n  foYstWAn: \"228b22\",\n  fuKsia: \"ff00ff\",\n  gaRsbSo: \"dcdcdc\",\n  ghostwEte: \"f8f8ff\",\n  gTd: \"ffd700\",\n  gTMnPd: \"daa520\",\n  Way: \"808080\",\n  gYF: \"8000\",\n  gYFLw: \"adff2f\",\n  gYy: \"808080\",\n  honeyMw: \"f0fff0\",\n  hotpRk: \"ff69b4\",\n  RdianYd: \"cd5c5c\",\n  Rdigo: \"4b0082\",\n  ivSy: \"fffff0\",\n  khaki: \"f0e68c\",\n  lavFMr: \"e6e6fa\",\n  lavFMrXsh: \"fff0f5\",\n  lawngYF: \"7cfc00\",\n  NmoncEffon: \"fffacd\",\n  ZXe: \"add8e6\",\n  ZcSO: \"f08080\",\n  Zcyan: \"e0ffff\",\n  ZgTMnPdLw: \"fafad2\",\n  ZWay: \"d3d3d3\",\n  ZgYF: \"90ee90\",\n  ZgYy: \"d3d3d3\",\n  ZpRk: \"ffb6c1\",\n  ZsOmon: \"ffa07a\",\n  ZsHgYF: \"20b2aa\",\n  ZskyXe: \"87cefa\",\n  ZUWay: \"778899\",\n  ZUgYy: \"778899\",\n  ZstAlXe: \"b0c4de\",\n  ZLw: \"ffffe0\",\n  lime: \"ff00\",\n  limegYF: \"32cd32\",\n  lRF: \"faf0e6\",\n  magFta: \"ff00ff\",\n  maPon: \"800000\",\n  VaquamarRe: \"66cdaa\",\n  VXe: \"cd\",\n  VScEd: \"ba55d3\",\n  VpurpN: \"9370db\",\n  VsHgYF: \"3cb371\",\n  VUXe: \"7b68ee\",\n  VsprRggYF: \"fa9a\",\n  VQe: \"48d1cc\",\n  VviTetYd: \"c71585\",\n  midnightXe: \"191970\",\n  mRtcYam: \"f5fffa\",\n  mistyPse: \"ffe4e1\",\n  moccasR: \"ffe4b5\",\n  navajowEte: \"ffdead\",\n  navy: \"80\",\n  Tdlace: \"fdf5e6\",\n  Tive: \"808000\",\n  TivedBb: \"6b8e23\",\n  Sange: \"ffa500\",\n  SangeYd: \"ff4500\",\n  ScEd: \"da70d6\",\n  pOegTMnPd: \"eee8aa\",\n  pOegYF: \"98fb98\",\n  pOeQe: \"afeeee\",\n  pOeviTetYd: \"db7093\",\n  papayawEp: \"ffefd5\",\n  pHKpuff: \"ffdab9\",\n  peru: \"cd853f\",\n  pRk: \"ffc0cb\",\n  plum: \"dda0dd\",\n  powMrXe: \"b0e0e6\",\n  purpN: \"800080\",\n  YbeccapurpN: \"663399\",\n  Yd: \"ff0000\",\n  Psybrown: \"bc8f8f\",\n  PyOXe: \"4169e1\",\n  saddNbPwn: \"8b4513\",\n  sOmon: \"fa8072\",\n  sandybPwn: \"f4a460\",\n  sHgYF: \"2e8b57\",\n  sHshell: \"fff5ee\",\n  siFna: \"a0522d\",\n  silver: \"c0c0c0\",\n  skyXe: \"87ceeb\",\n  UXe: \"6a5acd\",\n  UWay: \"708090\",\n  UgYy: \"708090\",\n  snow: \"fffafa\",\n  sprRggYF: \"ff7f\",\n  stAlXe: \"4682b4\",\n  tan: \"d2b48c\",\n  teO: \"8080\",\n  tEstN: \"d8bfd8\",\n  tomato: \"ff6347\",\n  Qe: \"40e0d0\",\n  viTet: \"ee82ee\",\n  JHt: \"f5deb3\",\n  wEte: \"ffffff\",\n  wEtesmoke: \"f5f5f5\",\n  Lw: \"ffff00\",\n  LwgYF: \"9acd32\"\n};\n\nfunction Jo() {\n  const i = {},\n        t = Object.keys(is),\n        e = Object.keys(es);\n  let s, n, o, r, a;\n\n  for (s = 0; s < t.length; s++) {\n    for (r = a = t[s], n = 0; n < e.length; n++) o = e[n], a = a.replace(o, es[o]);\n\n    o = parseInt(is[r], 16), i[a] = [o >> 16 & 255, o >> 8 & 255, o & 255];\n  }\n\n  return i;\n}\n\nlet Pe;\n\nfunction Qo(i) {\n  Pe || (Pe = Jo(), Pe.transparent = [0, 0, 0, 0]);\n  const t = Pe[i.toLowerCase()];\n  return t && {\n    r: t[0],\n    g: t[1],\n    b: t[2],\n    a: t.length === 4 ? t[3] : 255\n  };\n}\n\nconst tr = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\n\nfunction er(i) {\n  const t = tr.exec(i);\n  let e = 255,\n      s,\n      n,\n      o;\n\n  if (t) {\n    if (t[7] !== s) {\n      const r = +t[7];\n      e = t[8] ? Gt(r) : mt(r * 255, 0, 255);\n    }\n\n    return s = +t[1], n = +t[3], o = +t[5], s = 255 & (t[2] ? Gt(s) : mt(s, 0, 255)), n = 255 & (t[4] ? Gt(n) : mt(n, 0, 255)), o = 255 & (t[6] ? Gt(o) : mt(o, 0, 255)), {\n      r: s,\n      g: n,\n      b: o,\n      a: e\n    };\n  }\n}\n\nfunction ir(i) {\n  return i && (i.a < 255 ? `rgba(${i.r}, ${i.g}, ${i.b}, ${dt(i.a)})` : `rgb(${i.r}, ${i.g}, ${i.b})`);\n}\n\nconst ni = i => i <= 31308e-7 ? i * 12.92 : Math.pow(i, 1 / 2.4) * 1.055 - 0.055,\n      Ft = i => i <= 0.04045 ? i / 12.92 : Math.pow((i + 0.055) / 1.055, 2.4);\n\nfunction sr(i, t, e) {\n  const s = Ft(dt(i.r)),\n        n = Ft(dt(i.g)),\n        o = Ft(dt(i.b));\n  return {\n    r: xt(ni(s + e * (Ft(dt(t.r)) - s))),\n    g: xt(ni(n + e * (Ft(dt(t.g)) - n))),\n    b: xt(ni(o + e * (Ft(dt(t.b)) - o))),\n    a: i.a + e * (t.a - i.a)\n  };\n}\n\nfunction Ce(i, t, e) {\n  if (i) {\n    let s = Ri(i);\n    s[t] = Math.max(0, Math.min(s[t] + s[t] * e, t === 0 ? 360 : 1)), s = Fi(s), i.r = s[0], i.g = s[1], i.b = s[2];\n  }\n}\n\nfunction _n(i, t) {\n  return i && Object.assign(t || {}, i);\n}\n\nfunction ss(i) {\n  var t = {\n    r: 0,\n    g: 0,\n    b: 0,\n    a: 255\n  };\n  return Array.isArray(i) ? i.length >= 3 && (t = {\n    r: i[0],\n    g: i[1],\n    b: i[2],\n    a: 255\n  }, i.length > 3 && (t.a = xt(i[3]))) : (t = _n(i, {\n    r: 0,\n    g: 0,\n    b: 0,\n    a: 1\n  }), t.a = xt(t.a)), t;\n}\n\nfunction nr(i) {\n  return i.charAt(0) === \"r\" ? er(i) : qo(i);\n}\n\nclass We {\n  constructor(t) {\n    if (t instanceof We) return t;\n    const e = typeof t;\n    let s;\n    e === \"object\" ? s = ss(t) : e === \"string\" && (s = Wo(t) || Qo(t) || nr(t)), this._rgb = s, this._valid = !!s;\n  }\n\n  get valid() {\n    return this._valid;\n  }\n\n  get rgb() {\n    var t = _n(this._rgb);\n\n    return t && (t.a = dt(t.a)), t;\n  }\n\n  set rgb(t) {\n    this._rgb = ss(t);\n  }\n\n  rgbString() {\n    return this._valid ? ir(this._rgb) : void 0;\n  }\n\n  hexString() {\n    return this._valid ? Ho(this._rgb) : void 0;\n  }\n\n  hslString() {\n    return this._valid ? Zo(this._rgb) : void 0;\n  }\n\n  mix(t, e) {\n    if (t) {\n      const s = this.rgb,\n            n = t.rgb;\n      let o;\n      const r = e === o ? 0.5 : e,\n            a = 2 * r - 1,\n            l = s.a - n.a,\n            c = ((a * l === -1 ? a : (a + l) / (1 + a * l)) + 1) / 2;\n      o = 1 - c, s.r = 255 & c * s.r + o * n.r + 0.5, s.g = 255 & c * s.g + o * n.g + 0.5, s.b = 255 & c * s.b + o * n.b + 0.5, s.a = r * s.a + (1 - r) * n.a, this.rgb = s;\n    }\n\n    return this;\n  }\n\n  interpolate(t, e) {\n    return t && (this._rgb = sr(this._rgb, t._rgb, e)), this;\n  }\n\n  clone() {\n    return new We(this.rgb);\n  }\n\n  alpha(t) {\n    return this._rgb.a = xt(t), this;\n  }\n\n  clearer(t) {\n    const e = this._rgb;\n    return e.a *= 1 - t, this;\n  }\n\n  greyscale() {\n    const t = this._rgb,\n          e = he(t.r * 0.3 + t.g * 0.59 + t.b * 0.11);\n    return t.r = t.g = t.b = e, this;\n  }\n\n  opaquer(t) {\n    const e = this._rgb;\n    return e.a *= 1 + t, this;\n  }\n\n  negate() {\n    const t = this._rgb;\n    return t.r = 255 - t.r, t.g = 255 - t.g, t.b = 255 - t.b, this;\n  }\n\n  lighten(t) {\n    return Ce(this._rgb, 2, t), this;\n  }\n\n  darken(t) {\n    return Ce(this._rgb, 2, -t), this;\n  }\n\n  saturate(t) {\n    return Ce(this._rgb, 1, t), this;\n  }\n\n  desaturate(t) {\n    return Ce(this._rgb, 1, -t), this;\n  }\n\n  rotate(t) {\n    return Go(this._rgb, t), this;\n  }\n\n}\n\nfunction yn(i) {\n  return new We(i);\n}\n\nfunction vn(i) {\n  if (i && typeof i == \"object\") {\n    const t = i.toString();\n    return t === \"[object CanvasPattern]\" || t === \"[object CanvasGradient]\";\n  }\n\n  return !1;\n}\n\nfunction ns(i) {\n  return vn(i) ? i : yn(i);\n}\n\nfunction oi(i) {\n  return vn(i) ? i : yn(i).saturate(0.5).darken(0.1).hexString();\n}\n\nconst At = /* @__PURE__ */Object.create(null),\n      _i = /* @__PURE__ */Object.create(null);\n\nfunction ie(i, t) {\n  if (!t) return i;\n  const e = t.split(\".\");\n\n  for (let s = 0, n = e.length; s < n; ++s) {\n    const o = e[s];\n    i = i[o] || (i[o] = /* @__PURE__ */Object.create(null));\n  }\n\n  return i;\n}\n\nfunction ri(i, t, e) {\n  return typeof t == \"string\" ? ne(ie(i, t), e) : ne(ie(i, \"\"), t);\n}\n\nclass or {\n  constructor(t) {\n    this.animation = void 0, this.backgroundColor = \"rgba(0,0,0,0.1)\", this.borderColor = \"rgba(0,0,0,0.1)\", this.color = \"#666\", this.datasets = {}, this.devicePixelRatio = e => e.chart.platform.getDevicePixelRatio(), this.elements = {}, this.events = [\"mousemove\", \"mouseout\", \"click\", \"touchstart\", \"touchmove\"], this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: \"normal\",\n      lineHeight: 1.2,\n      weight: null\n    }, this.hover = {}, this.hoverBackgroundColor = (e, s) => oi(s.backgroundColor), this.hoverBorderColor = (e, s) => oi(s.borderColor), this.hoverColor = (e, s) => oi(s.color), this.indexAxis = \"x\", this.interaction = {\n      mode: \"nearest\",\n      intersect: !0,\n      includeInvisible: !1\n    }, this.maintainAspectRatio = !0, this.onHover = null, this.onClick = null, this.parsing = !0, this.plugins = {}, this.responsive = !0, this.scale = void 0, this.scales = {}, this.showLine = !0, this.drawActiveElementsOnTop = !0, this.describe(t);\n  }\n\n  set(t, e) {\n    return ri(this, t, e);\n  }\n\n  get(t) {\n    return ie(this, t);\n  }\n\n  describe(t, e) {\n    return ri(_i, t, e);\n  }\n\n  override(t, e) {\n    return ri(At, t, e);\n  }\n\n  route(t, e, s, n) {\n    const o = ie(this, t),\n          r = ie(this, s),\n          a = \"_\" + e;\n    Object.defineProperties(o, {\n      [a]: {\n        value: o[e],\n        writable: !0\n      },\n      [e]: {\n        enumerable: !0,\n\n        get() {\n          const l = this[a],\n                c = r[n];\n          return D(l) ? Object.assign({}, c, l) : C(l, c);\n        },\n\n        set(l) {\n          this[a] = l;\n        }\n\n      }\n    });\n  }\n\n}\n\nvar O = new or({\n  _scriptable: i => !i.startsWith(\"on\"),\n  _indexable: i => i !== \"events\",\n  hover: {\n    _fallback: \"interaction\"\n  },\n  interaction: {\n    _scriptable: !1,\n    _indexable: !1\n  }\n});\n\nfunction rr(i) {\n  return !i || T(i.size) || T(i.family) ? null : (i.style ? i.style + \" \" : \"\") + (i.weight ? i.weight + \" \" : \"\") + i.size + \"px \" + i.family;\n}\n\nfunction Ne(i, t, e, s, n) {\n  let o = t[n];\n  return o || (o = t[n] = i.measureText(n).width, e.push(n)), o > s && (s = o), s;\n}\n\nfunction ar(i, t, e, s) {\n  s = s || {};\n  let n = s.data = s.data || {},\n      o = s.garbageCollect = s.garbageCollect || [];\n  s.font !== t && (n = s.data = {}, o = s.garbageCollect = [], s.font = t), i.save(), i.font = t;\n  let r = 0;\n  const a = e.length;\n  let l, c, h, d, u;\n\n  for (l = 0; l < a; l++) if (d = e[l], d != null && z(d) !== !0) r = Ne(i, n, o, r, d);else if (z(d)) for (c = 0, h = d.length; c < h; c++) u = d[c], u != null && !z(u) && (r = Ne(i, n, o, r, u));\n\n  i.restore();\n  const f = o.length / 2;\n\n  if (f > e.length) {\n    for (l = 0; l < f; l++) delete n[o[l]];\n\n    o.splice(0, f);\n  }\n\n  return r;\n}\n\nfunction wt(i, t, e) {\n  const s = i.currentDevicePixelRatio,\n        n = e !== 0 ? Math.max(e / 2, 0.5) : 0;\n  return Math.round((t - n) * s) / s + n;\n}\n\nfunction os(i, t) {\n  t = t || i.getContext(\"2d\"), t.save(), t.resetTransform(), t.clearRect(0, 0, i.width, i.height), t.restore();\n}\n\nfunction yi(i, t, e, s) {\n  Mn(i, t, e, s, null);\n}\n\nfunction Mn(i, t, e, s, n) {\n  let o, r, a, l, c, h;\n  const d = t.pointStyle,\n        u = t.rotation,\n        f = t.radius;\n  let g = (u || 0) * Co;\n\n  if (d && typeof d == \"object\" && (o = d.toString(), o === \"[object HTMLImageElement]\" || o === \"[object HTMLCanvasElement]\")) {\n    i.save(), i.translate(e, s), i.rotate(g), i.drawImage(d, -d.width / 2, -d.height / 2, d.width, d.height), i.restore();\n    return;\n  }\n\n  if (!(isNaN(f) || f <= 0)) {\n    switch (i.beginPath(), d) {\n      default:\n        n ? i.ellipse(e, s, n / 2, f, 0, 0, F) : i.arc(e, s, f, 0, F), i.closePath();\n        break;\n\n      case \"triangle\":\n        i.moveTo(e + Math.sin(g) * f, s - Math.cos(g) * f), g += Ki, i.lineTo(e + Math.sin(g) * f, s - Math.cos(g) * f), g += Ki, i.lineTo(e + Math.sin(g) * f, s - Math.cos(g) * f), i.closePath();\n        break;\n\n      case \"rectRounded\":\n        c = f * 0.516, l = f - c, r = Math.cos(g + $t) * l, a = Math.sin(g + $t) * l, i.arc(e - r, s - a, c, g - B, g - V), i.arc(e + a, s - r, c, g - V, g), i.arc(e + r, s + a, c, g, g + V), i.arc(e - a, s + r, c, g + V, g + B), i.closePath();\n        break;\n\n      case \"rect\":\n        if (!u) {\n          l = Math.SQRT1_2 * f, h = n ? n / 2 : l, i.rect(e - h, s - l, 2 * h, 2 * l);\n          break;\n        }\n\n        g += $t;\n\n      case \"rectRot\":\n        r = Math.cos(g) * f, a = Math.sin(g) * f, i.moveTo(e - r, s - a), i.lineTo(e + a, s - r), i.lineTo(e + r, s + a), i.lineTo(e - a, s + r), i.closePath();\n        break;\n\n      case \"crossRot\":\n        g += $t;\n\n      case \"cross\":\n        r = Math.cos(g) * f, a = Math.sin(g) * f, i.moveTo(e - r, s - a), i.lineTo(e + r, s + a), i.moveTo(e + a, s - r), i.lineTo(e - a, s + r);\n        break;\n\n      case \"star\":\n        r = Math.cos(g) * f, a = Math.sin(g) * f, i.moveTo(e - r, s - a), i.lineTo(e + r, s + a), i.moveTo(e + a, s - r), i.lineTo(e - a, s + r), g += $t, r = Math.cos(g) * f, a = Math.sin(g) * f, i.moveTo(e - r, s - a), i.lineTo(e + r, s + a), i.moveTo(e + a, s - r), i.lineTo(e - a, s + r);\n        break;\n\n      case \"line\":\n        r = n ? n / 2 : Math.cos(g) * f, a = Math.sin(g) * f, i.moveTo(e - r, s - a), i.lineTo(e + r, s + a);\n        break;\n\n      case \"dash\":\n        i.moveTo(e, s), i.lineTo(e + Math.cos(g) * f, s + Math.sin(g) * f);\n        break;\n    }\n\n    i.fill(), t.borderWidth > 0 && i.stroke();\n  }\n}\n\nfunction re(i, t, e) {\n  return e = e || 0.5, !t || i && i.x > t.left - e && i.x < t.right + e && i.y > t.top - e && i.y < t.bottom + e;\n}\n\nfunction Xe(i, t) {\n  i.save(), i.beginPath(), i.rect(t.left, t.top, t.right - t.left, t.bottom - t.top), i.clip();\n}\n\nfunction Ue(i) {\n  i.restore();\n}\n\nfunction lr(i, t, e, s, n) {\n  if (!t) return i.lineTo(e.x, e.y);\n\n  if (n === \"middle\") {\n    const o = (t.x + e.x) / 2;\n    i.lineTo(o, t.y), i.lineTo(o, e.y);\n  } else n === \"after\" != !!s ? i.lineTo(t.x, e.y) : i.lineTo(e.x, t.y);\n\n  i.lineTo(e.x, e.y);\n}\n\nfunction cr(i, t, e, s) {\n  if (!t) return i.lineTo(e.x, e.y);\n  i.bezierCurveTo(s ? t.cp1x : t.cp2x, s ? t.cp1y : t.cp2y, s ? e.cp2x : e.cp1x, s ? e.cp2y : e.cp1y, e.x, e.y);\n}\n\nfunction Tt(i, t, e, s, n) {\n  let o = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n  const r = z(t) ? t : [t],\n        a = o.strokeWidth > 0 && o.strokeColor !== \"\";\n  let l, c;\n\n  for (i.save(), i.font = n.string, hr(i, o), l = 0; l < r.length; ++l) c = r[l], a && (o.strokeColor && (i.strokeStyle = o.strokeColor), T(o.strokeWidth) || (i.lineWidth = o.strokeWidth), i.strokeText(c, e, s, o.maxWidth)), i.fillText(c, e, s, o.maxWidth), dr(i, e, s, c, o), s += n.lineHeight;\n\n  i.restore();\n}\n\nfunction hr(i, t) {\n  t.translation && i.translate(t.translation[0], t.translation[1]), T(t.rotation) || i.rotate(t.rotation), t.color && (i.fillStyle = t.color), t.textAlign && (i.textAlign = t.textAlign), t.textBaseline && (i.textBaseline = t.textBaseline);\n}\n\nfunction dr(i, t, e, s, n) {\n  if (n.strikethrough || n.underline) {\n    const o = i.measureText(s),\n          r = t - o.actualBoundingBoxLeft,\n          a = t + o.actualBoundingBoxRight,\n          l = e - o.actualBoundingBoxAscent,\n          c = e + o.actualBoundingBoxDescent,\n          h = n.strikethrough ? (l + c) / 2 : c;\n    i.strokeStyle = i.fillStyle, i.beginPath(), i.lineWidth = n.decorationWidth || 2, i.moveTo(r, h), i.lineTo(a, h), i.stroke();\n  }\n}\n\nfunction ae(i, t) {\n  const {\n    x: e,\n    y: s,\n    w: n,\n    h: o,\n    radius: r\n  } = t;\n  i.arc(e + r.topLeft, s + r.topLeft, r.topLeft, -V, B, !0), i.lineTo(e, s + o - r.bottomLeft), i.arc(e + r.bottomLeft, s + o - r.bottomLeft, r.bottomLeft, B, V, !0), i.lineTo(e + n - r.bottomRight, s + o), i.arc(e + n - r.bottomRight, s + o - r.bottomRight, r.bottomRight, V, 0, !0), i.lineTo(e + n, s + r.topRight), i.arc(e + n - r.topRight, s + r.topRight, r.topRight, 0, -V, !0), i.lineTo(e + r.topLeft, s);\n}\n\nconst ur = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/),\n      fr = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\n\nfunction gr(i, t) {\n  const e = (\"\" + i).match(ur);\n  if (!e || e[1] === \"normal\") return t * 1.2;\n\n  switch (i = +e[2], e[3]) {\n    case \"px\":\n      return i;\n\n    case \"%\":\n      i /= 100;\n      break;\n  }\n\n  return t * i;\n}\n\nconst pr = i => +i || 0;\n\nfunction Ii(i, t) {\n  const e = {},\n        s = D(t),\n        n = s ? Object.keys(t) : t,\n        o = D(i) ? s ? r => C(i[r], i[t[r]]) : r => i[r] : () => i;\n\n  for (const r of n) e[r] = pr(o(r));\n\n  return e;\n}\n\nfunction kn(i) {\n  return Ii(i, {\n    top: \"y\",\n    right: \"x\",\n    bottom: \"y\",\n    left: \"x\"\n  });\n}\n\nfunction Dt(i) {\n  return Ii(i, [\"topLeft\", \"topRight\", \"bottomLeft\", \"bottomRight\"]);\n}\n\nfunction K(i) {\n  const t = kn(i);\n  return t.width = t.left + t.right, t.height = t.top + t.bottom, t;\n}\n\nfunction $(i, t) {\n  i = i || {}, t = t || O.font;\n  let e = C(i.size, t.size);\n  typeof e == \"string\" && (e = parseInt(e, 10));\n  let s = C(i.style, t.style);\n  s && !(\"\" + s).match(fr) && (console.warn('Invalid font style specified: \"' + s + '\"'), s = \"\");\n  const n = {\n    family: C(i.family, t.family),\n    lineHeight: gr(C(i.lineHeight, t.lineHeight), e),\n    size: e,\n    style: s,\n    weight: C(i.weight, t.weight),\n    string: \"\"\n  };\n  return n.string = rr(n), n;\n}\n\nfunction Zt(i, t, e, s) {\n  let n = !0,\n      o,\n      r,\n      a;\n\n  for (o = 0, r = i.length; o < r; ++o) if (a = i[o], a !== void 0 && (t !== void 0 && typeof a == \"function\" && (a = a(t), n = !1), e !== void 0 && z(a) && (a = a[e % a.length], n = !1), a !== void 0)) return s && !n && (s.cacheable = !1), a;\n}\n\nfunction mr(i, t, e) {\n  const {\n    min: s,\n    max: n\n  } = i,\n        o = an(t, (n - s) / 2),\n        r = (a, l) => e && a === 0 ? 0 : a + l;\n\n  return {\n    min: r(s, -Math.abs(o)),\n    max: r(n, o)\n  };\n}\n\nfunction vt(i, t) {\n  return Object.assign(Object.create(i), t);\n}\n\nfunction zi(i) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [\"\"];\n  let e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : i;\n  let s = arguments.length > 3 ? arguments[3] : undefined;\n  let n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : () => i[0];\n  et(s) || (s = Cn(\"_fallback\", i));\n  const o = {\n    [Symbol.toStringTag]: \"Object\",\n    _cacheable: !0,\n    _scopes: i,\n    _rootScopes: e,\n    _fallback: s,\n    _getTarget: n,\n    override: r => zi([r, ...i], t, e, s)\n  };\n  return new Proxy(o, {\n    deleteProperty(r, a) {\n      return delete r[a], delete r._keys, delete i[0][a], !0;\n    },\n\n    get(r, a) {\n      return Sn(r, a, () => wr(a, t, i, r));\n    },\n\n    getOwnPropertyDescriptor(r, a) {\n      return Reflect.getOwnPropertyDescriptor(r._scopes[0], a);\n    },\n\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(i[0]);\n    },\n\n    has(r, a) {\n      return as(r).includes(a);\n    },\n\n    ownKeys(r) {\n      return as(r);\n    },\n\n    set(r, a, l) {\n      const c = r._storage || (r._storage = n());\n      return r[a] = c[a] = l, delete r._keys, !0;\n    }\n\n  });\n}\n\nfunction Vt(i, t, e, s) {\n  const n = {\n    _cacheable: !1,\n    _proxy: i,\n    _context: t,\n    _subProxy: e,\n    _stack: /* @__PURE__ */new Set(),\n    _descriptors: wn(i, s),\n    setContext: o => Vt(i, o, e, s),\n    override: o => Vt(i.override(o), t, e, s)\n  };\n  return new Proxy(n, {\n    deleteProperty(o, r) {\n      return delete o[r], delete i[r], !0;\n    },\n\n    get(o, r, a) {\n      return Sn(o, r, () => xr(o, r, a));\n    },\n\n    getOwnPropertyDescriptor(o, r) {\n      return o._descriptors.allKeys ? Reflect.has(i, r) ? {\n        enumerable: !0,\n        configurable: !0\n      } : void 0 : Reflect.getOwnPropertyDescriptor(i, r);\n    },\n\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(i);\n    },\n\n    has(o, r) {\n      return Reflect.has(i, r);\n    },\n\n    ownKeys() {\n      return Reflect.ownKeys(i);\n    },\n\n    set(o, r, a) {\n      return i[r] = a, delete o[r], !0;\n    }\n\n  });\n}\n\nfunction wn(i) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    scriptable: !0,\n    indexable: !0\n  };\n  const {\n    _scriptable: e = t.scriptable,\n    _indexable: s = t.indexable,\n    _allKeys: n = t.allKeys\n  } = i;\n  return {\n    allKeys: n,\n    scriptable: e,\n    indexable: s,\n    isScriptable: yt(e) ? e : () => e,\n    isIndexable: yt(s) ? s : () => s\n  };\n}\n\nconst br = (i, t) => i ? i + Oi(t) : t,\n      Bi = (i, t) => D(t) && i !== \"adapters\" && (Object.getPrototypeOf(t) === null || t.constructor === Object);\n\nfunction Sn(i, t, e) {\n  if (Object.prototype.hasOwnProperty.call(i, t)) return i[t];\n  const s = e();\n  return i[t] = s, s;\n}\n\nfunction xr(i, t, e) {\n  const {\n    _proxy: s,\n    _context: n,\n    _subProxy: o,\n    _descriptors: r\n  } = i;\n  let a = s[t];\n  return yt(a) && r.isScriptable(t) && (a = _r(t, a, i, e)), z(a) && a.length && (a = yr(t, a, i, r.isIndexable)), Bi(t, a) && (a = Vt(a, n, o && o[t], r)), a;\n}\n\nfunction _r(i, t, e, s) {\n  const {\n    _proxy: n,\n    _context: o,\n    _subProxy: r,\n    _stack: a\n  } = e;\n  if (a.has(i)) throw new Error(\"Recursion detected: \" + Array.from(a).join(\"->\") + \"->\" + i);\n  return a.add(i), t = t(o, r || s), a.delete(i), Bi(i, t) && (t = Vi(n._scopes, n, i, t)), t;\n}\n\nfunction yr(i, t, e, s) {\n  const {\n    _proxy: n,\n    _context: o,\n    _subProxy: r,\n    _descriptors: a\n  } = e;\n  if (et(o.index) && s(i)) t = t[o.index % t.length];else if (D(t[0])) {\n    const l = t,\n          c = n._scopes.filter(h => h !== l);\n\n    t = [];\n\n    for (const h of l) {\n      const d = Vi(c, n, i, h);\n      t.push(Vt(d, o, r && r[i], a));\n    }\n  }\n  return t;\n}\n\nfunction Pn(i, t, e) {\n  return yt(i) ? i(t, e) : i;\n}\n\nconst vr = (i, t) => i === !0 ? t : typeof i == \"string\" ? _t(t, i) : void 0;\n\nfunction Mr(i, t, e, s, n) {\n  for (const o of t) {\n    const r = vr(e, o);\n\n    if (r) {\n      i.add(r);\n      const a = Pn(r._fallback, e, n);\n      if (et(a) && a !== e && a !== s) return a;\n    } else if (r === !1 && et(s) && e !== s) return null;\n  }\n\n  return !1;\n}\n\nfunction Vi(i, t, e, s) {\n  const n = t._rootScopes,\n        o = Pn(t._fallback, e, s),\n        r = [...i, ...n],\n        a = /* @__PURE__ */new Set();\n  a.add(s);\n  let l = rs(a, r, e, o || e, s);\n  return l === null || et(o) && o !== e && (l = rs(a, r, o, l, s), l === null) ? !1 : zi(Array.from(a), [\"\"], n, o, () => kr(t, e, s));\n}\n\nfunction rs(i, t, e, s, n) {\n  for (; e;) e = Mr(i, t, e, s, n);\n\n  return e;\n}\n\nfunction kr(i, t, e) {\n  const s = i._getTarget();\n\n  t in s || (s[t] = {});\n  const n = s[t];\n  return z(n) && D(e) ? e : n;\n}\n\nfunction wr(i, t, e, s) {\n  let n;\n\n  for (const o of t) if (n = Cn(br(o, i), e), et(n)) return Bi(i, n) ? Vi(e, s, i, n) : n;\n}\n\nfunction Cn(i, t) {\n  for (const e of t) {\n    if (!e) continue;\n    const s = e[i];\n    if (et(s)) return s;\n  }\n}\n\nfunction as(i) {\n  let t = i._keys;\n  return t || (t = i._keys = Sr(i._scopes)), t;\n}\n\nfunction Sr(i) {\n  const t = /* @__PURE__ */new Set();\n\n  for (const e of i) for (const s of Object.keys(e).filter(n => !n.startsWith(\"_\"))) t.add(s);\n\n  return Array.from(t);\n}\n\nfunction Dn(i, t, e, s) {\n  const {\n    iScale: n\n  } = i,\n        {\n    key: o = \"r\"\n  } = this._parsing,\n        r = new Array(s);\n  let a, l, c, h;\n\n  for (a = 0, l = s; a < l; ++a) c = a + e, h = t[c], r[a] = {\n    r: n.parse(_t(h, o), c)\n  };\n\n  return r;\n}\n\nconst Pr = Number.EPSILON || 1e-14,\n      Wt = (i, t) => t < i.length && !i[t].skip && i[t],\n      On = i => i === \"x\" ? \"y\" : \"x\";\n\nfunction Cr(i, t, e, s) {\n  const n = i.skip ? t : i,\n        o = t,\n        r = e.skip ? t : e,\n        a = bi(o, n),\n        l = bi(r, o);\n  let c = a / (a + l),\n      h = l / (a + l);\n  c = isNaN(c) ? 0 : c, h = isNaN(h) ? 0 : h;\n  const d = s * c,\n        u = s * h;\n  return {\n    previous: {\n      x: o.x - d * (r.x - n.x),\n      y: o.y - d * (r.y - n.y)\n    },\n    next: {\n      x: o.x + u * (r.x - n.x),\n      y: o.y + u * (r.y - n.y)\n    }\n  };\n}\n\nfunction Dr(i, t, e) {\n  const s = i.length;\n  let n,\n      o,\n      r,\n      a,\n      l,\n      c = Wt(i, 0);\n\n  for (let h = 0; h < s - 1; ++h) if (l = c, c = Wt(i, h + 1), !(!l || !c)) {\n    if (te(t[h], 0, Pr)) {\n      e[h] = e[h + 1] = 0;\n      continue;\n    }\n\n    n = e[h] / t[h], o = e[h + 1] / t[h], a = Math.pow(n, 2) + Math.pow(o, 2), !(a <= 9) && (r = 3 / Math.sqrt(a), e[h] = n * r * t[h], e[h + 1] = o * r * t[h]);\n  }\n}\n\nfunction Or(i, t) {\n  let e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"x\";\n  const s = On(e),\n        n = i.length;\n  let o,\n      r,\n      a,\n      l = Wt(i, 0);\n\n  for (let c = 0; c < n; ++c) {\n    if (r = a, a = l, l = Wt(i, c + 1), !a) continue;\n    const h = a[e],\n          d = a[s];\n    r && (o = (h - r[e]) / 3, a[`cp1${e}`] = h - o, a[`cp1${s}`] = d - o * t[c]), l && (o = (l[e] - h) / 3, a[`cp2${e}`] = h + o, a[`cp2${s}`] = d + o * t[c]);\n  }\n}\n\nfunction Ar(i) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"x\";\n  const e = On(t),\n        s = i.length,\n        n = Array(s).fill(0),\n        o = Array(s);\n  let r,\n      a,\n      l,\n      c = Wt(i, 0);\n\n  for (r = 0; r < s; ++r) if (a = l, l = c, c = Wt(i, r + 1), !!l) {\n    if (c) {\n      const h = c[t] - l[t];\n      n[r] = h !== 0 ? (c[e] - l[e]) / h : 0;\n    }\n\n    o[r] = a ? c ? lt(n[r - 1]) !== lt(n[r]) ? 0 : (n[r - 1] + n[r]) / 2 : n[r - 1] : n[r];\n  }\n\n  Dr(i, n, o), Or(i, o, t);\n}\n\nfunction De(i, t, e) {\n  return Math.max(Math.min(i, e), t);\n}\n\nfunction Tr(i, t) {\n  let e,\n      s,\n      n,\n      o,\n      r,\n      a = re(i[0], t);\n\n  for (e = 0, s = i.length; e < s; ++e) r = o, o = a, a = e < s - 1 && re(i[e + 1], t), o && (n = i[e], r && (n.cp1x = De(n.cp1x, t.left, t.right), n.cp1y = De(n.cp1y, t.top, t.bottom)), a && (n.cp2x = De(n.cp2x, t.left, t.right), n.cp2y = De(n.cp2y, t.top, t.bottom)));\n}\n\nfunction Lr(i, t, e, s, n) {\n  let o, r, a, l;\n  if (t.spanGaps && (i = i.filter(c => !c.skip)), t.cubicInterpolationMode === \"monotone\") Ar(i, n);else {\n    let c = s ? i[i.length - 1] : i[0];\n\n    for (o = 0, r = i.length; o < r; ++o) a = i[o], l = Cr(c, a, i[Math.min(o + 1, r - (s ? 0 : 1)) % r], t.tension), a.cp1x = l.previous.x, a.cp1y = l.previous.y, a.cp2x = l.next.x, a.cp2y = l.next.y, c = a;\n  }\n  t.capBezierPoints && Tr(i, e);\n}\n\nfunction An() {\n  return typeof window < \"u\" && typeof document < \"u\";\n}\n\nfunction Wi(i) {\n  let t = i.parentNode;\n  return t && t.toString() === \"[object ShadowRoot]\" && (t = t.host), t;\n}\n\nfunction He(i, t, e) {\n  let s;\n  return typeof i == \"string\" ? (s = parseInt(i, 10), i.indexOf(\"%\") !== -1 && (s = s / 100 * t.parentNode[e])) : s = i, s;\n}\n\nconst Ke = i => window.getComputedStyle(i, null);\n\nfunction Rr(i, t) {\n  return Ke(i).getPropertyValue(t);\n}\n\nconst Er = [\"top\", \"right\", \"bottom\", \"left\"];\n\nfunction Ot(i, t, e) {\n  const s = {};\n  e = e ? \"-\" + e : \"\";\n\n  for (let n = 0; n < 4; n++) {\n    const o = Er[n];\n    s[o] = parseFloat(i[t + \"-\" + o + e]) || 0;\n  }\n\n  return s.width = s.left + s.right, s.height = s.top + s.bottom, s;\n}\n\nconst Fr = (i, t, e) => (i > 0 || t > 0) && (!e || !e.shadowRoot);\n\nfunction Ir(i, t) {\n  const e = i.touches,\n        s = e && e.length ? e[0] : i,\n        {\n    offsetX: n,\n    offsetY: o\n  } = s;\n  let r = !1,\n      a,\n      l;\n  if (Fr(n, o, i.target)) a = n, l = o;else {\n    const c = t.getBoundingClientRect();\n    a = s.clientX - c.left, l = s.clientY - c.top, r = !0;\n  }\n  return {\n    x: a,\n    y: l,\n    box: r\n  };\n}\n\nfunction Pt(i, t) {\n  if (\"native\" in i) return i;\n  const {\n    canvas: e,\n    currentDevicePixelRatio: s\n  } = t,\n        n = Ke(e),\n        o = n.boxSizing === \"border-box\",\n        r = Ot(n, \"padding\"),\n        a = Ot(n, \"border\", \"width\"),\n        {\n    x: l,\n    y: c,\n    box: h\n  } = Ir(i, e),\n        d = r.left + (h && a.left),\n        u = r.top + (h && a.top);\n  let {\n    width: f,\n    height: g\n  } = t;\n  return o && (f -= r.width + a.width, g -= r.height + a.height), {\n    x: Math.round((l - d) / f * e.width / s),\n    y: Math.round((c - u) / g * e.height / s)\n  };\n}\n\nfunction zr(i, t, e) {\n  let s, n;\n\n  if (t === void 0 || e === void 0) {\n    const o = Wi(i);\n    if (!o) t = i.clientWidth, e = i.clientHeight;else {\n      const r = o.getBoundingClientRect(),\n            a = Ke(o),\n            l = Ot(a, \"border\", \"width\"),\n            c = Ot(a, \"padding\");\n      t = r.width - c.width - l.width, e = r.height - c.height - l.height, s = He(a.maxWidth, o, \"clientWidth\"), n = He(a.maxHeight, o, \"clientHeight\");\n    }\n  }\n\n  return {\n    width: t,\n    height: e,\n    maxWidth: s || Ve,\n    maxHeight: n || Ve\n  };\n}\n\nconst ai = i => Math.round(i * 10) / 10;\n\nfunction Br(i, t, e, s) {\n  const n = Ke(i),\n        o = Ot(n, \"margin\"),\n        r = He(n.maxWidth, i, \"clientWidth\") || Ve,\n        a = He(n.maxHeight, i, \"clientHeight\") || Ve,\n        l = zr(i, t, e);\n  let {\n    width: c,\n    height: h\n  } = l;\n\n  if (n.boxSizing === \"content-box\") {\n    const d = Ot(n, \"border\", \"width\"),\n          u = Ot(n, \"padding\");\n    c -= u.width + d.width, h -= u.height + d.height;\n  }\n\n  return c = Math.max(0, c - o.width), h = Math.max(0, s ? Math.floor(c / s) : h - o.height), c = ai(Math.min(c, r, l.maxWidth)), h = ai(Math.min(h, a, l.maxHeight)), c && !h && (h = ai(c / 2)), {\n    width: c,\n    height: h\n  };\n}\n\nfunction ls(i, t, e) {\n  const s = t || 1,\n        n = Math.floor(i.height * s),\n        o = Math.floor(i.width * s);\n  i.height = n / s, i.width = o / s;\n  const r = i.canvas;\n  return r.style && (e || !r.style.height && !r.style.width) && (r.style.height = `${i.height}px`, r.style.width = `${i.width}px`), i.currentDevicePixelRatio !== s || r.height !== n || r.width !== o ? (i.currentDevicePixelRatio = s, r.height = n, r.width = o, i.ctx.setTransform(s, 0, 0, s, 0, 0), !0) : !1;\n}\n\nconst Vr = function () {\n  let i = !1;\n\n  try {\n    const t = {\n      get passive() {\n        return i = !0, !1;\n      }\n\n    };\n    window.addEventListener(\"test\", null, t), window.removeEventListener(\"test\", null, t);\n  } catch {}\n\n  return i;\n}();\n\nfunction cs(i, t) {\n  const e = Rr(i, t),\n        s = e && e.match(/^(\\d+)(\\.\\d+)?px$/);\n  return s ? +s[1] : void 0;\n}\n\nfunction Ct(i, t, e, s) {\n  return {\n    x: i.x + e * (t.x - i.x),\n    y: i.y + e * (t.y - i.y)\n  };\n}\n\nfunction Wr(i, t, e, s) {\n  return {\n    x: i.x + e * (t.x - i.x),\n    y: s === \"middle\" ? e < 0.5 ? i.y : t.y : s === \"after\" ? e < 1 ? i.y : t.y : e > 0 ? t.y : i.y\n  };\n}\n\nfunction Nr(i, t, e, s) {\n  const n = {\n    x: i.cp2x,\n    y: i.cp2y\n  },\n        o = {\n    x: t.cp1x,\n    y: t.cp1y\n  },\n        r = Ct(i, n, e),\n        a = Ct(n, o, e),\n        l = Ct(o, t, e),\n        c = Ct(r, a, e),\n        h = Ct(a, l, e);\n  return Ct(c, h, e);\n}\n\nconst hs = /* @__PURE__ */new Map();\n\nfunction Hr(i, t) {\n  t = t || {};\n  const e = i + JSON.stringify(t);\n  let s = hs.get(e);\n  return s || (s = new Intl.NumberFormat(i, t), hs.set(e, s)), s;\n}\n\nfunction de(i, t, e) {\n  return Hr(t, e).format(i);\n}\n\nconst jr = function (i, t) {\n  return {\n    x(e) {\n      return i + i + t - e;\n    },\n\n    setWidth(e) {\n      t = e;\n    },\n\n    textAlign(e) {\n      return e === \"center\" ? e : e === \"right\" ? \"left\" : \"right\";\n    },\n\n    xPlus(e, s) {\n      return e - s;\n    },\n\n    leftForLtr(e, s) {\n      return e - s;\n    }\n\n  };\n},\n      $r = function () {\n  return {\n    x(i) {\n      return i;\n    },\n\n    setWidth(i) {},\n\n    textAlign(i) {\n      return i;\n    },\n\n    xPlus(i, t) {\n      return i + t;\n    },\n\n    leftForLtr(i, t) {\n      return i;\n    }\n\n  };\n};\n\nfunction zt(i, t, e) {\n  return i ? jr(t, e) : $r();\n}\n\nfunction Tn(i, t) {\n  let e, s;\n  (t === \"ltr\" || t === \"rtl\") && (e = i.canvas.style, s = [e.getPropertyValue(\"direction\"), e.getPropertyPriority(\"direction\")], e.setProperty(\"direction\", t, \"important\"), i.prevTextDirection = s);\n}\n\nfunction Ln(i, t) {\n  t !== void 0 && (delete i.prevTextDirection, i.canvas.style.setProperty(\"direction\", t[0], t[1]));\n}\n\nfunction Rn(i) {\n  return i === \"angle\" ? {\n    between: oe,\n    compare: Ao,\n    normalize: Z\n  } : {\n    between: ut,\n    compare: (t, e) => t - e,\n    normalize: t => t\n  };\n}\n\nfunction ds(_ref) {\n  let {\n    start: i,\n    end: t,\n    count: e,\n    loop: s,\n    style: n\n  } = _ref;\n  return {\n    start: i % e,\n    end: t % e,\n    loop: s && (t - i + 1) % e === 0,\n    style: n\n  };\n}\n\nfunction Yr(i, t, e) {\n  const {\n    property: s,\n    start: n,\n    end: o\n  } = e,\n        {\n    between: r,\n    normalize: a\n  } = Rn(s),\n        l = t.length;\n  let {\n    start: c,\n    end: h,\n    loop: d\n  } = i,\n      u,\n      f;\n\n  if (d) {\n    for (c += l, h += l, u = 0, f = l; u < f && r(a(t[c % l][s]), n, o); ++u) c--, h--;\n\n    c %= l, h %= l;\n  }\n\n  return h < c && (h += l), {\n    start: c,\n    end: h,\n    loop: d,\n    style: i.style\n  };\n}\n\nfunction En(i, t, e) {\n  if (!e) return [i];\n  const {\n    property: s,\n    start: n,\n    end: o\n  } = e,\n        r = t.length,\n        {\n    compare: a,\n    between: l,\n    normalize: c\n  } = Rn(s),\n        {\n    start: h,\n    end: d,\n    loop: u,\n    style: f\n  } = Yr(i, t, e),\n        g = [];\n  let p = !1,\n      m = null,\n      b,\n      x,\n      v;\n\n  const y = () => l(n, v, b) && a(n, v) !== 0,\n        _ = () => a(o, b) === 0 || l(o, v, b),\n        M = () => p || y(),\n        k = () => !p || _();\n\n  for (let S = h, w = h; S <= d; ++S) x = t[S % r], !x.skip && (b = c(x[s]), b !== v && (p = l(b, n, o), m === null && M() && (m = a(b, n) === 0 ? S : w), m !== null && k() && (g.push(ds({\n    start: m,\n    end: S,\n    loop: u,\n    count: r,\n    style: f\n  })), m = null), w = S, v = b));\n\n  return m !== null && g.push(ds({\n    start: m,\n    end: d,\n    loop: u,\n    count: r,\n    style: f\n  })), g;\n}\n\nfunction Fn(i, t) {\n  const e = [],\n        s = i.segments;\n\n  for (let n = 0; n < s.length; n++) {\n    const o = En(s[n], i.points, t);\n    o.length && e.push(...o);\n  }\n\n  return e;\n}\n\nfunction Xr(i, t, e, s) {\n  let n = 0,\n      o = t - 1;\n  if (e && !s) for (; n < t && !i[n].skip;) n++;\n\n  for (; n < t && i[n].skip;) n++;\n\n  for (n %= t, e && (o += n); o > n && i[o % t].skip;) o--;\n\n  return o %= t, {\n    start: n,\n    end: o\n  };\n}\n\nfunction Ur(i, t, e, s) {\n  const n = i.length,\n        o = [];\n  let r = t,\n      a = i[t],\n      l;\n\n  for (l = t + 1; l <= e; ++l) {\n    const c = i[l % n];\n    c.skip || c.stop ? a.skip || (s = !1, o.push({\n      start: t % n,\n      end: (l - 1) % n,\n      loop: s\n    }), t = r = c.stop ? l : null) : (r = l, a.skip && (t = l)), a = c;\n  }\n\n  return r !== null && o.push({\n    start: t % n,\n    end: r % n,\n    loop: s\n  }), o;\n}\n\nfunction Kr(i, t) {\n  const e = i.points,\n        s = i.options.spanGaps,\n        n = e.length;\n  if (!n) return [];\n  const o = !!i._loop,\n        {\n    start: r,\n    end: a\n  } = Xr(e, n, o, s);\n  if (s === !0) return us(i, [{\n    start: r,\n    end: a,\n    loop: o\n  }], e, t);\n  const l = a < r ? a + n : a,\n        c = !!i._fullLoop && r === 0 && a === n - 1;\n  return us(i, Ur(e, r, l, c), e, t);\n}\n\nfunction us(i, t, e, s) {\n  return !s || !s.setContext || !e ? t : qr(i, t, e, s);\n}\n\nfunction qr(i, t, e, s) {\n  const n = i._chart.getContext(),\n        o = fs(i.options),\n        {\n    _datasetIndex: r,\n    options: {\n      spanGaps: a\n    }\n  } = i,\n        l = e.length,\n        c = [];\n\n  let h = o,\n      d = t[0].start,\n      u = d;\n\n  function f(g, p, m, b) {\n    const x = a ? -1 : 1;\n\n    if (g !== p) {\n      for (g += l; e[g % l].skip;) g -= x;\n\n      for (; e[p % l].skip;) p += x;\n\n      g % l !== p % l && (c.push({\n        start: g % l,\n        end: p % l,\n        loop: m,\n        style: b\n      }), h = b, d = p % l);\n    }\n  }\n\n  for (const g of t) {\n    d = a ? d : g.start;\n    let p = e[d % l],\n        m;\n\n    for (u = d + 1; u <= g.end; u++) {\n      const b = e[u % l];\n      m = fs(s.setContext(vt(n, {\n        type: \"segment\",\n        p0: p,\n        p1: b,\n        p0DataIndex: (u - 1) % l,\n        p1DataIndex: u % l,\n        datasetIndex: r\n      }))), Gr(m, h) && f(d, u - 1, g.loop, h), p = b, h = m;\n    }\n\n    d < u - 1 && f(d, u - 1, g.loop, h);\n  }\n\n  return c;\n}\n\nfunction fs(i) {\n  return {\n    backgroundColor: i.backgroundColor,\n    borderCapStyle: i.borderCapStyle,\n    borderDash: i.borderDash,\n    borderDashOffset: i.borderDashOffset,\n    borderJoinStyle: i.borderJoinStyle,\n    borderWidth: i.borderWidth,\n    borderColor: i.borderColor\n  };\n}\n\nfunction Gr(i, t) {\n  return t && JSON.stringify(i) !== JSON.stringify(t);\n}\n/*!\n * Chart.js v3.9.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\n\n\nclass Zr {\n  constructor() {\n    this._request = null, this._charts = /* @__PURE__ */new Map(), this._running = !1, this._lastDate = void 0;\n  }\n\n  _notify(t, e, s, n) {\n    const o = e.listeners[n],\n          r = e.duration;\n    o.forEach(a => a({\n      chart: t,\n      initial: e.initial,\n      numSteps: r,\n      currentStep: Math.min(s - e.start, r)\n    }));\n  }\n\n  _refresh() {\n    this._request || (this._running = !0, this._request = fn.call(window, () => {\n      this._update(), this._request = null, this._running && this._refresh();\n    }));\n  }\n\n  _update() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Date.now();\n    let e = 0;\n    this._charts.forEach((s, n) => {\n      if (!s.running || !s.items.length) return;\n      const o = s.items;\n      let r = o.length - 1,\n          a = !1,\n          l;\n\n      for (; r >= 0; --r) l = o[r], l._active ? (l._total > s.duration && (s.duration = l._total), l.tick(t), a = !0) : (o[r] = o[o.length - 1], o.pop());\n\n      a && (n.draw(), this._notify(n, s, t, \"progress\")), o.length || (s.running = !1, this._notify(n, s, t, \"complete\"), s.initial = !1), e += o.length;\n    }), this._lastDate = t, e === 0 && (this._running = !1);\n  }\n\n  _getAnims(t) {\n    const e = this._charts;\n    let s = e.get(t);\n    return s || (s = {\n      running: !1,\n      initial: !0,\n      items: [],\n      listeners: {\n        complete: [],\n        progress: []\n      }\n    }, e.set(t, s)), s;\n  }\n\n  listen(t, e, s) {\n    this._getAnims(t).listeners[e].push(s);\n  }\n\n  add(t, e) {\n    !e || !e.length || this._getAnims(t).items.push(...e);\n  }\n\n  has(t) {\n    return this._getAnims(t).items.length > 0;\n  }\n\n  start(t) {\n    const e = this._charts.get(t);\n\n    e && (e.running = !0, e.start = Date.now(), e.duration = e.items.reduce((s, n) => Math.max(s, n._duration), 0), this._refresh());\n  }\n\n  running(t) {\n    if (!this._running) return !1;\n\n    const e = this._charts.get(t);\n\n    return !(!e || !e.running || !e.items.length);\n  }\n\n  stop(t) {\n    const e = this._charts.get(t);\n\n    if (!e || !e.items.length) return;\n    const s = e.items;\n    let n = s.length - 1;\n\n    for (; n >= 0; --n) s[n].cancel();\n\n    e.items = [], this._notify(t, e, Date.now(), \"complete\");\n  }\n\n  remove(t) {\n    return this._charts.delete(t);\n  }\n\n}\n\nvar at = new Zr();\nconst gs = \"transparent\",\n      Jr = {\n  boolean(i, t, e) {\n    return e > 0.5 ? t : i;\n  },\n\n  color(i, t, e) {\n    const s = ns(i || gs),\n          n = s.valid && ns(t || gs);\n    return n && n.valid ? n.mix(s, e).hexString() : t;\n  },\n\n  number(i, t, e) {\n    return i + (t - i) * e;\n  }\n\n};\n\nclass In {\n  constructor(t, e, s, n) {\n    const o = e[s];\n    n = Zt([t.to, n, o, t.from]);\n    const r = Zt([t.from, o, n]);\n    this._active = !0, this._fn = t.fn || Jr[t.type || typeof r], this._easing = ee[t.easing] || ee.linear, this._start = Math.floor(Date.now() + (t.delay || 0)), this._duration = this._total = Math.floor(t.duration), this._loop = !!t.loop, this._target = e, this._prop = s, this._from = r, this._to = n, this._promises = void 0;\n  }\n\n  active() {\n    return this._active;\n  }\n\n  update(t, e, s) {\n    if (this._active) {\n      this._notify(!1);\n\n      const n = this._target[this._prop],\n            o = s - this._start,\n            r = this._duration - o;\n      this._start = s, this._duration = Math.floor(Math.max(r, t.duration)), this._total += o, this._loop = !!t.loop, this._to = Zt([t.to, e, n, t.from]), this._from = Zt([t.from, n, e]);\n    }\n  }\n\n  cancel() {\n    this._active && (this.tick(Date.now()), this._active = !1, this._notify(!1));\n  }\n\n  tick(t) {\n    const e = t - this._start,\n          s = this._duration,\n          n = this._prop,\n          o = this._from,\n          r = this._loop,\n          a = this._to;\n    let l;\n\n    if (this._active = o !== a && (r || e < s), !this._active) {\n      this._target[n] = a, this._notify(!0);\n      return;\n    }\n\n    if (e < 0) {\n      this._target[n] = o;\n      return;\n    }\n\n    l = e / s % 2, l = r && l > 1 ? 2 - l : l, l = this._easing(Math.min(1, Math.max(0, l))), this._target[n] = this._fn(o, a, l);\n  }\n\n  wait() {\n    const t = this._promises || (this._promises = []);\n    return new Promise((e, s) => {\n      t.push({\n        res: e,\n        rej: s\n      });\n    });\n  }\n\n  _notify(t) {\n    const e = t ? \"res\" : \"rej\",\n          s = this._promises || [];\n\n    for (let n = 0; n < s.length; n++) s[n][e]();\n  }\n\n}\n\nconst Qr = [\"x\", \"y\", \"borderWidth\", \"radius\", \"tension\"],\n      ta = [\"color\", \"borderColor\", \"backgroundColor\"];\nO.set(\"animation\", {\n  delay: void 0,\n  duration: 1e3,\n  easing: \"easeOutQuart\",\n  fn: void 0,\n  from: void 0,\n  loop: void 0,\n  to: void 0,\n  type: void 0\n});\nconst ea = Object.keys(O.animation);\nO.describe(\"animation\", {\n  _fallback: !1,\n  _indexable: !1,\n  _scriptable: i => i !== \"onProgress\" && i !== \"onComplete\" && i !== \"fn\"\n});\nO.set(\"animations\", {\n  colors: {\n    type: \"color\",\n    properties: ta\n  },\n  numbers: {\n    type: \"number\",\n    properties: Qr\n  }\n});\nO.describe(\"animations\", {\n  _fallback: \"animation\"\n});\nO.set(\"transitions\", {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: \"transparent\"\n      },\n      visible: {\n        type: \"boolean\",\n        duration: 0\n      }\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: \"transparent\"\n      },\n      visible: {\n        type: \"boolean\",\n        easing: \"linear\",\n        fn: i => i | 0\n      }\n    }\n  }\n});\n\nclass Ni {\n  constructor(t, e) {\n    this._chart = t, this._properties = /* @__PURE__ */new Map(), this.configure(e);\n  }\n\n  configure(t) {\n    if (!D(t)) return;\n    const e = this._properties;\n    Object.getOwnPropertyNames(t).forEach(s => {\n      const n = t[s];\n      if (!D(n)) return;\n      const o = {};\n\n      for (const r of ea) o[r] = n[r];\n\n      (z(n.properties) && n.properties || [s]).forEach(r => {\n        (r === s || !e.has(r)) && e.set(r, o);\n      });\n    });\n  }\n\n  _animateOptions(t, e) {\n    const s = e.options,\n          n = sa(t, s);\n    if (!n) return [];\n\n    const o = this._createAnimations(n, s);\n\n    return s.$shared && ia(t.options.$animations, s).then(() => {\n      t.options = s;\n    }, () => {}), o;\n  }\n\n  _createAnimations(t, e) {\n    const s = this._properties,\n          n = [],\n          o = t.$animations || (t.$animations = {}),\n          r = Object.keys(e),\n          a = Date.now();\n    let l;\n\n    for (l = r.length - 1; l >= 0; --l) {\n      const c = r[l];\n      if (c.charAt(0) === \"$\") continue;\n\n      if (c === \"options\") {\n        n.push(...this._animateOptions(t, e));\n        continue;\n      }\n\n      const h = e[c];\n      let d = o[c];\n      const u = s.get(c);\n      if (d) if (u && d.active()) {\n        d.update(u, h, a);\n        continue;\n      } else d.cancel();\n\n      if (!u || !u.duration) {\n        t[c] = h;\n        continue;\n      }\n\n      o[c] = d = new In(u, t, c, h), n.push(d);\n    }\n\n    return n;\n  }\n\n  update(t, e) {\n    if (this._properties.size === 0) {\n      Object.assign(t, e);\n      return;\n    }\n\n    const s = this._createAnimations(t, e);\n\n    if (s.length) return at.add(this._chart, s), !0;\n  }\n\n}\n\nfunction ia(i, t) {\n  const e = [],\n        s = Object.keys(t);\n\n  for (let n = 0; n < s.length; n++) {\n    const o = i[s[n]];\n    o && o.active() && e.push(o.wait());\n  }\n\n  return Promise.all(e);\n}\n\nfunction sa(i, t) {\n  if (!t) return;\n  let e = i.options;\n\n  if (!e) {\n    i.options = t;\n    return;\n  }\n\n  return e.$shared && (i.options = e = Object.assign({}, e, {\n    $shared: !1,\n    $animations: {}\n  })), e;\n}\n\nfunction ps(i, t) {\n  const e = i && i.options || {},\n        s = e.reverse,\n        n = e.min === void 0 ? t : 0,\n        o = e.max === void 0 ? t : 0;\n  return {\n    start: s ? o : n,\n    end: s ? n : o\n  };\n}\n\nfunction na(i, t, e) {\n  if (e === !1) return !1;\n  const s = ps(i, e),\n        n = ps(t, e);\n  return {\n    top: n.end,\n    right: s.end,\n    bottom: n.start,\n    left: s.start\n  };\n}\n\nfunction oa(i) {\n  let t, e, s, n;\n  return D(i) ? (t = i.top, e = i.right, s = i.bottom, n = i.left) : t = e = s = n = i, {\n    top: t,\n    right: e,\n    bottom: s,\n    left: n,\n    disabled: i === !1\n  };\n}\n\nfunction zn(i, t) {\n  const e = [],\n        s = i._getSortedDatasetMetas(t);\n\n  let n, o;\n\n  for (n = 0, o = s.length; n < o; ++n) e.push(s[n].index);\n\n  return e;\n}\n\nfunction ms(i, t, e) {\n  let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const n = i.keys,\n        o = s.mode === \"single\";\n  let r, a, l, c;\n\n  if (t !== null) {\n    for (r = 0, a = n.length; r < a; ++r) {\n      if (l = +n[r], l === e) {\n        if (s.all) continue;\n        break;\n      }\n\n      c = i.values[l], N(c) && (o || t === 0 || lt(t) === lt(c)) && (t += c);\n    }\n\n    return t;\n  }\n}\n\nfunction ra(i) {\n  const t = Object.keys(i),\n        e = new Array(t.length);\n  let s, n, o;\n\n  for (s = 0, n = t.length; s < n; ++s) o = t[s], e[s] = {\n    x: o,\n    y: i[o]\n  };\n\n  return e;\n}\n\nfunction bs(i, t) {\n  const e = i && i.options.stacked;\n  return e || e === void 0 && t.stack !== void 0;\n}\n\nfunction aa(i, t, e) {\n  return `${i.id}.${t.id}.${e.stack || e.type}`;\n}\n\nfunction la(i) {\n  const {\n    min: t,\n    max: e,\n    minDefined: s,\n    maxDefined: n\n  } = i.getUserBounds();\n  return {\n    min: s ? t : Number.NEGATIVE_INFINITY,\n    max: n ? e : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction ca(i, t, e) {\n  const s = i[t] || (i[t] = {});\n  return s[e] || (s[e] = {});\n}\n\nfunction xs(i, t, e, s) {\n  for (const n of t.getMatchingVisibleMetas(s).reverse()) {\n    const o = i[n.index];\n    if (e && o > 0 || !e && o < 0) return n.index;\n  }\n\n  return null;\n}\n\nfunction _s(i, t) {\n  const {\n    chart: e,\n    _cachedMeta: s\n  } = i,\n        n = e._stacks || (e._stacks = {}),\n        {\n    iScale: o,\n    vScale: r,\n    index: a\n  } = s,\n        l = o.axis,\n        c = r.axis,\n        h = aa(o, r, s),\n        d = t.length;\n  let u;\n\n  for (let f = 0; f < d; ++f) {\n    const g = t[f],\n          {\n      [l]: p,\n      [c]: m\n    } = g,\n          b = g._stacks || (g._stacks = {});\n    u = b[c] = ca(n, h, p), u[a] = m, u._top = xs(u, r, !0, s.type), u._bottom = xs(u, r, !1, s.type);\n  }\n}\n\nfunction li(i, t) {\n  const e = i.scales;\n  return Object.keys(e).filter(s => e[s].axis === t).shift();\n}\n\nfunction ha(i, t) {\n  return vt(i, {\n    active: !1,\n    dataset: void 0,\n    datasetIndex: t,\n    index: t,\n    mode: \"default\",\n    type: \"dataset\"\n  });\n}\n\nfunction da(i, t, e) {\n  return vt(i, {\n    active: !1,\n    dataIndex: t,\n    parsed: void 0,\n    raw: void 0,\n    element: e,\n    index: t,\n    mode: \"default\",\n    type: \"data\"\n  });\n}\n\nfunction Yt(i, t) {\n  const e = i.controller.index,\n        s = i.vScale && i.vScale.axis;\n\n  if (s) {\n    t = t || i._parsed;\n\n    for (const n of t) {\n      const o = n._stacks;\n      if (!o || o[s] === void 0 || o[s][e] === void 0) return;\n      delete o[s][e];\n    }\n  }\n}\n\nconst ci = i => i === \"reset\" || i === \"none\",\n      ys = (i, t) => t ? i : Object.assign({}, i),\n      ua = (i, t, e) => i && !t.hidden && t._stacked && {\n  keys: zn(e, !0),\n  values: null\n};\n\nclass it {\n  constructor(t, e) {\n    this.chart = t, this._ctx = t.ctx, this.index = e, this._cachedDataOpts = {}, this._cachedMeta = this.getMeta(), this._type = this._cachedMeta.type, this.options = void 0, this._parsing = !1, this._data = void 0, this._objectData = void 0, this._sharedOptions = void 0, this._drawStart = void 0, this._drawCount = void 0, this.enableOptionSharing = !1, this.supportsDecimation = !1, this.$context = void 0, this._syncList = [], this.initialize();\n  }\n\n  initialize() {\n    const t = this._cachedMeta;\n    this.configure(), this.linkScales(), t._stacked = bs(t.vScale, t), this.addElements();\n  }\n\n  updateIndex(t) {\n    this.index !== t && Yt(this._cachedMeta), this.index = t;\n  }\n\n  linkScales() {\n    const t = this.chart,\n          e = this._cachedMeta,\n          s = this.getDataset(),\n          n = (d, u, f, g) => d === \"x\" ? u : d === \"r\" ? g : f,\n          o = e.xAxisID = C(s.xAxisID, li(t, \"x\")),\n          r = e.yAxisID = C(s.yAxisID, li(t, \"y\")),\n          a = e.rAxisID = C(s.rAxisID, li(t, \"r\")),\n          l = e.indexAxis,\n          c = e.iAxisID = n(l, o, r, a),\n          h = e.vAxisID = n(l, r, o, a);\n\n    e.xScale = this.getScaleForId(o), e.yScale = this.getScaleForId(r), e.rScale = this.getScaleForId(a), e.iScale = this.getScaleForId(c), e.vScale = this.getScaleForId(h);\n  }\n\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n\n  getScaleForId(t) {\n    return this.chart.scales[t];\n  }\n\n  _getOtherScale(t) {\n    const e = this._cachedMeta;\n    return t === e.iScale ? e.vScale : e.iScale;\n  }\n\n  reset() {\n    this._update(\"reset\");\n  }\n\n  _destroy() {\n    const t = this._cachedMeta;\n    this._data && Zi(this._data, this), t._stacked && Yt(t);\n  }\n\n  _dataCheck() {\n    const t = this.getDataset(),\n          e = t.data || (t.data = []),\n          s = this._data;\n    if (D(e)) this._data = ra(e);else if (s !== e) {\n      if (s) {\n        Zi(s, this);\n        const n = this._cachedMeta;\n        Yt(n), n._parsed = [];\n      }\n\n      e && Object.isExtensible(e) && Eo(e, this), this._syncList = [], this._data = e;\n    }\n  }\n\n  addElements() {\n    const t = this._cachedMeta;\n    this._dataCheck(), this.datasetElementType && (t.dataset = new this.datasetElementType());\n  }\n\n  buildOrUpdateElements(t) {\n    const e = this._cachedMeta,\n          s = this.getDataset();\n    let n = !1;\n\n    this._dataCheck();\n\n    const o = e._stacked;\n    e._stacked = bs(e.vScale, e), e.stack !== s.stack && (n = !0, Yt(e), e.stack = s.stack), this._resyncElements(t), (n || o !== e._stacked) && _s(this, e._parsed);\n  }\n\n  configure() {\n    const t = this.chart.config,\n          e = t.datasetScopeKeys(this._type),\n          s = t.getOptionScopes(this.getDataset(), e, !0);\n    this.options = t.createResolver(s, this.getContext()), this._parsing = this.options.parsing, this._cachedDataOpts = {};\n  }\n\n  parse(t, e) {\n    const {\n      _cachedMeta: s,\n      _data: n\n    } = this,\n          {\n      iScale: o,\n      _stacked: r\n    } = s,\n          a = o.axis;\n    let l = t === 0 && e === n.length ? !0 : s._sorted,\n        c = t > 0 && s._parsed[t - 1],\n        h,\n        d,\n        u;\n    if (this._parsing === !1) s._parsed = n, s._sorted = !0, u = n;else {\n      z(n[t]) ? u = this.parseArrayData(s, n, t, e) : D(n[t]) ? u = this.parseObjectData(s, n, t, e) : u = this.parsePrimitiveData(s, n, t, e);\n\n      const f = () => d[a] === null || c && d[a] < c[a];\n\n      for (h = 0; h < e; ++h) s._parsed[h + t] = d = u[h], l && (f() && (l = !1), c = d);\n\n      s._sorted = l;\n    }\n    r && _s(this, u);\n  }\n\n  parsePrimitiveData(t, e, s, n) {\n    const {\n      iScale: o,\n      vScale: r\n    } = t,\n          a = o.axis,\n          l = r.axis,\n          c = o.getLabels(),\n          h = o === r,\n          d = new Array(n);\n    let u, f, g;\n\n    for (u = 0, f = n; u < f; ++u) g = u + s, d[u] = {\n      [a]: h || o.parse(c[g], g),\n      [l]: r.parse(e[g], g)\n    };\n\n    return d;\n  }\n\n  parseArrayData(t, e, s, n) {\n    const {\n      xScale: o,\n      yScale: r\n    } = t,\n          a = new Array(n);\n    let l, c, h, d;\n\n    for (l = 0, c = n; l < c; ++l) h = l + s, d = e[h], a[l] = {\n      x: o.parse(d[0], h),\n      y: r.parse(d[1], h)\n    };\n\n    return a;\n  }\n\n  parseObjectData(t, e, s, n) {\n    const {\n      xScale: o,\n      yScale: r\n    } = t,\n          {\n      xAxisKey: a = \"x\",\n      yAxisKey: l = \"y\"\n    } = this._parsing,\n          c = new Array(n);\n    let h, d, u, f;\n\n    for (h = 0, d = n; h < d; ++h) u = h + s, f = e[u], c[h] = {\n      x: o.parse(_t(f, a), u),\n      y: r.parse(_t(f, l), u)\n    };\n\n    return c;\n  }\n\n  getParsed(t) {\n    return this._cachedMeta._parsed[t];\n  }\n\n  getDataElement(t) {\n    return this._cachedMeta.data[t];\n  }\n\n  applyStack(t, e, s) {\n    const n = this.chart,\n          o = this._cachedMeta,\n          r = e[t.axis],\n          a = {\n      keys: zn(n, !0),\n      values: e._stacks[t.axis]\n    };\n    return ms(a, r, o.index, {\n      mode: s\n    });\n  }\n\n  updateRangeFromParsed(t, e, s, n) {\n    const o = s[e.axis];\n    let r = o === null ? NaN : o;\n    const a = n && s._stacks[e.axis];\n    n && a && (n.values = a, r = ms(n, o, this._cachedMeta.index)), t.min = Math.min(t.min, r), t.max = Math.max(t.max, r);\n  }\n\n  getMinMax(t, e) {\n    const s = this._cachedMeta,\n          n = s._parsed,\n          o = s._sorted && t === s.iScale,\n          r = n.length,\n          a = this._getOtherScale(t),\n          l = ua(e, s, this.chart),\n          c = {\n      min: Number.POSITIVE_INFINITY,\n      max: Number.NEGATIVE_INFINITY\n    },\n          {\n      min: h,\n      max: d\n    } = la(a);\n\n    let u, f;\n\n    function g() {\n      f = n[u];\n      const p = f[a.axis];\n      return !N(f[t.axis]) || h > p || d < p;\n    }\n\n    for (u = 0; u < r && !(!g() && (this.updateRangeFromParsed(c, t, f, l), o)); ++u);\n\n    if (o) {\n      for (u = r - 1; u >= 0; --u) if (!g()) {\n        this.updateRangeFromParsed(c, t, f, l);\n        break;\n      }\n    }\n\n    return c;\n  }\n\n  getAllParsedValues(t) {\n    const e = this._cachedMeta._parsed,\n          s = [];\n    let n, o, r;\n\n    for (n = 0, o = e.length; n < o; ++n) r = e[n][t.axis], N(r) && s.push(r);\n\n    return s;\n  }\n\n  getMaxOverflow() {\n    return !1;\n  }\n\n  getLabelAndValue(t) {\n    const e = this._cachedMeta,\n          s = e.iScale,\n          n = e.vScale,\n          o = this.getParsed(t);\n    return {\n      label: s ? \"\" + s.getLabelForValue(o[s.axis]) : \"\",\n      value: n ? \"\" + n.getLabelForValue(o[n.axis]) : \"\"\n    };\n  }\n\n  _update(t) {\n    const e = this._cachedMeta;\n    this.update(t || \"default\"), e._clip = oa(C(this.options.clip, na(e.xScale, e.yScale, this.getMaxOverflow())));\n  }\n\n  update(t) {}\n\n  draw() {\n    const t = this._ctx,\n          e = this.chart,\n          s = this._cachedMeta,\n          n = s.data || [],\n          o = e.chartArea,\n          r = [],\n          a = this._drawStart || 0,\n          l = this._drawCount || n.length - a,\n          c = this.options.drawActiveElementsOnTop;\n    let h;\n\n    for (s.dataset && s.dataset.draw(t, o, a, l), h = a; h < a + l; ++h) {\n      const d = n[h];\n      d.hidden || (d.active && c ? r.push(d) : d.draw(t, o));\n    }\n\n    for (h = 0; h < r.length; ++h) r[h].draw(t, o);\n  }\n\n  getStyle(t, e) {\n    const s = e ? \"active\" : \"default\";\n    return t === void 0 && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(s) : this.resolveDataElementOptions(t || 0, s);\n  }\n\n  getContext(t, e, s) {\n    const n = this.getDataset();\n    let o;\n\n    if (t >= 0 && t < this._cachedMeta.data.length) {\n      const r = this._cachedMeta.data[t];\n      o = r.$context || (r.$context = da(this.getContext(), t, r)), o.parsed = this.getParsed(t), o.raw = n.data[t], o.index = o.dataIndex = t;\n    } else o = this.$context || (this.$context = ha(this.chart.getContext(), this.index)), o.dataset = n, o.index = o.datasetIndex = this.index;\n\n    return o.active = !!e, o.mode = s, o;\n  }\n\n  resolveDatasetElementOptions(t) {\n    return this._resolveElementOptions(this.datasetElementType.id, t);\n  }\n\n  resolveDataElementOptions(t, e) {\n    return this._resolveElementOptions(this.dataElementType.id, e, t);\n  }\n\n  _resolveElementOptions(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"default\";\n    let s = arguments.length > 2 ? arguments[2] : undefined;\n    const n = e === \"active\",\n          o = this._cachedDataOpts,\n          r = t + \"-\" + e,\n          a = o[r],\n          l = this.enableOptionSharing && et(s);\n    if (a) return ys(a, l);\n\n    const c = this.chart.config,\n          h = c.datasetElementScopeKeys(this._type, t),\n          d = n ? [`${t}Hover`, \"hover\", t, \"\"] : [t, \"\"],\n          u = c.getOptionScopes(this.getDataset(), h),\n          f = Object.keys(O.elements[t]),\n          g = () => this.getContext(s, n),\n          p = c.resolveNamedOptions(u, f, g, d);\n\n    return p.$shared && (p.$shared = l, o[r] = Object.freeze(ys(p, l))), p;\n  }\n\n  _resolveAnimations(t, e, s) {\n    const n = this.chart,\n          o = this._cachedDataOpts,\n          r = `animation-${e}`,\n          a = o[r];\n    if (a) return a;\n    let l;\n\n    if (n.options.animation !== !1) {\n      const h = this.chart.config,\n            d = h.datasetAnimationScopeKeys(this._type, e),\n            u = h.getOptionScopes(this.getDataset(), d);\n      l = h.createResolver(u, this.getContext(t, s, e));\n    }\n\n    const c = new Ni(n, l && l.animations);\n    return l && l._cacheable && (o[r] = Object.freeze(c)), c;\n  }\n\n  getSharedOptions(t) {\n    if (t.$shared) return this._sharedOptions || (this._sharedOptions = Object.assign({}, t));\n  }\n\n  includeOptions(t, e) {\n    return !e || ci(t) || this.chart._animationsDisabled;\n  }\n\n  _getSharedOptions(t, e) {\n    const s = this.resolveDataElementOptions(t, e),\n          n = this._sharedOptions,\n          o = this.getSharedOptions(s),\n          r = this.includeOptions(e, o) || o !== n;\n    return this.updateSharedOptions(o, e, s), {\n      sharedOptions: o,\n      includeOptions: r\n    };\n  }\n\n  updateElement(t, e, s, n) {\n    ci(n) ? Object.assign(t, s) : this._resolveAnimations(e, n).update(t, s);\n  }\n\n  updateSharedOptions(t, e, s) {\n    t && !ci(e) && this._resolveAnimations(void 0, e).update(t, s);\n  }\n\n  _setStyle(t, e, s, n) {\n    t.active = n;\n    const o = this.getStyle(e, n);\n\n    this._resolveAnimations(e, s, n).update(t, {\n      options: !n && this.getSharedOptions(o) || o\n    });\n  }\n\n  removeHoverStyle(t, e, s) {\n    this._setStyle(t, s, \"active\", !1);\n  }\n\n  setHoverStyle(t, e, s) {\n    this._setStyle(t, s, \"active\", !0);\n  }\n\n  _removeDatasetHoverStyle() {\n    const t = this._cachedMeta.dataset;\n    t && this._setStyle(t, void 0, \"active\", !1);\n  }\n\n  _setDatasetHoverStyle() {\n    const t = this._cachedMeta.dataset;\n    t && this._setStyle(t, void 0, \"active\", !0);\n  }\n\n  _resyncElements(t) {\n    const e = this._data,\n          s = this._cachedMeta.data;\n\n    for (const [a, l, c] of this._syncList) this[a](l, c);\n\n    this._syncList = [];\n    const n = s.length,\n          o = e.length,\n          r = Math.min(o, n);\n    r && this.parse(0, r), o > n ? this._insertElements(n, o - n, t) : o < n && this._removeElements(o, n - o);\n  }\n\n  _insertElements(t, e) {\n    let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n    const n = this._cachedMeta,\n          o = n.data,\n          r = t + e;\n    let a;\n\n    const l = c => {\n      for (c.length += e, a = c.length - 1; a >= r; a--) c[a] = c[a - e];\n    };\n\n    for (l(o), a = t; a < r; ++a) o[a] = new this.dataElementType();\n\n    this._parsing && l(n._parsed), this.parse(t, e), s && this.updateElements(o, t, e, \"reset\");\n  }\n\n  updateElements(t, e, s, n) {}\n\n  _removeElements(t, e) {\n    const s = this._cachedMeta;\n\n    if (this._parsing) {\n      const n = s._parsed.splice(t, e);\n\n      s._stacked && Yt(s, n);\n    }\n\n    s.data.splice(t, e);\n  }\n\n  _sync(t) {\n    if (this._parsing) this._syncList.push(t);else {\n      const [e, s, n] = t;\n      this[e](s, n);\n    }\n\n    this.chart._dataChanges.push([this.index, ...t]);\n  }\n\n  _onDataPush() {\n    const t = arguments.length;\n\n    this._sync([\"_insertElements\", this.getDataset().data.length - t, t]);\n  }\n\n  _onDataPop() {\n    this._sync([\"_removeElements\", this._cachedMeta.data.length - 1, 1]);\n  }\n\n  _onDataShift() {\n    this._sync([\"_removeElements\", 0, 1]);\n  }\n\n  _onDataSplice(t, e) {\n    e && this._sync([\"_removeElements\", t, e]);\n    const s = arguments.length - 2;\n    s && this._sync([\"_insertElements\", t, s]);\n  }\n\n  _onDataUnshift() {\n    this._sync([\"_insertElements\", 0, arguments.length]);\n  }\n\n}\n\nit.defaults = {};\nit.prototype.datasetElementType = null;\nit.prototype.dataElementType = null;\n\nfunction fa(i, t) {\n  if (!i._cache.$bar) {\n    const e = i.getMatchingVisibleMetas(t);\n    let s = [];\n\n    for (let n = 0, o = e.length; n < o; n++) s = s.concat(e[n].controller.getAllParsedValues(i));\n\n    i._cache.$bar = un(s.sort((n, o) => n - o));\n  }\n\n  return i._cache.$bar;\n}\n\nfunction ga(i) {\n  const t = i.iScale,\n        e = fa(t, i.type);\n  let s = t._length,\n      n,\n      o,\n      r,\n      a;\n\n  const l = () => {\n    r === 32767 || r === -32768 || (et(a) && (s = Math.min(s, Math.abs(r - a) || s)), a = r);\n  };\n\n  for (n = 0, o = e.length; n < o; ++n) r = t.getPixelForValue(e[n]), l();\n\n  for (a = void 0, n = 0, o = t.ticks.length; n < o; ++n) r = t.getPixelForTick(n), l();\n\n  return s;\n}\n\nfunction pa(i, t, e, s) {\n  const n = e.barThickness;\n  let o, r;\n  return T(n) ? (o = t.min * e.categoryPercentage, r = e.barPercentage) : (o = n * s, r = 1), {\n    chunk: o / s,\n    ratio: r,\n    start: t.pixels[i] - o / 2\n  };\n}\n\nfunction ma(i, t, e, s) {\n  const n = t.pixels,\n        o = n[i];\n  let r = i > 0 ? n[i - 1] : null,\n      a = i < n.length - 1 ? n[i + 1] : null;\n  const l = e.categoryPercentage;\n  r === null && (r = o - (a === null ? t.end - t.start : a - o)), a === null && (a = o + o - r);\n  const c = o - (o - Math.min(r, a)) / 2 * l;\n  return {\n    chunk: Math.abs(a - r) / 2 * l / s,\n    ratio: e.barPercentage,\n    start: c\n  };\n}\n\nfunction ba(i, t, e, s) {\n  const n = e.parse(i[0], s),\n        o = e.parse(i[1], s),\n        r = Math.min(n, o),\n        a = Math.max(n, o);\n  let l = r,\n      c = a;\n  Math.abs(r) > Math.abs(a) && (l = a, c = r), t[e.axis] = c, t._custom = {\n    barStart: l,\n    barEnd: c,\n    start: n,\n    end: o,\n    min: r,\n    max: a\n  };\n}\n\nfunction Bn(i, t, e, s) {\n  return z(i) ? ba(i, t, e, s) : t[e.axis] = e.parse(i, s), t;\n}\n\nfunction vs(i, t, e, s) {\n  const n = i.iScale,\n        o = i.vScale,\n        r = n.getLabels(),\n        a = n === o,\n        l = [];\n  let c, h, d, u;\n\n  for (c = e, h = e + s; c < h; ++c) u = t[c], d = {}, d[n.axis] = a || n.parse(r[c], c), l.push(Bn(u, d, o, c));\n\n  return l;\n}\n\nfunction hi(i) {\n  return i && i.barStart !== void 0 && i.barEnd !== void 0;\n}\n\nfunction xa(i, t, e) {\n  return i !== 0 ? lt(i) : (t.isHorizontal() ? 1 : -1) * (t.min >= e ? 1 : -1);\n}\n\nfunction _a(i) {\n  let t, e, s, n, o;\n  return i.horizontal ? (t = i.base > i.x, e = \"left\", s = \"right\") : (t = i.base < i.y, e = \"bottom\", s = \"top\"), t ? (n = \"end\", o = \"start\") : (n = \"start\", o = \"end\"), {\n    start: e,\n    end: s,\n    reverse: t,\n    top: n,\n    bottom: o\n  };\n}\n\nfunction ya(i, t, e, s) {\n  let n = t.borderSkipped;\n  const o = {};\n\n  if (!n) {\n    i.borderSkipped = o;\n    return;\n  }\n\n  if (n === !0) {\n    i.borderSkipped = {\n      top: !0,\n      right: !0,\n      bottom: !0,\n      left: !0\n    };\n    return;\n  }\n\n  const {\n    start: r,\n    end: a,\n    reverse: l,\n    top: c,\n    bottom: h\n  } = _a(i);\n\n  n === \"middle\" && e && (i.enableBorderRadius = !0, (e._top || 0) === s ? n = c : (e._bottom || 0) === s ? n = h : (o[Ms(h, r, a, l)] = !0, n = c)), o[Ms(n, r, a, l)] = !0, i.borderSkipped = o;\n}\n\nfunction Ms(i, t, e, s) {\n  return s ? (i = va(i, t, e), i = ks(i, e, t)) : i = ks(i, t, e), i;\n}\n\nfunction va(i, t, e) {\n  return i === t ? e : i === e ? t : i;\n}\n\nfunction ks(i, t, e) {\n  return i === \"start\" ? t : i === \"end\" ? e : i;\n}\n\nfunction Ma(i, _ref2, e) {\n  let {\n    inflateAmount: t\n  } = _ref2;\n  i.inflateAmount = t === \"auto\" ? e === 1 ? 0.33 : 0 : t;\n}\n\nclass ue extends it {\n  parsePrimitiveData(t, e, s, n) {\n    return vs(t, e, s, n);\n  }\n\n  parseArrayData(t, e, s, n) {\n    return vs(t, e, s, n);\n  }\n\n  parseObjectData(t, e, s, n) {\n    const {\n      iScale: o,\n      vScale: r\n    } = t,\n          {\n      xAxisKey: a = \"x\",\n      yAxisKey: l = \"y\"\n    } = this._parsing,\n          c = o.axis === \"x\" ? a : l,\n          h = r.axis === \"x\" ? a : l,\n          d = [];\n    let u, f, g, p;\n\n    for (u = s, f = s + n; u < f; ++u) p = e[u], g = {}, g[o.axis] = o.parse(_t(p, c), u), d.push(Bn(_t(p, h), g, r, u));\n\n    return d;\n  }\n\n  updateRangeFromParsed(t, e, s, n) {\n    super.updateRangeFromParsed(t, e, s, n);\n    const o = s._custom;\n    o && e === this._cachedMeta.vScale && (t.min = Math.min(t.min, o.min), t.max = Math.max(t.max, o.max));\n  }\n\n  getMaxOverflow() {\n    return 0;\n  }\n\n  getLabelAndValue(t) {\n    const e = this._cachedMeta,\n          {\n      iScale: s,\n      vScale: n\n    } = e,\n          o = this.getParsed(t),\n          r = o._custom,\n          a = hi(r) ? \"[\" + r.start + \", \" + r.end + \"]\" : \"\" + n.getLabelForValue(o[n.axis]);\n    return {\n      label: \"\" + s.getLabelForValue(o[s.axis]),\n      value: a\n    };\n  }\n\n  initialize() {\n    this.enableOptionSharing = !0, super.initialize();\n    const t = this._cachedMeta;\n    t.stack = this.getDataset().stack;\n  }\n\n  update(t) {\n    const e = this._cachedMeta;\n    this.updateElements(e.data, 0, e.data.length, t);\n  }\n\n  updateElements(t, e, s, n) {\n    const o = n === \"reset\",\n          {\n      index: r,\n      _cachedMeta: {\n        vScale: a\n      }\n    } = this,\n          l = a.getBasePixel(),\n          c = a.isHorizontal(),\n          h = this._getRuler(),\n          {\n      sharedOptions: d,\n      includeOptions: u\n    } = this._getSharedOptions(e, n);\n\n    for (let f = e; f < e + s; f++) {\n      const g = this.getParsed(f),\n            p = o || T(g[a.axis]) ? {\n        base: l,\n        head: l\n      } : this._calculateBarValuePixels(f),\n            m = this._calculateBarIndexPixels(f, h),\n            b = (g._stacks || {})[a.axis],\n            x = {\n        horizontal: c,\n        base: p.base,\n        enableBorderRadius: !b || hi(g._custom) || r === b._top || r === b._bottom,\n        x: c ? p.head : m.center,\n        y: c ? m.center : p.head,\n        height: c ? m.size : Math.abs(p.size),\n        width: c ? Math.abs(p.size) : m.size\n      };\n\n      u && (x.options = d || this.resolveDataElementOptions(f, t[f].active ? \"active\" : n));\n      const v = x.options || t[f].options;\n      ya(x, v, b, r), Ma(x, v, h.ratio), this.updateElement(t[f], f, x, n);\n    }\n  }\n\n  _getStacks(t, e) {\n    const {\n      iScale: s\n    } = this._cachedMeta,\n          n = s.getMatchingVisibleMetas(this._type).filter(l => l.controller.options.grouped),\n          o = s.options.stacked,\n          r = [],\n          a = l => {\n      const c = l.controller.getParsed(e),\n            h = c && c[l.vScale.axis];\n      if (T(h) || isNaN(h)) return !0;\n    };\n\n    for (const l of n) if (!(e !== void 0 && a(l)) && ((o === !1 || r.indexOf(l.stack) === -1 || o === void 0 && l.stack === void 0) && r.push(l.stack), l.index === t)) break;\n\n    return r.length || r.push(void 0), r;\n  }\n\n  _getStackCount(t) {\n    return this._getStacks(void 0, t).length;\n  }\n\n  _getStackIndex(t, e, s) {\n    const n = this._getStacks(t, s),\n          o = e !== void 0 ? n.indexOf(e) : -1;\n\n    return o === -1 ? n.length - 1 : o;\n  }\n\n  _getRuler() {\n    const t = this.options,\n          e = this._cachedMeta,\n          s = e.iScale,\n          n = [];\n    let o, r;\n\n    for (o = 0, r = e.data.length; o < r; ++o) n.push(s.getPixelForValue(this.getParsed(o)[s.axis], o));\n\n    const a = t.barThickness;\n    return {\n      min: a || ga(e),\n      pixels: n,\n      start: s._startPixel,\n      end: s._endPixel,\n      stackCount: this._getStackCount(),\n      scale: s,\n      grouped: t.grouped,\n      ratio: a ? 1 : t.categoryPercentage * t.barPercentage\n    };\n  }\n\n  _calculateBarValuePixels(t) {\n    const {\n      _cachedMeta: {\n        vScale: e,\n        _stacked: s\n      },\n      options: {\n        base: n,\n        minBarLength: o\n      }\n    } = this,\n          r = n || 0,\n          a = this.getParsed(t),\n          l = a._custom,\n          c = hi(l);\n    let h = a[e.axis],\n        d = 0,\n        u = s ? this.applyStack(e, a, s) : h,\n        f,\n        g;\n    u !== h && (d = u - h, u = h), c && (h = l.barStart, u = l.barEnd - l.barStart, h !== 0 && lt(h) !== lt(l.barEnd) && (d = 0), d += h);\n    const p = !T(n) && !c ? n : d;\n    let m = e.getPixelForValue(p);\n\n    if (this.chart.getDataVisibility(t) ? f = e.getPixelForValue(d + u) : f = m, g = f - m, Math.abs(g) < o) {\n      g = xa(g, e, r) * o, h === r && (m -= g / 2);\n      const b = e.getPixelForDecimal(0),\n            x = e.getPixelForDecimal(1),\n            v = Math.min(b, x),\n            y = Math.max(b, x);\n      m = Math.max(Math.min(m, y), v), f = m + g;\n    }\n\n    if (m === e.getPixelForValue(r)) {\n      const b = lt(g) * e.getLineWidthForValue(r) / 2;\n      m += b, g -= b;\n    }\n\n    return {\n      size: g,\n      base: m,\n      head: f,\n      center: f + g / 2\n    };\n  }\n\n  _calculateBarIndexPixels(t, e) {\n    const s = e.scale,\n          n = this.options,\n          o = n.skipNull,\n          r = C(n.maxBarThickness, 1 / 0);\n    let a, l;\n\n    if (e.grouped) {\n      const c = o ? this._getStackCount(t) : e.stackCount,\n            h = n.barThickness === \"flex\" ? ma(t, e, n, c) : pa(t, e, n, c),\n            d = this._getStackIndex(this.index, this._cachedMeta.stack, o ? t : void 0);\n\n      a = h.start + h.chunk * d + h.chunk / 2, l = Math.min(r, h.chunk * h.ratio);\n    } else a = s.getPixelForValue(this.getParsed(t)[s.axis], t), l = Math.min(r, e.min * e.ratio);\n\n    return {\n      base: a - l / 2,\n      head: a + l / 2,\n      center: a,\n      size: l\n    };\n  }\n\n  draw() {\n    const t = this._cachedMeta,\n          e = t.vScale,\n          s = t.data,\n          n = s.length;\n    let o = 0;\n\n    for (; o < n; ++o) this.getParsed(o)[e.axis] !== null && s[o].draw(this._ctx);\n  }\n\n}\n\nue.id = \"bar\";\nue.defaults = {\n  datasetElementType: !1,\n  dataElementType: \"bar\",\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: !0,\n  animations: {\n    numbers: {\n      type: \"number\",\n      properties: [\"x\", \"y\", \"base\", \"width\", \"height\"]\n    }\n  }\n};\nue.overrides = {\n  scales: {\n    _index_: {\n      type: \"category\",\n      offset: !0,\n      grid: {\n        offset: !0\n      }\n    },\n    _value_: {\n      type: \"linear\",\n      beginAtZero: !0\n    }\n  }\n};\n\nclass fe extends it {\n  initialize() {\n    this.enableOptionSharing = !0, super.initialize();\n  }\n\n  parsePrimitiveData(t, e, s, n) {\n    const o = super.parsePrimitiveData(t, e, s, n);\n\n    for (let r = 0; r < o.length; r++) o[r]._custom = this.resolveDataElementOptions(r + s).radius;\n\n    return o;\n  }\n\n  parseArrayData(t, e, s, n) {\n    const o = super.parseArrayData(t, e, s, n);\n\n    for (let r = 0; r < o.length; r++) {\n      const a = e[s + r];\n      o[r]._custom = C(a[2], this.resolveDataElementOptions(r + s).radius);\n    }\n\n    return o;\n  }\n\n  parseObjectData(t, e, s, n) {\n    const o = super.parseObjectData(t, e, s, n);\n\n    for (let r = 0; r < o.length; r++) {\n      const a = e[s + r];\n      o[r]._custom = C(a && a.r && +a.r, this.resolveDataElementOptions(r + s).radius);\n    }\n\n    return o;\n  }\n\n  getMaxOverflow() {\n    const t = this._cachedMeta.data;\n    let e = 0;\n\n    for (let s = t.length - 1; s >= 0; --s) e = Math.max(e, t[s].size(this.resolveDataElementOptions(s)) / 2);\n\n    return e > 0 && e;\n  }\n\n  getLabelAndValue(t) {\n    const e = this._cachedMeta,\n          {\n      xScale: s,\n      yScale: n\n    } = e,\n          o = this.getParsed(t),\n          r = s.getLabelForValue(o.x),\n          a = n.getLabelForValue(o.y),\n          l = o._custom;\n    return {\n      label: e.label,\n      value: \"(\" + r + \", \" + a + (l ? \", \" + l : \"\") + \")\"\n    };\n  }\n\n  update(t) {\n    const e = this._cachedMeta.data;\n    this.updateElements(e, 0, e.length, t);\n  }\n\n  updateElements(t, e, s, n) {\n    const o = n === \"reset\",\n          {\n      iScale: r,\n      vScale: a\n    } = this._cachedMeta,\n          {\n      sharedOptions: l,\n      includeOptions: c\n    } = this._getSharedOptions(e, n),\n          h = r.axis,\n          d = a.axis;\n\n    for (let u = e; u < e + s; u++) {\n      const f = t[u],\n            g = !o && this.getParsed(u),\n            p = {},\n            m = p[h] = o ? r.getPixelForDecimal(0.5) : r.getPixelForValue(g[h]),\n            b = p[d] = o ? a.getBasePixel() : a.getPixelForValue(g[d]);\n      p.skip = isNaN(m) || isNaN(b), c && (p.options = l || this.resolveDataElementOptions(u, f.active ? \"active\" : n), o && (p.options.radius = 0)), this.updateElement(f, u, p, n);\n    }\n  }\n\n  resolveDataElementOptions(t, e) {\n    const s = this.getParsed(t);\n    let n = super.resolveDataElementOptions(t, e);\n    n.$shared && (n = Object.assign({}, n, {\n      $shared: !1\n    }));\n    const o = n.radius;\n    return e !== \"active\" && (n.radius = 0), n.radius += C(s && s._custom, o), n;\n  }\n\n}\n\nfe.id = \"bubble\";\nfe.defaults = {\n  datasetElementType: !1,\n  dataElementType: \"point\",\n  animations: {\n    numbers: {\n      type: \"number\",\n      properties: [\"x\", \"y\", \"borderWidth\", \"radius\"]\n    }\n  }\n};\nfe.overrides = {\n  scales: {\n    x: {\n      type: \"linear\"\n    },\n    y: {\n      type: \"linear\"\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return \"\";\n        }\n\n      }\n    }\n  }\n};\n\nfunction ka(i, t, e) {\n  let s = 1,\n      n = 1,\n      o = 0,\n      r = 0;\n\n  if (t < F) {\n    const a = i,\n          l = a + t,\n          c = Math.cos(a),\n          h = Math.sin(a),\n          d = Math.cos(l),\n          u = Math.sin(l),\n          f = (v, y, _) => oe(v, a, l, !0) ? 1 : Math.max(y, y * e, _, _ * e),\n          g = (v, y, _) => oe(v, a, l, !0) ? -1 : Math.min(y, y * e, _, _ * e),\n          p = f(0, c, d),\n          m = f(V, h, u),\n          b = g(B, c, d),\n          x = g(B + V, h, u);\n\n    s = (p - b) / 2, n = (m - x) / 2, o = -(p + b) / 2, r = -(m + x) / 2;\n  }\n\n  return {\n    ratioX: s,\n    ratioY: n,\n    offsetX: o,\n    offsetY: r\n  };\n}\n\nclass Lt extends it {\n  constructor(t, e) {\n    super(t, e), this.enableOptionSharing = !0, this.innerRadius = void 0, this.outerRadius = void 0, this.offsetX = void 0, this.offsetY = void 0;\n  }\n\n  linkScales() {}\n\n  parse(t, e) {\n    const s = this.getDataset().data,\n          n = this._cachedMeta;\n    if (this._parsing === !1) n._parsed = s;else {\n      let o = l => +s[l];\n\n      if (D(s[t])) {\n        const {\n          key: l = \"value\"\n        } = this._parsing;\n\n        o = c => +_t(s[c], l);\n      }\n\n      let r, a;\n\n      for (r = t, a = t + e; r < a; ++r) n._parsed[r] = o(r);\n    }\n  }\n\n  _getRotation() {\n    return nt(this.options.rotation - 90);\n  }\n\n  _getCircumference() {\n    return nt(this.options.circumference);\n  }\n\n  _getRotationExtents() {\n    let t = F,\n        e = -F;\n\n    for (let s = 0; s < this.chart.data.datasets.length; ++s) if (this.chart.isDatasetVisible(s)) {\n      const n = this.chart.getDatasetMeta(s).controller,\n            o = n._getRotation(),\n            r = n._getCircumference();\n\n      t = Math.min(t, o), e = Math.max(e, o + r);\n    }\n\n    return {\n      rotation: t,\n      circumference: e - t\n    };\n  }\n\n  update(t) {\n    const e = this.chart,\n          {\n      chartArea: s\n    } = e,\n          n = this._cachedMeta,\n          o = n.data,\n          r = this.getMaxBorderWidth() + this.getMaxOffset(o) + this.options.spacing,\n          a = Math.max((Math.min(s.width, s.height) - r) / 2, 0),\n          l = Math.min(yo(this.options.cutout, a), 1),\n          c = this._getRingWeight(this.index),\n          {\n      circumference: h,\n      rotation: d\n    } = this._getRotationExtents(),\n          {\n      ratioX: u,\n      ratioY: f,\n      offsetX: g,\n      offsetY: p\n    } = ka(d, h, l),\n          m = (s.width - r) / u,\n          b = (s.height - r) / f,\n          x = Math.max(Math.min(m, b) / 2, 0),\n          v = an(this.options.radius, x),\n          y = Math.max(v * l, 0),\n          _ = (v - y) / this._getVisibleDatasetWeightTotal();\n\n    this.offsetX = g * v, this.offsetY = p * v, n.total = this.calculateTotal(), this.outerRadius = v - _ * this._getRingWeightOffset(this.index), this.innerRadius = Math.max(this.outerRadius - _ * c, 0), this.updateElements(o, 0, o.length, t);\n  }\n\n  _circumference(t, e) {\n    const s = this.options,\n          n = this._cachedMeta,\n          o = this._getCircumference();\n\n    return e && s.animation.animateRotate || !this.chart.getDataVisibility(t) || n._parsed[t] === null || n.data[t].hidden ? 0 : this.calculateCircumference(n._parsed[t] * o / F);\n  }\n\n  updateElements(t, e, s, n) {\n    const o = n === \"reset\",\n          r = this.chart,\n          a = r.chartArea,\n          c = r.options.animation,\n          h = (a.left + a.right) / 2,\n          d = (a.top + a.bottom) / 2,\n          u = o && c.animateScale,\n          f = u ? 0 : this.innerRadius,\n          g = u ? 0 : this.outerRadius,\n          {\n      sharedOptions: p,\n      includeOptions: m\n    } = this._getSharedOptions(e, n);\n\n    let b = this._getRotation(),\n        x;\n\n    for (x = 0; x < e; ++x) b += this._circumference(x, o);\n\n    for (x = e; x < e + s; ++x) {\n      const v = this._circumference(x, o),\n            y = t[x],\n            _ = {\n        x: h + this.offsetX,\n        y: d + this.offsetY,\n        startAngle: b,\n        endAngle: b + v,\n        circumference: v,\n        outerRadius: g,\n        innerRadius: f\n      };\n\n      m && (_.options = p || this.resolveDataElementOptions(x, y.active ? \"active\" : n)), b += v, this.updateElement(y, x, _, n);\n    }\n  }\n\n  calculateTotal() {\n    const t = this._cachedMeta,\n          e = t.data;\n    let s = 0,\n        n;\n\n    for (n = 0; n < e.length; n++) {\n      const o = t._parsed[n];\n      o !== null && !isNaN(o) && this.chart.getDataVisibility(n) && !e[n].hidden && (s += Math.abs(o));\n    }\n\n    return s;\n  }\n\n  calculateCircumference(t) {\n    const e = this._cachedMeta.total;\n    return e > 0 && !isNaN(t) ? F * (Math.abs(t) / e) : 0;\n  }\n\n  getLabelAndValue(t) {\n    const e = this._cachedMeta,\n          s = this.chart,\n          n = s.data.labels || [],\n          o = de(e._parsed[t], s.options.locale);\n    return {\n      label: n[t] || \"\",\n      value: o\n    };\n  }\n\n  getMaxBorderWidth(t) {\n    let e = 0;\n    const s = this.chart;\n    let n, o, r, a, l;\n\n    if (!t) {\n      for (n = 0, o = s.data.datasets.length; n < o; ++n) if (s.isDatasetVisible(n)) {\n        r = s.getDatasetMeta(n), t = r.data, a = r.controller;\n        break;\n      }\n    }\n\n    if (!t) return 0;\n\n    for (n = 0, o = t.length; n < o; ++n) l = a.resolveDataElementOptions(n), l.borderAlign !== \"inner\" && (e = Math.max(e, l.borderWidth || 0, l.hoverBorderWidth || 0));\n\n    return e;\n  }\n\n  getMaxOffset(t) {\n    let e = 0;\n\n    for (let s = 0, n = t.length; s < n; ++s) {\n      const o = this.resolveDataElementOptions(s);\n      e = Math.max(e, o.offset || 0, o.hoverOffset || 0);\n    }\n\n    return e;\n  }\n\n  _getRingWeightOffset(t) {\n    let e = 0;\n\n    for (let s = 0; s < t; ++s) this.chart.isDatasetVisible(s) && (e += this._getRingWeight(s));\n\n    return e;\n  }\n\n  _getRingWeight(t) {\n    return Math.max(C(this.chart.data.datasets[t].weight, 1), 0);\n  }\n\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n\n}\n\nLt.id = \"doughnut\";\nLt.defaults = {\n  datasetElementType: !1,\n  dataElementType: \"arc\",\n  animation: {\n    animateRotate: !0,\n    animateScale: !1\n  },\n  animations: {\n    numbers: {\n      type: \"number\",\n      properties: [\"circumference\", \"endAngle\", \"innerRadius\", \"outerRadius\", \"startAngle\", \"x\", \"y\", \"offset\", \"borderWidth\", \"spacing\"]\n    }\n  },\n  cutout: \"50%\",\n  rotation: 0,\n  circumference: 360,\n  radius: \"100%\",\n  spacing: 0,\n  indexAxis: \"r\"\n};\nLt.descriptors = {\n  _scriptable: i => i !== \"spacing\",\n  _indexable: i => i !== \"spacing\"\n};\nLt.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(i) {\n          const t = i.data;\n\n          if (t.labels.length && t.datasets.length) {\n            const {\n              labels: {\n                pointStyle: e\n              }\n            } = i.legend.options;\n            return t.labels.map((s, n) => {\n              const r = i.getDatasetMeta(0).controller.getStyle(n);\n              return {\n                text: s,\n                fillStyle: r.backgroundColor,\n                strokeStyle: r.borderColor,\n                lineWidth: r.borderWidth,\n                pointStyle: e,\n                hidden: !i.getDataVisibility(n),\n                index: n\n              };\n            });\n          }\n\n          return [];\n        }\n\n      },\n\n      onClick(i, t, e) {\n        e.chart.toggleDataVisibility(t.index), e.chart.update();\n      }\n\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return \"\";\n        },\n\n        label(i) {\n          let t = i.label;\n          const e = \": \" + i.formattedValue;\n          return z(t) ? (t = t.slice(), t[0] += e) : t += e, t;\n        }\n\n      }\n    }\n  }\n};\n\nclass ge extends it {\n  initialize() {\n    this.enableOptionSharing = !0, this.supportsDecimation = !0, super.initialize();\n  }\n\n  update(t) {\n    const e = this._cachedMeta,\n          {\n      dataset: s,\n      data: n = [],\n      _dataset: o\n    } = e,\n          r = this.chart._animationsDisabled;\n    let {\n      start: a,\n      count: l\n    } = pn(e, n, r);\n    this._drawStart = a, this._drawCount = l, mn(e) && (a = 0, l = n.length), s._chart = this.chart, s._datasetIndex = this.index, s._decimated = !!o._decimated, s.points = n;\n    const c = this.resolveDatasetElementOptions(t);\n    this.options.showLine || (c.borderWidth = 0), c.segment = this.options.segment, this.updateElement(s, void 0, {\n      animated: !r,\n      options: c\n    }, t), this.updateElements(n, a, l, t);\n  }\n\n  updateElements(t, e, s, n) {\n    const o = n === \"reset\",\n          {\n      iScale: r,\n      vScale: a,\n      _stacked: l,\n      _dataset: c\n    } = this._cachedMeta,\n          {\n      sharedOptions: h,\n      includeOptions: d\n    } = this._getSharedOptions(e, n),\n          u = r.axis,\n          f = a.axis,\n          {\n      spanGaps: g,\n      segment: p\n    } = this.options,\n          m = Bt(g) ? g : Number.POSITIVE_INFINITY,\n          b = this.chart._animationsDisabled || o || n === \"none\";\n\n    let x = e > 0 && this.getParsed(e - 1);\n\n    for (let v = e; v < e + s; ++v) {\n      const y = t[v],\n            _ = this.getParsed(v),\n            M = b ? y : {},\n            k = T(_[f]),\n            S = M[u] = r.getPixelForValue(_[u], v),\n            w = M[f] = o || k ? a.getBasePixel() : a.getPixelForValue(l ? this.applyStack(a, _, l) : _[f], v);\n\n      M.skip = isNaN(S) || isNaN(w) || k, M.stop = v > 0 && Math.abs(_[u] - x[u]) > m, p && (M.parsed = _, M.raw = c.data[v]), d && (M.options = h || this.resolveDataElementOptions(v, y.active ? \"active\" : n)), b || this.updateElement(y, v, M, n), x = _;\n    }\n  }\n\n  getMaxOverflow() {\n    const t = this._cachedMeta,\n          e = t.dataset,\n          s = e.options && e.options.borderWidth || 0,\n          n = t.data || [];\n    if (!n.length) return s;\n    const o = n[0].size(this.resolveDataElementOptions(0)),\n          r = n[n.length - 1].size(this.resolveDataElementOptions(n.length - 1));\n    return Math.max(s, o, r) / 2;\n  }\n\n  draw() {\n    const t = this._cachedMeta;\n    t.dataset.updateControlPoints(this.chart.chartArea, t.iScale.axis), super.draw();\n  }\n\n}\n\nge.id = \"line\";\nge.defaults = {\n  datasetElementType: \"line\",\n  dataElementType: \"point\",\n  showLine: !0,\n  spanGaps: !1\n};\nge.overrides = {\n  scales: {\n    _index_: {\n      type: \"category\"\n    },\n    _value_: {\n      type: \"linear\"\n    }\n  }\n};\n\nclass pe extends it {\n  constructor(t, e) {\n    super(t, e), this.innerRadius = void 0, this.outerRadius = void 0;\n  }\n\n  getLabelAndValue(t) {\n    const e = this._cachedMeta,\n          s = this.chart,\n          n = s.data.labels || [],\n          o = de(e._parsed[t].r, s.options.locale);\n    return {\n      label: n[t] || \"\",\n      value: o\n    };\n  }\n\n  parseObjectData(t, e, s, n) {\n    return Dn.bind(this)(t, e, s, n);\n  }\n\n  update(t) {\n    const e = this._cachedMeta.data;\n    this._updateRadius(), this.updateElements(e, 0, e.length, t);\n  }\n\n  getMinMax() {\n    const t = this._cachedMeta,\n          e = {\n      min: Number.POSITIVE_INFINITY,\n      max: Number.NEGATIVE_INFINITY\n    };\n    return t.data.forEach((s, n) => {\n      const o = this.getParsed(n).r;\n      !isNaN(o) && this.chart.getDataVisibility(n) && (o < e.min && (e.min = o), o > e.max && (e.max = o));\n    }), e;\n  }\n\n  _updateRadius() {\n    const t = this.chart,\n          e = t.chartArea,\n          s = t.options,\n          n = Math.min(e.right - e.left, e.bottom - e.top),\n          o = Math.max(n / 2, 0),\n          r = Math.max(s.cutoutPercentage ? o / 100 * s.cutoutPercentage : 1, 0),\n          a = (o - r) / t.getVisibleDatasetCount();\n    this.outerRadius = o - a * this.index, this.innerRadius = this.outerRadius - a;\n  }\n\n  updateElements(t, e, s, n) {\n    const o = n === \"reset\",\n          r = this.chart,\n          l = r.options.animation,\n          c = this._cachedMeta.rScale,\n          h = c.xCenter,\n          d = c.yCenter,\n          u = c.getIndexAngle(0) - 0.5 * B;\n    let f = u,\n        g;\n    const p = 360 / this.countVisibleElements();\n\n    for (g = 0; g < e; ++g) f += this._computeAngle(g, n, p);\n\n    for (g = e; g < e + s; g++) {\n      const m = t[g];\n\n      let b = f,\n          x = f + this._computeAngle(g, n, p),\n          v = r.getDataVisibility(g) ? c.getDistanceFromCenterForValue(this.getParsed(g).r) : 0;\n\n      f = x, o && (l.animateScale && (v = 0), l.animateRotate && (b = x = u));\n      const y = {\n        x: h,\n        y: d,\n        innerRadius: 0,\n        outerRadius: v,\n        startAngle: b,\n        endAngle: x,\n        options: this.resolveDataElementOptions(g, m.active ? \"active\" : n)\n      };\n      this.updateElement(m, g, y, n);\n    }\n  }\n\n  countVisibleElements() {\n    const t = this._cachedMeta;\n    let e = 0;\n    return t.data.forEach((s, n) => {\n      !isNaN(this.getParsed(n).r) && this.chart.getDataVisibility(n) && e++;\n    }), e;\n  }\n\n  _computeAngle(t, e, s) {\n    return this.chart.getDataVisibility(t) ? nt(this.resolveDataElementOptions(t, e).angle || s) : 0;\n  }\n\n}\n\npe.id = \"polarArea\";\npe.defaults = {\n  dataElementType: \"arc\",\n  animation: {\n    animateRotate: !0,\n    animateScale: !0\n  },\n  animations: {\n    numbers: {\n      type: \"number\",\n      properties: [\"x\", \"y\", \"startAngle\", \"endAngle\", \"innerRadius\", \"outerRadius\"]\n    }\n  },\n  indexAxis: \"r\",\n  startAngle: 0\n};\npe.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(i) {\n          const t = i.data;\n\n          if (t.labels.length && t.datasets.length) {\n            const {\n              labels: {\n                pointStyle: e\n              }\n            } = i.legend.options;\n            return t.labels.map((s, n) => {\n              const r = i.getDatasetMeta(0).controller.getStyle(n);\n              return {\n                text: s,\n                fillStyle: r.backgroundColor,\n                strokeStyle: r.borderColor,\n                lineWidth: r.borderWidth,\n                pointStyle: e,\n                hidden: !i.getDataVisibility(n),\n                index: n\n              };\n            });\n          }\n\n          return [];\n        }\n\n      },\n\n      onClick(i, t, e) {\n        e.chart.toggleDataVisibility(t.index), e.chart.update();\n      }\n\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return \"\";\n        },\n\n        label(i) {\n          return i.chart.data.labels[i.dataIndex] + \": \" + i.formattedValue;\n        }\n\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: \"radialLinear\",\n      angleLines: {\n        display: !1\n      },\n      beginAtZero: !0,\n      grid: {\n        circular: !0\n      },\n      pointLabels: {\n        display: !1\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass qe extends Lt {}\n\nqe.id = \"pie\";\nqe.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: \"100%\"\n};\n\nclass me extends it {\n  getLabelAndValue(t) {\n    const e = this._cachedMeta.vScale,\n          s = this.getParsed(t);\n    return {\n      label: e.getLabels()[t],\n      value: \"\" + e.getLabelForValue(s[e.axis])\n    };\n  }\n\n  parseObjectData(t, e, s, n) {\n    return Dn.bind(this)(t, e, s, n);\n  }\n\n  update(t) {\n    const e = this._cachedMeta,\n          s = e.dataset,\n          n = e.data || [],\n          o = e.iScale.getLabels();\n\n    if (s.points = n, t !== \"resize\") {\n      const r = this.resolveDatasetElementOptions(t);\n      this.options.showLine || (r.borderWidth = 0);\n      const a = {\n        _loop: !0,\n        _fullLoop: o.length === n.length,\n        options: r\n      };\n      this.updateElement(s, void 0, a, t);\n    }\n\n    this.updateElements(n, 0, n.length, t);\n  }\n\n  updateElements(t, e, s, n) {\n    const o = this._cachedMeta.rScale,\n          r = n === \"reset\";\n\n    for (let a = e; a < e + s; a++) {\n      const l = t[a],\n            c = this.resolveDataElementOptions(a, l.active ? \"active\" : n),\n            h = o.getPointPositionForValue(a, this.getParsed(a).r),\n            d = r ? o.xCenter : h.x,\n            u = r ? o.yCenter : h.y,\n            f = {\n        x: d,\n        y: u,\n        angle: h.angle,\n        skip: isNaN(d) || isNaN(u),\n        options: c\n      };\n      this.updateElement(l, a, f, n);\n    }\n  }\n\n}\n\nme.id = \"radar\";\nme.defaults = {\n  datasetElementType: \"line\",\n  dataElementType: \"point\",\n  indexAxis: \"r\",\n  showLine: !0,\n  elements: {\n    line: {\n      fill: \"start\"\n    }\n  }\n};\nme.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: \"radialLinear\"\n    }\n  }\n};\n\nclass st {\n  constructor() {\n    this.x = void 0, this.y = void 0, this.active = !1, this.options = void 0, this.$animations = void 0;\n  }\n\n  tooltipPosition(t) {\n    const {\n      x: e,\n      y: s\n    } = this.getProps([\"x\", \"y\"], t);\n    return {\n      x: e,\n      y: s\n    };\n  }\n\n  hasValue() {\n    return Bt(this.x) && Bt(this.y);\n  }\n\n  getProps(t, e) {\n    const s = this.$animations;\n    if (!e || !s) return this;\n    const n = {};\n    return t.forEach(o => {\n      n[o] = s[o] && s[o].active() ? s[o]._to : this[o];\n    }), n;\n  }\n\n}\n\nst.defaults = {};\nst.defaultRoutes = void 0;\nconst Vn = {\n  values(i) {\n    return z(i) ? i : \"\" + i;\n  },\n\n  numeric(i, t, e) {\n    if (i === 0) return \"0\";\n    const s = this.chart.options.locale;\n    let n,\n        o = i;\n\n    if (e.length > 1) {\n      const c = Math.max(Math.abs(e[0].value), Math.abs(e[e.length - 1].value));\n      (c < 1e-4 || c > 1e15) && (n = \"scientific\"), o = wa(i, e);\n    }\n\n    const r = tt(Math.abs(o)),\n          a = Math.max(Math.min(-1 * Math.floor(r), 20), 0),\n          l = {\n      notation: n,\n      minimumFractionDigits: a,\n      maximumFractionDigits: a\n    };\n    return Object.assign(l, this.options.ticks.format), de(i, s, l);\n  },\n\n  logarithmic(i, t, e) {\n    if (i === 0) return \"0\";\n    const s = i / Math.pow(10, Math.floor(tt(i)));\n    return s === 1 || s === 2 || s === 5 ? Vn.numeric.call(this, i, t, e) : \"\";\n  }\n\n};\n\nfunction wa(i, t) {\n  let e = t.length > 3 ? t[2].value - t[1].value : t[1].value - t[0].value;\n  return Math.abs(e) >= 1 && i !== Math.floor(i) && (e = i - Math.floor(i)), e;\n}\n\nvar be = {\n  formatters: Vn\n};\nO.set(\"scale\", {\n  display: !0,\n  offset: !1,\n  reverse: !1,\n  beginAtZero: !1,\n  bounds: \"ticks\",\n  grace: 0,\n  grid: {\n    display: !0,\n    lineWidth: 1,\n    drawBorder: !0,\n    drawOnChartArea: !0,\n    drawTicks: !0,\n    tickLength: 8,\n    tickWidth: (i, t) => t.lineWidth,\n    tickColor: (i, t) => t.color,\n    offset: !1,\n    borderDash: [],\n    borderDashOffset: 0,\n    borderWidth: 1\n  },\n  title: {\n    display: !1,\n    text: \"\",\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: !1,\n    textStrokeWidth: 0,\n    textStrokeColor: \"\",\n    padding: 3,\n    display: !0,\n    autoSkip: !0,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: be.formatters.values,\n    minor: {},\n    major: {},\n    align: \"center\",\n    crossAlign: \"near\",\n    showLabelBackdrop: !1,\n    backdropColor: \"rgba(255, 255, 255, 0.75)\",\n    backdropPadding: 2\n  }\n});\nO.route(\"scale.ticks\", \"color\", \"\", \"color\");\nO.route(\"scale.grid\", \"color\", \"\", \"borderColor\");\nO.route(\"scale.grid\", \"borderColor\", \"\", \"borderColor\");\nO.route(\"scale.title\", \"color\", \"\", \"color\");\nO.describe(\"scale\", {\n  _fallback: !1,\n  _scriptable: i => !i.startsWith(\"before\") && !i.startsWith(\"after\") && i !== \"callback\" && i !== \"parser\",\n  _indexable: i => i !== \"borderDash\" && i !== \"tickBorderDash\"\n});\nO.describe(\"scales\", {\n  _fallback: \"scale\"\n});\nO.describe(\"scale.ticks\", {\n  _scriptable: i => i !== \"backdropPadding\" && i !== \"callback\",\n  _indexable: i => i !== \"backdropPadding\"\n});\n\nfunction Sa(i, t) {\n  const e = i.options.ticks,\n        s = e.maxTicksLimit || Pa(i),\n        n = e.major.enabled ? Da(t) : [],\n        o = n.length,\n        r = n[0],\n        a = n[o - 1],\n        l = [];\n  if (o > s) return Oa(t, l, n, o / s), l;\n  const c = Ca(n, t, s);\n\n  if (o > 0) {\n    let h, d;\n    const u = o > 1 ? Math.round((a - r) / (o - 1)) : null;\n\n    for (Oe(t, l, c, T(u) ? 0 : r - u, r), h = 0, d = o - 1; h < d; h++) Oe(t, l, c, n[h], n[h + 1]);\n\n    return Oe(t, l, c, a, T(u) ? t.length : a + u), l;\n  }\n\n  return Oe(t, l, c), l;\n}\n\nfunction Pa(i) {\n  const t = i.options.offset,\n        e = i._tickSize(),\n        s = i._length / e + (t ? 0 : 1),\n        n = i._maxLength / e;\n\n  return Math.floor(Math.min(s, n));\n}\n\nfunction Ca(i, t, e) {\n  const s = Aa(i),\n        n = t.length / e;\n  if (!s) return Math.max(n, 1);\n  const o = Do(s);\n\n  for (let r = 0, a = o.length - 1; r < a; r++) {\n    const l = o[r];\n    if (l > n) return l;\n  }\n\n  return Math.max(n, 1);\n}\n\nfunction Da(i) {\n  const t = [];\n  let e, s;\n\n  for (e = 0, s = i.length; e < s; e++) i[e].major && t.push(e);\n\n  return t;\n}\n\nfunction Oa(i, t, e, s) {\n  let n = 0,\n      o = e[0],\n      r;\n\n  for (s = Math.ceil(s), r = 0; r < i.length; r++) r === o && (t.push(i[r]), n++, o = e[n * s]);\n}\n\nfunction Oe(i, t, e, s, n) {\n  const o = C(s, 0),\n        r = Math.min(C(n, i.length), i.length);\n  let a = 0,\n      l,\n      c,\n      h;\n\n  for (e = Math.ceil(e), n && (l = n - s, e = l / Math.floor(l / e)), h = o; h < 0;) a++, h = Math.round(o + a * e);\n\n  for (c = Math.max(o, 0); c < r; c++) c === h && (t.push(i[c]), a++, h = Math.round(o + a * e));\n}\n\nfunction Aa(i) {\n  const t = i.length;\n  let e, s;\n  if (t < 2) return !1;\n\n  for (s = i[0], e = 1; e < t; ++e) if (i[e] - i[e - 1] !== s) return !1;\n\n  return s;\n}\n\nconst Ta = i => i === \"left\" ? \"right\" : i === \"right\" ? \"left\" : i,\n      ws = (i, t, e) => t === \"top\" || t === \"left\" ? i[t] + e : i[t] - e;\n\nfunction Ss(i, t) {\n  const e = [],\n        s = i.length / t,\n        n = i.length;\n  let o = 0;\n\n  for (; o < n; o += s) e.push(i[Math.floor(o)]);\n\n  return e;\n}\n\nfunction La(i, t, e) {\n  const s = i.ticks.length,\n        n = Math.min(t, s - 1),\n        o = i._startPixel,\n        r = i._endPixel,\n        a = 1e-6;\n  let l = i.getPixelForTick(n),\n      c;\n  if (!(e && (s === 1 ? c = Math.max(l - o, r - l) : t === 0 ? c = (i.getPixelForTick(1) - l) / 2 : c = (l - i.getPixelForTick(n - 1)) / 2, l += n < t ? c : -c, l < o - a || l > r + a))) return l;\n}\n\nfunction Ra(i, t) {\n  E(i, e => {\n    const s = e.gc,\n          n = s.length / 2;\n    let o;\n\n    if (n > t) {\n      for (o = 0; o < n; ++o) delete e.data[s[o]];\n\n      s.splice(0, n);\n    }\n  });\n}\n\nfunction Xt(i) {\n  return i.drawTicks ? i.tickLength : 0;\n}\n\nfunction Ps(i, t) {\n  if (!i.display) return 0;\n  const e = $(i.font, t),\n        s = K(i.padding);\n  return (z(i.text) ? i.text.length : 1) * e.lineHeight + s.height;\n}\n\nfunction Ea(i, t) {\n  return vt(i, {\n    scale: t,\n    type: \"scale\"\n  });\n}\n\nfunction Fa(i, t, e) {\n  return vt(i, {\n    tick: e,\n    index: t,\n    type: \"tick\"\n  });\n}\n\nfunction Ia(i, t, e) {\n  let s = Li(i);\n  return (e && t !== \"right\" || !e && t === \"right\") && (s = Ta(s)), s;\n}\n\nfunction za(i, t, e, s) {\n  const {\n    top: n,\n    left: o,\n    bottom: r,\n    right: a,\n    chart: l\n  } = i,\n        {\n    chartArea: c,\n    scales: h\n  } = l;\n  let d = 0,\n      u,\n      f,\n      g;\n  const p = r - n,\n        m = a - o;\n\n  if (i.isHorizontal()) {\n    if (f = U(s, o, a), D(e)) {\n      const b = Object.keys(e)[0],\n            x = e[b];\n      g = h[b].getPixelForValue(x) + p - t;\n    } else e === \"center\" ? g = (c.bottom + c.top) / 2 + p - t : g = ws(i, e, t);\n\n    u = a - o;\n  } else {\n    if (D(e)) {\n      const b = Object.keys(e)[0],\n            x = e[b];\n      f = h[b].getPixelForValue(x) - m + t;\n    } else e === \"center\" ? f = (c.left + c.right) / 2 - m + t : f = ws(i, e, t);\n\n    g = U(s, r, n), d = e === \"left\" ? -V : V;\n  }\n\n  return {\n    titleX: f,\n    titleY: g,\n    maxWidth: u,\n    rotation: d\n  };\n}\n\nclass Mt extends st {\n  constructor(t) {\n    super(), this.id = t.id, this.type = t.type, this.options = void 0, this.ctx = t.ctx, this.chart = t.chart, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.width = void 0, this.height = void 0, this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, this.maxWidth = void 0, this.maxHeight = void 0, this.paddingTop = void 0, this.paddingBottom = void 0, this.paddingLeft = void 0, this.paddingRight = void 0, this.axis = void 0, this.labelRotation = void 0, this.min = void 0, this.max = void 0, this._range = void 0, this.ticks = [], this._gridLineItems = null, this._labelItems = null, this._labelSizes = null, this._length = 0, this._maxLength = 0, this._longestTextCache = {}, this._startPixel = void 0, this._endPixel = void 0, this._reversePixels = !1, this._userMax = void 0, this._userMin = void 0, this._suggestedMax = void 0, this._suggestedMin = void 0, this._ticksLength = 0, this._borderValue = 0, this._cache = {}, this._dataLimitsCached = !1, this.$context = void 0;\n  }\n\n  init(t) {\n    this.options = t.setContext(this.getContext()), this.axis = t.axis, this._userMin = this.parse(t.min), this._userMax = this.parse(t.max), this._suggestedMin = this.parse(t.suggestedMin), this._suggestedMax = this.parse(t.suggestedMax);\n  }\n\n  parse(t, e) {\n    return t;\n  }\n\n  getUserBounds() {\n    let {\n      _userMin: t,\n      _userMax: e,\n      _suggestedMin: s,\n      _suggestedMax: n\n    } = this;\n    return t = Q(t, Number.POSITIVE_INFINITY), e = Q(e, Number.NEGATIVE_INFINITY), s = Q(s, Number.POSITIVE_INFINITY), n = Q(n, Number.NEGATIVE_INFINITY), {\n      min: Q(t, s),\n      max: Q(e, n),\n      minDefined: N(t),\n      maxDefined: N(e)\n    };\n  }\n\n  getMinMax(t) {\n    let {\n      min: e,\n      max: s,\n      minDefined: n,\n      maxDefined: o\n    } = this.getUserBounds(),\n        r;\n    if (n && o) return {\n      min: e,\n      max: s\n    };\n    const a = this.getMatchingVisibleMetas();\n\n    for (let l = 0, c = a.length; l < c; ++l) r = a[l].controller.getMinMax(this, t), n || (e = Math.min(e, r.min)), o || (s = Math.max(s, r.max));\n\n    return e = o && e > s ? s : e, s = n && e > s ? e : s, {\n      min: Q(e, Q(s, e)),\n      max: Q(s, Q(e, s))\n    };\n  }\n\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n\n  getTicks() {\n    return this.ticks;\n  }\n\n  getLabels() {\n    const t = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? t.xLabels : t.yLabels) || t.labels || [];\n  }\n\n  beforeLayout() {\n    this._cache = {}, this._dataLimitsCached = !1;\n  }\n\n  beforeUpdate() {\n    I(this.options.beforeUpdate, [this]);\n  }\n\n  update(t, e, s) {\n    const {\n      beginAtZero: n,\n      grace: o,\n      ticks: r\n    } = this.options,\n          a = r.sampleSize;\n    this.beforeUpdate(), this.maxWidth = t, this.maxHeight = e, this._margins = s = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, s), this.ticks = null, this._labelSizes = null, this._gridLineItems = null, this._labelItems = null, this.beforeSetDimensions(), this.setDimensions(), this.afterSetDimensions(), this._maxLength = this.isHorizontal() ? this.width + s.left + s.right : this.height + s.top + s.bottom, this._dataLimitsCached || (this.beforeDataLimits(), this.determineDataLimits(), this.afterDataLimits(), this._range = mr(this, o, n), this._dataLimitsCached = !0), this.beforeBuildTicks(), this.ticks = this.buildTicks() || [], this.afterBuildTicks();\n    const l = a < this.ticks.length;\n    this._convertTicksToLabels(l ? Ss(this.ticks, a) : this.ticks), this.configure(), this.beforeCalculateLabelRotation(), this.calculateLabelRotation(), this.afterCalculateLabelRotation(), r.display && (r.autoSkip || r.source === \"auto\") && (this.ticks = Sa(this, this.ticks), this._labelSizes = null, this.afterAutoSkip()), l && this._convertTicksToLabels(this.ticks), this.beforeFit(), this.fit(), this.afterFit(), this.afterUpdate();\n  }\n\n  configure() {\n    let t = this.options.reverse,\n        e,\n        s;\n    this.isHorizontal() ? (e = this.left, s = this.right) : (e = this.top, s = this.bottom, t = !t), this._startPixel = e, this._endPixel = s, this._reversePixels = t, this._length = s - e, this._alignToPixels = this.options.alignToPixels;\n  }\n\n  afterUpdate() {\n    I(this.options.afterUpdate, [this]);\n  }\n\n  beforeSetDimensions() {\n    I(this.options.beforeSetDimensions, [this]);\n  }\n\n  setDimensions() {\n    this.isHorizontal() ? (this.width = this.maxWidth, this.left = 0, this.right = this.width) : (this.height = this.maxHeight, this.top = 0, this.bottom = this.height), this.paddingLeft = 0, this.paddingTop = 0, this.paddingRight = 0, this.paddingBottom = 0;\n  }\n\n  afterSetDimensions() {\n    I(this.options.afterSetDimensions, [this]);\n  }\n\n  _callHooks(t) {\n    this.chart.notifyPlugins(t, this.getContext()), I(this.options[t], [this]);\n  }\n\n  beforeDataLimits() {\n    this._callHooks(\"beforeDataLimits\");\n  }\n\n  determineDataLimits() {}\n\n  afterDataLimits() {\n    this._callHooks(\"afterDataLimits\");\n  }\n\n  beforeBuildTicks() {\n    this._callHooks(\"beforeBuildTicks\");\n  }\n\n  buildTicks() {\n    return [];\n  }\n\n  afterBuildTicks() {\n    this._callHooks(\"afterBuildTicks\");\n  }\n\n  beforeTickToLabelConversion() {\n    I(this.options.beforeTickToLabelConversion, [this]);\n  }\n\n  generateTickLabels(t) {\n    const e = this.options.ticks;\n    let s, n, o;\n\n    for (s = 0, n = t.length; s < n; s++) o = t[s], o.label = I(e.callback, [o.value, s, t], this);\n  }\n\n  afterTickToLabelConversion() {\n    I(this.options.afterTickToLabelConversion, [this]);\n  }\n\n  beforeCalculateLabelRotation() {\n    I(this.options.beforeCalculateLabelRotation, [this]);\n  }\n\n  calculateLabelRotation() {\n    const t = this.options,\n          e = t.ticks,\n          s = this.ticks.length,\n          n = e.minRotation || 0,\n          o = e.maxRotation;\n    let r = n,\n        a,\n        l,\n        c;\n\n    if (!this._isVisible() || !e.display || n >= o || s <= 1 || !this.isHorizontal()) {\n      this.labelRotation = n;\n      return;\n    }\n\n    const h = this._getLabelSizes(),\n          d = h.widest.width,\n          u = h.highest.height,\n          f = Y(this.chart.width - d, 0, this.maxWidth);\n\n    a = t.offset ? this.maxWidth / s : f / (s - 1), d + 6 > a && (a = f / (s - (t.offset ? 0.5 : 1)), l = this.maxHeight - Xt(t.grid) - e.padding - Ps(t.title, this.chart.options.font), c = Math.sqrt(d * d + u * u), r = Ai(Math.min(Math.asin(Y((h.highest.height + 6) / a, -1, 1)), Math.asin(Y(l / c, -1, 1)) - Math.asin(Y(u / c, -1, 1)))), r = Math.max(n, Math.min(o, r))), this.labelRotation = r;\n  }\n\n  afterCalculateLabelRotation() {\n    I(this.options.afterCalculateLabelRotation, [this]);\n  }\n\n  afterAutoSkip() {}\n\n  beforeFit() {\n    I(this.options.beforeFit, [this]);\n  }\n\n  fit() {\n    const t = {\n      width: 0,\n      height: 0\n    },\n          {\n      chart: e,\n      options: {\n        ticks: s,\n        title: n,\n        grid: o\n      }\n    } = this,\n          r = this._isVisible(),\n          a = this.isHorizontal();\n\n    if (r) {\n      const l = Ps(n, e.options.font);\n\n      if (a ? (t.width = this.maxWidth, t.height = Xt(o) + l) : (t.height = this.maxHeight, t.width = Xt(o) + l), s.display && this.ticks.length) {\n        const {\n          first: c,\n          last: h,\n          widest: d,\n          highest: u\n        } = this._getLabelSizes(),\n              f = s.padding * 2,\n              g = nt(this.labelRotation),\n              p = Math.cos(g),\n              m = Math.sin(g);\n\n        if (a) {\n          const b = s.mirror ? 0 : m * d.width + p * u.height;\n          t.height = Math.min(this.maxHeight, t.height + b + f);\n        } else {\n          const b = s.mirror ? 0 : p * d.width + m * u.height;\n          t.width = Math.min(this.maxWidth, t.width + b + f);\n        }\n\n        this._calculatePadding(c, h, m, p);\n      }\n    }\n\n    this._handleMargins(), a ? (this.width = this._length = e.width - this._margins.left - this._margins.right, this.height = t.height) : (this.width = t.width, this.height = this._length = e.height - this._margins.top - this._margins.bottom);\n  }\n\n  _calculatePadding(t, e, s, n) {\n    const {\n      ticks: {\n        align: o,\n        padding: r\n      },\n      position: a\n    } = this.options,\n          l = this.labelRotation !== 0,\n          c = a !== \"top\" && this.axis === \"x\";\n\n    if (this.isHorizontal()) {\n      const h = this.getPixelForTick(0) - this.left,\n            d = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let u = 0,\n          f = 0;\n      l ? c ? (u = n * t.width, f = s * e.height) : (u = s * t.height, f = n * e.width) : o === \"start\" ? f = e.width : o === \"end\" ? u = t.width : o !== \"inner\" && (u = t.width / 2, f = e.width / 2), this.paddingLeft = Math.max((u - h + r) * this.width / (this.width - h), 0), this.paddingRight = Math.max((f - d + r) * this.width / (this.width - d), 0);\n    } else {\n      let h = e.height / 2,\n          d = t.height / 2;\n      o === \"start\" ? (h = 0, d = t.height) : o === \"end\" && (h = e.height, d = 0), this.paddingTop = h + r, this.paddingBottom = d + r;\n    }\n  }\n\n  _handleMargins() {\n    this._margins && (this._margins.left = Math.max(this.paddingLeft, this._margins.left), this._margins.top = Math.max(this.paddingTop, this._margins.top), this._margins.right = Math.max(this.paddingRight, this._margins.right), this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom));\n  }\n\n  afterFit() {\n    I(this.options.afterFit, [this]);\n  }\n\n  isHorizontal() {\n    const {\n      axis: t,\n      position: e\n    } = this.options;\n    return e === \"top\" || e === \"bottom\" || t === \"x\";\n  }\n\n  isFullSize() {\n    return this.options.fullSize;\n  }\n\n  _convertTicksToLabels(t) {\n    this.beforeTickToLabelConversion(), this.generateTickLabels(t);\n    let e, s;\n\n    for (e = 0, s = t.length; e < s; e++) T(t[e].label) && (t.splice(e, 1), s--, e--);\n\n    this.afterTickToLabelConversion();\n  }\n\n  _getLabelSizes() {\n    let t = this._labelSizes;\n\n    if (!t) {\n      const e = this.options.ticks.sampleSize;\n      let s = this.ticks;\n      e < s.length && (s = Ss(s, e)), this._labelSizes = t = this._computeLabelSizes(s, s.length);\n    }\n\n    return t;\n  }\n\n  _computeLabelSizes(t, e) {\n    const {\n      ctx: s,\n      _longestTextCache: n\n    } = this,\n          o = [],\n          r = [];\n    let a = 0,\n        l = 0,\n        c,\n        h,\n        d,\n        u,\n        f,\n        g,\n        p,\n        m,\n        b,\n        x,\n        v;\n\n    for (c = 0; c < e; ++c) {\n      if (u = t[c].label, f = this._resolveTickFontOptions(c), s.font = g = f.string, p = n[g] = n[g] || {\n        data: {},\n        gc: []\n      }, m = f.lineHeight, b = x = 0, !T(u) && !z(u)) b = Ne(s, p.data, p.gc, b, u), x = m;else if (z(u)) for (h = 0, d = u.length; h < d; ++h) v = u[h], !T(v) && !z(v) && (b = Ne(s, p.data, p.gc, b, v), x += m);\n      o.push(b), r.push(x), a = Math.max(b, a), l = Math.max(x, l);\n    }\n\n    Ra(n, e);\n\n    const y = o.indexOf(a),\n          _ = r.indexOf(l),\n          M = k => ({\n      width: o[k] || 0,\n      height: r[k] || 0\n    });\n\n    return {\n      first: M(0),\n      last: M(e - 1),\n      widest: M(y),\n      highest: M(_),\n      widths: o,\n      heights: r\n    };\n  }\n\n  getLabelForValue(t) {\n    return t;\n  }\n\n  getPixelForValue(t, e) {\n    return NaN;\n  }\n\n  getValueForPixel(t) {}\n\n  getPixelForTick(t) {\n    const e = this.ticks;\n    return t < 0 || t > e.length - 1 ? null : this.getPixelForValue(e[t].value);\n  }\n\n  getPixelForDecimal(t) {\n    this._reversePixels && (t = 1 - t);\n    const e = this._startPixel + t * this._length;\n    return To(this._alignToPixels ? wt(this.chart, e, 0) : e);\n  }\n\n  getDecimalForPixel(t) {\n    const e = (t - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - e : e;\n  }\n\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n\n  getBaseValue() {\n    const {\n      min: t,\n      max: e\n    } = this;\n    return t < 0 && e < 0 ? e : t > 0 && e > 0 ? t : 0;\n  }\n\n  getContext(t) {\n    const e = this.ticks || [];\n\n    if (t >= 0 && t < e.length) {\n      const s = e[t];\n      return s.$context || (s.$context = Fa(this.getContext(), t, s));\n    }\n\n    return this.$context || (this.$context = Ea(this.chart.getContext(), this));\n  }\n\n  _tickSize() {\n    const t = this.options.ticks,\n          e = nt(this.labelRotation),\n          s = Math.abs(Math.cos(e)),\n          n = Math.abs(Math.sin(e)),\n          o = this._getLabelSizes(),\n          r = t.autoSkipPadding || 0,\n          a = o ? o.widest.width + r : 0,\n          l = o ? o.highest.height + r : 0;\n\n    return this.isHorizontal() ? l * s > a * n ? a / s : l / n : l * n < a * s ? l / s : a / n;\n  }\n\n  _isVisible() {\n    const t = this.options.display;\n    return t !== \"auto\" ? !!t : this.getMatchingVisibleMetas().length > 0;\n  }\n\n  _computeGridLineItems(t) {\n    const e = this.axis,\n          s = this.chart,\n          n = this.options,\n          {\n      grid: o,\n      position: r\n    } = n,\n          a = o.offset,\n          l = this.isHorizontal(),\n          h = this.ticks.length + (a ? 1 : 0),\n          d = Xt(o),\n          u = [],\n          f = o.setContext(this.getContext()),\n          g = f.drawBorder ? f.borderWidth : 0,\n          p = g / 2,\n          m = function (P) {\n      return wt(s, P, g);\n    };\n\n    let b, x, v, y, _, M, k, S, w, L, R, A;\n\n    if (r === \"top\") b = m(this.bottom), M = this.bottom - d, S = b - p, L = m(t.top) + p, A = t.bottom;else if (r === \"bottom\") b = m(this.top), L = t.top, A = m(t.bottom) - p, M = b + p, S = this.top + d;else if (r === \"left\") b = m(this.right), _ = this.right - d, k = b - p, w = m(t.left) + p, R = t.right;else if (r === \"right\") b = m(this.left), w = t.left, R = m(t.right) - p, _ = b + p, k = this.left + d;else if (e === \"x\") {\n      if (r === \"center\") b = m((t.top + t.bottom) / 2 + 0.5);else if (D(r)) {\n        const P = Object.keys(r)[0],\n              j = r[P];\n        b = m(this.chart.scales[P].getPixelForValue(j));\n      }\n      L = t.top, A = t.bottom, M = b + p, S = M + d;\n    } else if (e === \"y\") {\n      if (r === \"center\") b = m((t.left + t.right) / 2);else if (D(r)) {\n        const P = Object.keys(r)[0],\n              j = r[P];\n        b = m(this.chart.scales[P].getPixelForValue(j));\n      }\n      _ = b - p, k = _ - d, w = t.left, R = t.right;\n    }\n    const H = C(n.ticks.maxTicksLimit, h),\n          q = Math.max(1, Math.ceil(h / H));\n\n    for (x = 0; x < h; x += q) {\n      const P = o.setContext(this.getContext(x)),\n            j = P.lineWidth,\n            W = P.color,\n            kt = P.borderDash || [],\n            ti = P.borderDashOffset,\n            Rt = P.tickWidth,\n            ke = P.tickColor,\n            Et = P.tickBorderDash || [],\n            jt = P.tickBorderDashOffset;\n      v = La(this, x, a), v !== void 0 && (y = wt(s, v, j), l ? _ = k = w = R = y : M = S = L = A = y, u.push({\n        tx1: _,\n        ty1: M,\n        tx2: k,\n        ty2: S,\n        x1: w,\n        y1: L,\n        x2: R,\n        y2: A,\n        width: j,\n        color: W,\n        borderDash: kt,\n        borderDashOffset: ti,\n        tickWidth: Rt,\n        tickColor: ke,\n        tickBorderDash: Et,\n        tickBorderDashOffset: jt\n      }));\n    }\n\n    return this._ticksLength = h, this._borderValue = b, u;\n  }\n\n  _computeLabelItems(t) {\n    const e = this.axis,\n          s = this.options,\n          {\n      position: n,\n      ticks: o\n    } = s,\n          r = this.isHorizontal(),\n          a = this.ticks,\n          {\n      align: l,\n      crossAlign: c,\n      padding: h,\n      mirror: d\n    } = o,\n          u = Xt(s.grid),\n          f = u + h,\n          g = d ? -h : f,\n          p = -nt(this.labelRotation),\n          m = [];\n\n    let b,\n        x,\n        v,\n        y,\n        _,\n        M,\n        k,\n        S,\n        w,\n        L,\n        R,\n        A,\n        H = \"middle\";\n\n    if (n === \"top\") M = this.bottom - g, k = this._getXAxisLabelAlignment();else if (n === \"bottom\") M = this.top + g, k = this._getXAxisLabelAlignment();else if (n === \"left\") {\n      const P = this._getYAxisLabelAlignment(u);\n\n      k = P.textAlign, _ = P.x;\n    } else if (n === \"right\") {\n      const P = this._getYAxisLabelAlignment(u);\n\n      k = P.textAlign, _ = P.x;\n    } else if (e === \"x\") {\n      if (n === \"center\") M = (t.top + t.bottom) / 2 + f;else if (D(n)) {\n        const P = Object.keys(n)[0],\n              j = n[P];\n        M = this.chart.scales[P].getPixelForValue(j) + f;\n      }\n      k = this._getXAxisLabelAlignment();\n    } else if (e === \"y\") {\n      if (n === \"center\") _ = (t.left + t.right) / 2 - f;else if (D(n)) {\n        const P = Object.keys(n)[0],\n              j = n[P];\n        _ = this.chart.scales[P].getPixelForValue(j);\n      }\n      k = this._getYAxisLabelAlignment(u).textAlign;\n    }\n    e === \"y\" && (l === \"start\" ? H = \"top\" : l === \"end\" && (H = \"bottom\"));\n\n    const q = this._getLabelSizes();\n\n    for (b = 0, x = a.length; b < x; ++b) {\n      v = a[b], y = v.label;\n      const P = o.setContext(this.getContext(b));\n      S = this.getPixelForTick(b) + o.labelOffset, w = this._resolveTickFontOptions(b), L = w.lineHeight, R = z(y) ? y.length : 1;\n      const j = R / 2,\n            W = P.color,\n            kt = P.textStrokeColor,\n            ti = P.textStrokeWidth;\n      let Rt = k;\n      r ? (_ = S, k === \"inner\" && (b === x - 1 ? Rt = this.options.reverse ? \"left\" : \"right\" : b === 0 ? Rt = this.options.reverse ? \"right\" : \"left\" : Rt = \"center\"), n === \"top\" ? c === \"near\" || p !== 0 ? A = -R * L + L / 2 : c === \"center\" ? A = -q.highest.height / 2 - j * L + L : A = -q.highest.height + L / 2 : c === \"near\" || p !== 0 ? A = L / 2 : c === \"center\" ? A = q.highest.height / 2 - j * L : A = q.highest.height - R * L, d && (A *= -1)) : (M = S, A = (1 - R) * L / 2);\n      let ke;\n\n      if (P.showLabelBackdrop) {\n        const Et = K(P.backdropPadding),\n              jt = q.heights[b],\n              ei = q.widths[b];\n        let ii = M + A - Et.top,\n            si = _ - Et.left;\n\n        switch (H) {\n          case \"middle\":\n            ii -= jt / 2;\n            break;\n\n          case \"bottom\":\n            ii -= jt;\n            break;\n        }\n\n        switch (k) {\n          case \"center\":\n            si -= ei / 2;\n            break;\n\n          case \"right\":\n            si -= ei;\n            break;\n        }\n\n        ke = {\n          left: si,\n          top: ii,\n          width: ei + Et.width,\n          height: jt + Et.height,\n          color: P.backdropColor\n        };\n      }\n\n      m.push({\n        rotation: p,\n        label: y,\n        font: w,\n        color: W,\n        strokeColor: kt,\n        strokeWidth: ti,\n        textOffset: A,\n        textAlign: Rt,\n        textBaseline: H,\n        translation: [_, M],\n        backdrop: ke\n      });\n    }\n\n    return m;\n  }\n\n  _getXAxisLabelAlignment() {\n    const {\n      position: t,\n      ticks: e\n    } = this.options;\n    if (-nt(this.labelRotation)) return t === \"top\" ? \"left\" : \"right\";\n    let n = \"center\";\n    return e.align === \"start\" ? n = \"left\" : e.align === \"end\" ? n = \"right\" : e.align === \"inner\" && (n = \"inner\"), n;\n  }\n\n  _getYAxisLabelAlignment(t) {\n    const {\n      position: e,\n      ticks: {\n        crossAlign: s,\n        mirror: n,\n        padding: o\n      }\n    } = this.options,\n          r = this._getLabelSizes(),\n          a = t + o,\n          l = r.widest.width;\n\n    let c, h;\n    return e === \"left\" ? n ? (h = this.right + o, s === \"near\" ? c = \"left\" : s === \"center\" ? (c = \"center\", h += l / 2) : (c = \"right\", h += l)) : (h = this.right - a, s === \"near\" ? c = \"right\" : s === \"center\" ? (c = \"center\", h -= l / 2) : (c = \"left\", h = this.left)) : e === \"right\" ? n ? (h = this.left + o, s === \"near\" ? c = \"right\" : s === \"center\" ? (c = \"center\", h -= l / 2) : (c = \"left\", h -= l)) : (h = this.left + a, s === \"near\" ? c = \"left\" : s === \"center\" ? (c = \"center\", h += l / 2) : (c = \"right\", h = this.right)) : c = \"right\", {\n      textAlign: c,\n      x: h\n    };\n  }\n\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) return;\n    const t = this.chart,\n          e = this.options.position;\n    if (e === \"left\" || e === \"right\") return {\n      top: 0,\n      left: this.left,\n      bottom: t.height,\n      right: this.right\n    };\n    if (e === \"top\" || e === \"bottom\") return {\n      top: this.top,\n      left: 0,\n      bottom: this.bottom,\n      right: t.width\n    };\n  }\n\n  drawBackground() {\n    const {\n      ctx: t,\n      options: {\n        backgroundColor: e\n      },\n      left: s,\n      top: n,\n      width: o,\n      height: r\n    } = this;\n    e && (t.save(), t.fillStyle = e, t.fillRect(s, n, o, r), t.restore());\n  }\n\n  getLineWidthForValue(t) {\n    const e = this.options.grid;\n    if (!this._isVisible() || !e.display) return 0;\n    const n = this.ticks.findIndex(o => o.value === t);\n    return n >= 0 ? e.setContext(this.getContext(n)).lineWidth : 0;\n  }\n\n  drawGrid(t) {\n    const e = this.options.grid,\n          s = this.ctx,\n          n = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(t));\n\n    let o, r;\n\n    const a = (l, c, h) => {\n      !h.width || !h.color || (s.save(), s.lineWidth = h.width, s.strokeStyle = h.color, s.setLineDash(h.borderDash || []), s.lineDashOffset = h.borderDashOffset, s.beginPath(), s.moveTo(l.x, l.y), s.lineTo(c.x, c.y), s.stroke(), s.restore());\n    };\n\n    if (e.display) for (o = 0, r = n.length; o < r; ++o) {\n      const l = n[o];\n      e.drawOnChartArea && a({\n        x: l.x1,\n        y: l.y1\n      }, {\n        x: l.x2,\n        y: l.y2\n      }, l), e.drawTicks && a({\n        x: l.tx1,\n        y: l.ty1\n      }, {\n        x: l.tx2,\n        y: l.ty2\n      }, {\n        color: l.tickColor,\n        width: l.tickWidth,\n        borderDash: l.tickBorderDash,\n        borderDashOffset: l.tickBorderDashOffset\n      });\n    }\n  }\n\n  drawBorder() {\n    const {\n      chart: t,\n      ctx: e,\n      options: {\n        grid: s\n      }\n    } = this,\n          n = s.setContext(this.getContext()),\n          o = s.drawBorder ? n.borderWidth : 0;\n    if (!o) return;\n    const r = s.setContext(this.getContext(0)).lineWidth,\n          a = this._borderValue;\n    let l, c, h, d;\n    this.isHorizontal() ? (l = wt(t, this.left, o) - o / 2, c = wt(t, this.right, r) + r / 2, h = d = a) : (h = wt(t, this.top, o) - o / 2, d = wt(t, this.bottom, r) + r / 2, l = c = a), e.save(), e.lineWidth = n.borderWidth, e.strokeStyle = n.borderColor, e.beginPath(), e.moveTo(l, h), e.lineTo(c, d), e.stroke(), e.restore();\n  }\n\n  drawLabels(t) {\n    if (!this.options.ticks.display) return;\n\n    const s = this.ctx,\n          n = this._computeLabelArea();\n\n    n && Xe(s, n);\n\n    const o = this._labelItems || (this._labelItems = this._computeLabelItems(t));\n\n    let r, a;\n\n    for (r = 0, a = o.length; r < a; ++r) {\n      const l = o[r],\n            c = l.font,\n            h = l.label;\n      l.backdrop && (s.fillStyle = l.backdrop.color, s.fillRect(l.backdrop.left, l.backdrop.top, l.backdrop.width, l.backdrop.height));\n      let d = l.textOffset;\n      Tt(s, h, 0, d, c, l);\n    }\n\n    n && Ue(s);\n  }\n\n  drawTitle() {\n    const {\n      ctx: t,\n      options: {\n        position: e,\n        title: s,\n        reverse: n\n      }\n    } = this;\n    if (!s.display) return;\n    const o = $(s.font),\n          r = K(s.padding),\n          a = s.align;\n    let l = o.lineHeight / 2;\n    e === \"bottom\" || e === \"center\" || D(e) ? (l += r.bottom, z(s.text) && (l += o.lineHeight * (s.text.length - 1))) : l += r.top;\n    const {\n      titleX: c,\n      titleY: h,\n      maxWidth: d,\n      rotation: u\n    } = za(this, l, e, a);\n    Tt(t, s.text, 0, 0, o, {\n      color: s.color,\n      maxWidth: d,\n      rotation: u,\n      textAlign: Ia(a, e, n),\n      textBaseline: \"middle\",\n      translation: [c, h]\n    });\n  }\n\n  draw(t) {\n    this._isVisible() && (this.drawBackground(), this.drawGrid(t), this.drawBorder(), this.drawTitle(), this.drawLabels(t));\n  }\n\n  _layers() {\n    const t = this.options,\n          e = t.ticks && t.ticks.z || 0,\n          s = C(t.grid && t.grid.z, -1);\n    return !this._isVisible() || this.draw !== Mt.prototype.draw ? [{\n      z: e,\n      draw: n => {\n        this.draw(n);\n      }\n    }] : [{\n      z: s,\n      draw: n => {\n        this.drawBackground(), this.drawGrid(n), this.drawTitle();\n      }\n    }, {\n      z: s + 1,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: e,\n      draw: n => {\n        this.drawLabels(n);\n      }\n    }];\n  }\n\n  getMatchingVisibleMetas(t) {\n    const e = this.chart.getSortedVisibleDatasetMetas(),\n          s = this.axis + \"AxisID\",\n          n = [];\n    let o, r;\n\n    for (o = 0, r = e.length; o < r; ++o) {\n      const a = e[o];\n      a[s] === this.id && (!t || a.type === t) && n.push(a);\n    }\n\n    return n;\n  }\n\n  _resolveTickFontOptions(t) {\n    const e = this.options.ticks.setContext(this.getContext(t));\n    return $(e.font);\n  }\n\n  _maxDigits() {\n    const t = this._resolveTickFontOptions(0).lineHeight;\n\n    return (this.isHorizontal() ? this.width : this.height) / t;\n  }\n\n}\n\nclass Ae {\n  constructor(t, e, s) {\n    this.type = t, this.scope = e, this.override = s, this.items = /* @__PURE__ */Object.create(null);\n  }\n\n  isForType(t) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, t.prototype);\n  }\n\n  register(t) {\n    const e = Object.getPrototypeOf(t);\n    let s;\n    Wa(e) && (s = this.register(e));\n    const n = this.items,\n          o = t.id,\n          r = this.scope + \".\" + o;\n    if (!o) throw new Error(\"class does not have id: \" + t);\n    return o in n || (n[o] = t, Ba(t, r, s), this.override && O.override(t.id, t.overrides)), r;\n  }\n\n  get(t) {\n    return this.items[t];\n  }\n\n  unregister(t) {\n    const e = this.items,\n          s = t.id,\n          n = this.scope;\n    s in e && delete e[s], n && s in O[n] && (delete O[n][s], this.override && delete At[s]);\n  }\n\n}\n\nfunction Ba(i, t, e) {\n  const s = ne( /* @__PURE__ */Object.create(null), [e ? O.get(e) : {}, O.get(t), i.defaults]);\n  O.set(t, s), i.defaultRoutes && Va(t, i.defaultRoutes), i.descriptors && O.describe(t, i.descriptors);\n}\n\nfunction Va(i, t) {\n  Object.keys(t).forEach(e => {\n    const s = e.split(\".\"),\n          n = s.pop(),\n          o = [i].concat(s).join(\".\"),\n          r = t[e].split(\".\"),\n          a = r.pop(),\n          l = r.join(\".\");\n    O.route(o, n, l, a);\n  });\n}\n\nfunction Wa(i) {\n  return \"id\" in i && \"defaults\" in i;\n}\n\nclass Na {\n  constructor() {\n    this.controllers = new Ae(it, \"datasets\", !0), this.elements = new Ae(st, \"elements\"), this.plugins = new Ae(Object, \"plugins\"), this.scales = new Ae(Mt, \"scales\"), this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  add() {\n    for (var _len4 = arguments.length, t = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      t[_key4] = arguments[_key4];\n    }\n\n    this._each(\"register\", t);\n  }\n\n  remove() {\n    for (var _len5 = arguments.length, t = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      t[_key5] = arguments[_key5];\n    }\n\n    this._each(\"unregister\", t);\n  }\n\n  addControllers() {\n    for (var _len6 = arguments.length, t = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      t[_key6] = arguments[_key6];\n    }\n\n    this._each(\"register\", t, this.controllers);\n  }\n\n  addElements() {\n    for (var _len7 = arguments.length, t = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      t[_key7] = arguments[_key7];\n    }\n\n    this._each(\"register\", t, this.elements);\n  }\n\n  addPlugins() {\n    for (var _len8 = arguments.length, t = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      t[_key8] = arguments[_key8];\n    }\n\n    this._each(\"register\", t, this.plugins);\n  }\n\n  addScales() {\n    for (var _len9 = arguments.length, t = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n      t[_key9] = arguments[_key9];\n    }\n\n    this._each(\"register\", t, this.scales);\n  }\n\n  getController(t) {\n    return this._get(t, this.controllers, \"controller\");\n  }\n\n  getElement(t) {\n    return this._get(t, this.elements, \"element\");\n  }\n\n  getPlugin(t) {\n    return this._get(t, this.plugins, \"plugin\");\n  }\n\n  getScale(t) {\n    return this._get(t, this.scales, \"scale\");\n  }\n\n  removeControllers() {\n    for (var _len10 = arguments.length, t = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n      t[_key10] = arguments[_key10];\n    }\n\n    this._each(\"unregister\", t, this.controllers);\n  }\n\n  removeElements() {\n    for (var _len11 = arguments.length, t = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n      t[_key11] = arguments[_key11];\n    }\n\n    this._each(\"unregister\", t, this.elements);\n  }\n\n  removePlugins() {\n    for (var _len12 = arguments.length, t = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {\n      t[_key12] = arguments[_key12];\n    }\n\n    this._each(\"unregister\", t, this.plugins);\n  }\n\n  removeScales() {\n    for (var _len13 = arguments.length, t = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {\n      t[_key13] = arguments[_key13];\n    }\n\n    this._each(\"unregister\", t, this.scales);\n  }\n\n  _each(t, e, s) {\n    [...e].forEach(n => {\n      const o = s || this._getRegistryForType(n);\n\n      s || o.isForType(n) || o === this.plugins && n.id ? this._exec(t, o, n) : E(n, r => {\n        const a = s || this._getRegistryForType(r);\n\n        this._exec(t, a, r);\n      });\n    });\n  }\n\n  _exec(t, e, s) {\n    const n = Oi(t);\n    I(s[\"before\" + n], [], s), e[t](s), I(s[\"after\" + n], [], s);\n  }\n\n  _getRegistryForType(t) {\n    for (let e = 0; e < this._typedRegistries.length; e++) {\n      const s = this._typedRegistries[e];\n      if (s.isForType(t)) return s;\n    }\n\n    return this.plugins;\n  }\n\n  _get(t, e, s) {\n    const n = e.get(t);\n    if (n === void 0) throw new Error('\"' + t + '\" is not a registered ' + s + \".\");\n    return n;\n  }\n\n}\n\nvar ot = new Na();\n\nclass xe extends it {\n  update(t) {\n    const e = this._cachedMeta,\n          {\n      data: s = []\n    } = e,\n          n = this.chart._animationsDisabled;\n    let {\n      start: o,\n      count: r\n    } = pn(e, s, n);\n\n    if (this._drawStart = o, this._drawCount = r, mn(e) && (o = 0, r = s.length), this.options.showLine) {\n      const {\n        dataset: a,\n        _dataset: l\n      } = e;\n      a._chart = this.chart, a._datasetIndex = this.index, a._decimated = !!l._decimated, a.points = s;\n      const c = this.resolveDatasetElementOptions(t);\n      c.segment = this.options.segment, this.updateElement(a, void 0, {\n        animated: !n,\n        options: c\n      }, t);\n    }\n\n    this.updateElements(s, o, r, t);\n  }\n\n  addElements() {\n    const {\n      showLine: t\n    } = this.options;\n    !this.datasetElementType && t && (this.datasetElementType = ot.getElement(\"line\")), super.addElements();\n  }\n\n  updateElements(t, e, s, n) {\n    const o = n === \"reset\",\n          {\n      iScale: r,\n      vScale: a,\n      _stacked: l,\n      _dataset: c\n    } = this._cachedMeta,\n          h = this.resolveDataElementOptions(e, n),\n          d = this.getSharedOptions(h),\n          u = this.includeOptions(n, d),\n          f = r.axis,\n          g = a.axis,\n          {\n      spanGaps: p,\n      segment: m\n    } = this.options,\n          b = Bt(p) ? p : Number.POSITIVE_INFINITY,\n          x = this.chart._animationsDisabled || o || n === \"none\";\n    let v = e > 0 && this.getParsed(e - 1);\n\n    for (let y = e; y < e + s; ++y) {\n      const _ = t[y],\n            M = this.getParsed(y),\n            k = x ? _ : {},\n            S = T(M[g]),\n            w = k[f] = r.getPixelForValue(M[f], y),\n            L = k[g] = o || S ? a.getBasePixel() : a.getPixelForValue(l ? this.applyStack(a, M, l) : M[g], y);\n      k.skip = isNaN(w) || isNaN(L) || S, k.stop = y > 0 && Math.abs(M[f] - v[f]) > b, m && (k.parsed = M, k.raw = c.data[y]), u && (k.options = d || this.resolveDataElementOptions(y, _.active ? \"active\" : n)), x || this.updateElement(_, y, k, n), v = M;\n    }\n\n    this.updateSharedOptions(d, n, h);\n  }\n\n  getMaxOverflow() {\n    const t = this._cachedMeta,\n          e = t.data || [];\n\n    if (!this.options.showLine) {\n      let a = 0;\n\n      for (let l = e.length - 1; l >= 0; --l) a = Math.max(a, e[l].size(this.resolveDataElementOptions(l)) / 2);\n\n      return a > 0 && a;\n    }\n\n    const s = t.dataset,\n          n = s.options && s.options.borderWidth || 0;\n    if (!e.length) return n;\n    const o = e[0].size(this.resolveDataElementOptions(0)),\n          r = e[e.length - 1].size(this.resolveDataElementOptions(e.length - 1));\n    return Math.max(n, o, r) / 2;\n  }\n\n}\n\nxe.id = \"scatter\";\nxe.defaults = {\n  datasetElementType: !1,\n  dataElementType: \"point\",\n  showLine: !1,\n  fill: !1\n};\nxe.overrides = {\n  interaction: {\n    mode: \"point\"\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return \"\";\n        },\n\n        label(i) {\n          return \"(\" + i.label + \", \" + i.formattedValue + \")\";\n        }\n\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: \"linear\"\n    },\n    y: {\n      type: \"linear\"\n    }\n  }\n};\nvar Wn = /* @__PURE__ */Object.freeze({\n  __proto__: null,\n  BarController: ue,\n  BubbleController: fe,\n  DoughnutController: Lt,\n  LineController: ge,\n  PolarAreaController: pe,\n  PieController: qe,\n  RadarController: me,\n  ScatterController: xe\n});\n\nfunction St() {\n  throw new Error(\"This method is not implemented: Check that a complete date adapter is provided.\");\n}\n\nclass vi {\n  constructor(t) {\n    this.options = t || {};\n  }\n\n  init(t) {}\n\n  formats() {\n    return St();\n  }\n\n  parse(t, e) {\n    return St();\n  }\n\n  format(t, e) {\n    return St();\n  }\n\n  add(t, e, s) {\n    return St();\n  }\n\n  diff(t, e, s) {\n    return St();\n  }\n\n  startOf(t, e, s) {\n    return St();\n  }\n\n  endOf(t, e) {\n    return St();\n  }\n\n}\n\nvi.override = function (i) {\n  Object.assign(vi.prototype, i);\n};\n\nvar Nn = {\n  _date: vi\n};\n\nfunction Ha(i, t, e, s) {\n  const {\n    controller: n,\n    data: o,\n    _sorted: r\n  } = i,\n        a = n._cachedMeta.iScale;\n\n  if (a && t === a.axis && t !== \"r\" && r && o.length) {\n    const l = a._reversePixels ? Lo : ft;\n\n    if (s) {\n      if (n._sharedOptions) {\n        const c = o[0],\n              h = typeof c.getRange == \"function\" && c.getRange(t);\n\n        if (h) {\n          const d = l(o, t, e - h),\n                u = l(o, t, e + h);\n          return {\n            lo: d.lo,\n            hi: u.hi\n          };\n        }\n      }\n    } else return l(o, t, e);\n  }\n\n  return {\n    lo: 0,\n    hi: o.length - 1\n  };\n}\n\nfunction _e(i, t, e, s, n) {\n  const o = i.getSortedVisibleDatasetMetas(),\n        r = e[t];\n\n  for (let a = 0, l = o.length; a < l; ++a) {\n    const {\n      index: c,\n      data: h\n    } = o[a],\n          {\n      lo: d,\n      hi: u\n    } = Ha(o[a], t, r, n);\n\n    for (let f = d; f <= u; ++f) {\n      const g = h[f];\n      g.skip || s(g, c, f);\n    }\n  }\n}\n\nfunction ja(i) {\n  const t = i.indexOf(\"x\") !== -1,\n        e = i.indexOf(\"y\") !== -1;\n  return function (s, n) {\n    const o = t ? Math.abs(s.x - n.x) : 0,\n          r = e ? Math.abs(s.y - n.y) : 0;\n    return Math.sqrt(Math.pow(o, 2) + Math.pow(r, 2));\n  };\n}\n\nfunction di(i, t, e, s, n) {\n  const o = [];\n  return !n && !i.isPointInArea(t) || _e(i, e, t, function (a, l, c) {\n    !n && !re(a, i.chartArea, 0) || a.inRange(t.x, t.y, s) && o.push({\n      element: a,\n      datasetIndex: l,\n      index: c\n    });\n  }, !0), o;\n}\n\nfunction $a(i, t, e, s) {\n  let n = [];\n\n  function o(r, a, l) {\n    const {\n      startAngle: c,\n      endAngle: h\n    } = r.getProps([\"startAngle\", \"endAngle\"], s),\n          {\n      angle: d\n    } = hn(r, {\n      x: t.x,\n      y: t.y\n    });\n    oe(d, c, h) && n.push({\n      element: r,\n      datasetIndex: a,\n      index: l\n    });\n  }\n\n  return _e(i, e, t, o), n;\n}\n\nfunction Ya(i, t, e, s, n, o) {\n  let r = [];\n  const a = ja(e);\n  let l = Number.POSITIVE_INFINITY;\n\n  function c(h, d, u) {\n    const f = h.inRange(t.x, t.y, n);\n    if (s && !f) return;\n    const g = h.getCenterPoint(n);\n    if (!(!!o || i.isPointInArea(g)) && !f) return;\n    const m = a(t, g);\n    m < l ? (r = [{\n      element: h,\n      datasetIndex: d,\n      index: u\n    }], l = m) : m === l && r.push({\n      element: h,\n      datasetIndex: d,\n      index: u\n    });\n  }\n\n  return _e(i, e, t, c), r;\n}\n\nfunction ui(i, t, e, s, n, o) {\n  return !o && !i.isPointInArea(t) ? [] : e === \"r\" && !s ? $a(i, t, e, n) : Ya(i, t, e, s, n, o);\n}\n\nfunction Cs(i, t, e, s, n) {\n  const o = [],\n        r = e === \"x\" ? \"inXRange\" : \"inYRange\";\n  let a = !1;\n  return _e(i, e, t, (l, c, h) => {\n    l[r](t[e], n) && (o.push({\n      element: l,\n      datasetIndex: c,\n      index: h\n    }), a = a || l.inRange(t.x, t.y, n));\n  }), s && !a ? [] : o;\n}\n\nvar Hn = {\n  evaluateInteractionItems: _e,\n  modes: {\n    index(i, t, e, s) {\n      const n = Pt(t, i),\n            o = e.axis || \"x\",\n            r = e.includeInvisible || !1,\n            a = e.intersect ? di(i, n, o, s, r) : ui(i, n, o, !1, s, r),\n            l = [];\n      return a.length ? (i.getSortedVisibleDatasetMetas().forEach(c => {\n        const h = a[0].index,\n              d = c.data[h];\n        d && !d.skip && l.push({\n          element: d,\n          datasetIndex: c.index,\n          index: h\n        });\n      }), l) : [];\n    },\n\n    dataset(i, t, e, s) {\n      const n = Pt(t, i),\n            o = e.axis || \"xy\",\n            r = e.includeInvisible || !1;\n      let a = e.intersect ? di(i, n, o, s, r) : ui(i, n, o, !1, s, r);\n\n      if (a.length > 0) {\n        const l = a[0].datasetIndex,\n              c = i.getDatasetMeta(l).data;\n        a = [];\n\n        for (let h = 0; h < c.length; ++h) a.push({\n          element: c[h],\n          datasetIndex: l,\n          index: h\n        });\n      }\n\n      return a;\n    },\n\n    point(i, t, e, s) {\n      const n = Pt(t, i),\n            o = e.axis || \"xy\",\n            r = e.includeInvisible || !1;\n      return di(i, n, o, s, r);\n    },\n\n    nearest(i, t, e, s) {\n      const n = Pt(t, i),\n            o = e.axis || \"xy\",\n            r = e.includeInvisible || !1;\n      return ui(i, n, o, e.intersect, s, r);\n    },\n\n    x(i, t, e, s) {\n      const n = Pt(t, i);\n      return Cs(i, n, \"x\", e.intersect, s);\n    },\n\n    y(i, t, e, s) {\n      const n = Pt(t, i);\n      return Cs(i, n, \"y\", e.intersect, s);\n    }\n\n  }\n};\nconst jn = [\"left\", \"top\", \"right\", \"bottom\"];\n\nfunction Ut(i, t) {\n  return i.filter(e => e.pos === t);\n}\n\nfunction Ds(i, t) {\n  return i.filter(e => jn.indexOf(e.pos) === -1 && e.box.axis === t);\n}\n\nfunction Kt(i, t) {\n  return i.sort((e, s) => {\n    const n = t ? s : e,\n          o = t ? e : s;\n    return n.weight === o.weight ? n.index - o.index : n.weight - o.weight;\n  });\n}\n\nfunction Xa(i) {\n  const t = [];\n  let e, s, n, o, r, a;\n\n  for (e = 0, s = (i || []).length; e < s; ++e) n = i[e], ({\n    position: o,\n    options: {\n      stack: r,\n      stackWeight: a = 1\n    }\n  } = n), t.push({\n    index: e,\n    box: n,\n    pos: o,\n    horizontal: n.isHorizontal(),\n    weight: n.weight,\n    stack: r && o + r,\n    stackWeight: a\n  });\n\n  return t;\n}\n\nfunction Ua(i) {\n  const t = {};\n\n  for (const e of i) {\n    const {\n      stack: s,\n      pos: n,\n      stackWeight: o\n    } = e;\n    if (!s || !jn.includes(n)) continue;\n    const r = t[s] || (t[s] = {\n      count: 0,\n      placed: 0,\n      weight: 0,\n      size: 0\n    });\n    r.count++, r.weight += o;\n  }\n\n  return t;\n}\n\nfunction Ka(i, t) {\n  const e = Ua(i),\n        {\n    vBoxMaxWidth: s,\n    hBoxMaxHeight: n\n  } = t;\n  let o, r, a;\n\n  for (o = 0, r = i.length; o < r; ++o) {\n    a = i[o];\n    const {\n      fullSize: l\n    } = a.box,\n          c = e[a.stack],\n          h = c && a.stackWeight / c.weight;\n    a.horizontal ? (a.width = h ? h * s : l && t.availableWidth, a.height = n) : (a.width = s, a.height = h ? h * n : l && t.availableHeight);\n  }\n\n  return e;\n}\n\nfunction qa(i) {\n  const t = Xa(i),\n        e = Kt(t.filter(c => c.box.fullSize), !0),\n        s = Kt(Ut(t, \"left\"), !0),\n        n = Kt(Ut(t, \"right\")),\n        o = Kt(Ut(t, \"top\"), !0),\n        r = Kt(Ut(t, \"bottom\")),\n        a = Ds(t, \"x\"),\n        l = Ds(t, \"y\");\n  return {\n    fullSize: e,\n    leftAndTop: s.concat(o),\n    rightAndBottom: n.concat(l).concat(r).concat(a),\n    chartArea: Ut(t, \"chartArea\"),\n    vertical: s.concat(n).concat(l),\n    horizontal: o.concat(r).concat(a)\n  };\n}\n\nfunction Os(i, t, e, s) {\n  return Math.max(i[e], t[e]) + Math.max(i[s], t[s]);\n}\n\nfunction $n(i, t) {\n  i.top = Math.max(i.top, t.top), i.left = Math.max(i.left, t.left), i.bottom = Math.max(i.bottom, t.bottom), i.right = Math.max(i.right, t.right);\n}\n\nfunction Ga(i, t, e, s) {\n  const {\n    pos: n,\n    box: o\n  } = e,\n        r = i.maxPadding;\n\n  if (!D(n)) {\n    e.size && (i[n] -= e.size);\n    const d = s[e.stack] || {\n      size: 0,\n      count: 1\n    };\n    d.size = Math.max(d.size, e.horizontal ? o.height : o.width), e.size = d.size / d.count, i[n] += e.size;\n  }\n\n  o.getPadding && $n(r, o.getPadding());\n  const a = Math.max(0, t.outerWidth - Os(r, i, \"left\", \"right\")),\n        l = Math.max(0, t.outerHeight - Os(r, i, \"top\", \"bottom\")),\n        c = a !== i.w,\n        h = l !== i.h;\n  return i.w = a, i.h = l, e.horizontal ? {\n    same: c,\n    other: h\n  } : {\n    same: h,\n    other: c\n  };\n}\n\nfunction Za(i) {\n  const t = i.maxPadding;\n\n  function e(s) {\n    const n = Math.max(t[s] - i[s], 0);\n    return i[s] += n, n;\n  }\n\n  i.y += e(\"top\"), i.x += e(\"left\"), e(\"right\"), e(\"bottom\");\n}\n\nfunction Ja(i, t) {\n  const e = t.maxPadding;\n\n  function s(n) {\n    const o = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    };\n    return n.forEach(r => {\n      o[r] = Math.max(t[r], e[r]);\n    }), o;\n  }\n\n  return s(i ? [\"left\", \"right\"] : [\"top\", \"bottom\"]);\n}\n\nfunction Jt(i, t, e, s) {\n  const n = [];\n  let o, r, a, l, c, h;\n\n  for (o = 0, r = i.length, c = 0; o < r; ++o) {\n    a = i[o], l = a.box, l.update(a.width || t.w, a.height || t.h, Ja(a.horizontal, t));\n    const {\n      same: d,\n      other: u\n    } = Ga(t, e, a, s);\n    c |= d && n.length, h = h || u, l.fullSize || n.push(a);\n  }\n\n  return c && Jt(n, t, e, s) || h;\n}\n\nfunction Te(i, t, e, s, n) {\n  i.top = e, i.left = t, i.right = t + s, i.bottom = e + n, i.width = s, i.height = n;\n}\n\nfunction As(i, t, e, s) {\n  const n = e.padding;\n  let {\n    x: o,\n    y: r\n  } = t;\n\n  for (const a of i) {\n    const l = a.box,\n          c = s[a.stack] || {\n      count: 1,\n      placed: 0,\n      weight: 1\n    },\n          h = a.stackWeight / c.weight || 1;\n\n    if (a.horizontal) {\n      const d = t.w * h,\n            u = c.size || l.height;\n      et(c.start) && (r = c.start), l.fullSize ? Te(l, n.left, r, e.outerWidth - n.right - n.left, u) : Te(l, t.left + c.placed, r, d, u), c.start = r, c.placed += d, r = l.bottom;\n    } else {\n      const d = t.h * h,\n            u = c.size || l.width;\n      et(c.start) && (o = c.start), l.fullSize ? Te(l, o, n.top, u, e.outerHeight - n.bottom - n.top) : Te(l, o, t.top + c.placed, u, d), c.start = o, c.placed += d, o = l.right;\n    }\n  }\n\n  t.x = o, t.y = r;\n}\n\nO.set(\"layout\", {\n  autoPadding: !0,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar X = {\n  addBox(i, t) {\n    i.boxes || (i.boxes = []), t.fullSize = t.fullSize || !1, t.position = t.position || \"top\", t.weight = t.weight || 0, t._layers = t._layers || function () {\n      return [{\n        z: 0,\n\n        draw(e) {\n          t.draw(e);\n        }\n\n      }];\n    }, i.boxes.push(t);\n  },\n\n  removeBox(i, t) {\n    const e = i.boxes ? i.boxes.indexOf(t) : -1;\n    e !== -1 && i.boxes.splice(e, 1);\n  },\n\n  configure(i, t, e) {\n    t.fullSize = e.fullSize, t.position = e.position, t.weight = e.weight;\n  },\n\n  update(i, t, e, s) {\n    if (!i) return;\n    const n = K(i.options.layout.padding),\n          o = Math.max(t - n.width, 0),\n          r = Math.max(e - n.height, 0),\n          a = qa(i.boxes),\n          l = a.vertical,\n          c = a.horizontal;\n    E(i.boxes, p => {\n      typeof p.beforeLayout == \"function\" && p.beforeLayout();\n    });\n    const h = l.reduce((p, m) => m.box.options && m.box.options.display === !1 ? p : p + 1, 0) || 1,\n          d = Object.freeze({\n      outerWidth: t,\n      outerHeight: e,\n      padding: n,\n      availableWidth: o,\n      availableHeight: r,\n      vBoxMaxWidth: o / 2 / h,\n      hBoxMaxHeight: r / 2\n    }),\n          u = Object.assign({}, n);\n    $n(u, K(s));\n    const f = Object.assign({\n      maxPadding: u,\n      w: o,\n      h: r,\n      x: n.left,\n      y: n.top\n    }, n),\n          g = Ka(l.concat(c), d);\n    Jt(a.fullSize, f, d, g), Jt(l, f, d, g), Jt(c, f, d, g) && Jt(l, f, d, g), Za(f), As(a.leftAndTop, f, d, g), f.x += f.w, f.y += f.h, As(a.rightAndBottom, f, d, g), i.chartArea = {\n      left: f.left,\n      top: f.top,\n      right: f.left + f.w,\n      bottom: f.top + f.h,\n      height: f.h,\n      width: f.w\n    }, E(a.chartArea, p => {\n      const m = p.box;\n      Object.assign(m, i.chartArea), m.update(f.w, f.h, {\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0\n      });\n    });\n  }\n\n};\n\nclass Hi {\n  acquireContext(t, e) {}\n\n  releaseContext(t) {\n    return !1;\n  }\n\n  addEventListener(t, e, s) {}\n\n  removeEventListener(t, e, s) {}\n\n  getDevicePixelRatio() {\n    return 1;\n  }\n\n  getMaximumSize(t, e, s, n) {\n    return e = Math.max(0, e || t.width), s = s || t.height, {\n      width: e,\n      height: Math.max(0, n ? Math.floor(e / n) : s)\n    };\n  }\n\n  isAttached(t) {\n    return !0;\n  }\n\n  updateConfig(t) {}\n\n}\n\nclass Yn extends Hi {\n  acquireContext(t) {\n    return t && t.getContext && t.getContext(\"2d\") || null;\n  }\n\n  updateConfig(t) {\n    t.options.animation = !1;\n  }\n\n}\n\nconst Ie = \"$chartjs\",\n      Qa = {\n  touchstart: \"mousedown\",\n  touchmove: \"mousemove\",\n  touchend: \"mouseup\",\n  pointerenter: \"mouseenter\",\n  pointerdown: \"mousedown\",\n  pointermove: \"mousemove\",\n  pointerup: \"mouseup\",\n  pointerleave: \"mouseout\",\n  pointerout: \"mouseout\"\n},\n      Ts = i => i === null || i === \"\";\n\nfunction tl(i, t) {\n  const e = i.style,\n        s = i.getAttribute(\"height\"),\n        n = i.getAttribute(\"width\");\n\n  if (i[Ie] = {\n    initial: {\n      height: s,\n      width: n,\n      style: {\n        display: e.display,\n        height: e.height,\n        width: e.width\n      }\n    }\n  }, e.display = e.display || \"block\", e.boxSizing = e.boxSizing || \"border-box\", Ts(n)) {\n    const o = cs(i, \"width\");\n    o !== void 0 && (i.width = o);\n  }\n\n  if (Ts(s)) if (i.style.height === \"\") i.height = i.width / (t || 2);else {\n    const o = cs(i, \"height\");\n    o !== void 0 && (i.height = o);\n  }\n  return i;\n}\n\nconst Xn = Vr ? {\n  passive: !0\n} : !1;\n\nfunction el(i, t, e) {\n  i.addEventListener(t, e, Xn);\n}\n\nfunction il(i, t, e) {\n  i.canvas.removeEventListener(t, e, Xn);\n}\n\nfunction sl(i, t) {\n  const e = Qa[i.type] || i.type,\n        {\n    x: s,\n    y: n\n  } = Pt(i, t);\n  return {\n    type: e,\n    chart: t,\n    native: i,\n    x: s !== void 0 ? s : null,\n    y: n !== void 0 ? n : null\n  };\n}\n\nfunction je(i, t) {\n  for (const e of i) if (e === t || e.contains(t)) return !0;\n}\n\nfunction nl(i, t, e) {\n  const s = i.canvas,\n        n = new MutationObserver(o => {\n    let r = !1;\n\n    for (const a of o) r = r || je(a.addedNodes, s), r = r && !je(a.removedNodes, s);\n\n    r && e();\n  });\n  return n.observe(document, {\n    childList: !0,\n    subtree: !0\n  }), n;\n}\n\nfunction ol(i, t, e) {\n  const s = i.canvas,\n        n = new MutationObserver(o => {\n    let r = !1;\n\n    for (const a of o) r = r || je(a.removedNodes, s), r = r && !je(a.addedNodes, s);\n\n    r && e();\n  });\n  return n.observe(document, {\n    childList: !0,\n    subtree: !0\n  }), n;\n}\n\nconst le = /* @__PURE__ */new Map();\nlet Ls = 0;\n\nfunction Un() {\n  const i = window.devicePixelRatio;\n  i !== Ls && (Ls = i, le.forEach((t, e) => {\n    e.currentDevicePixelRatio !== i && t();\n  }));\n}\n\nfunction rl(i, t) {\n  le.size || window.addEventListener(\"resize\", Un), le.set(i, t);\n}\n\nfunction al(i) {\n  le.delete(i), le.size || window.removeEventListener(\"resize\", Un);\n}\n\nfunction ll(i, t, e) {\n  const s = i.canvas,\n        n = s && Wi(s);\n  if (!n) return;\n  const o = gn((a, l) => {\n    const c = n.clientWidth;\n    e(a, l), c < n.clientWidth && e();\n  }, window),\n        r = new ResizeObserver(a => {\n    const l = a[0],\n          c = l.contentRect.width,\n          h = l.contentRect.height;\n    c === 0 && h === 0 || o(c, h);\n  });\n  return r.observe(n), rl(i, o), r;\n}\n\nfunction fi(i, t, e) {\n  e && e.disconnect(), t === \"resize\" && al(i);\n}\n\nfunction cl(i, t, e) {\n  const s = i.canvas,\n        n = gn(o => {\n    i.ctx !== null && e(sl(o, i));\n  }, i, o => {\n    const r = o[0];\n    return [r, r.offsetX, r.offsetY];\n  });\n  return el(s, t, n), n;\n}\n\nclass Kn extends Hi {\n  acquireContext(t, e) {\n    const s = t && t.getContext && t.getContext(\"2d\");\n    return s && s.canvas === t ? (tl(t, e), s) : null;\n  }\n\n  releaseContext(t) {\n    const e = t.canvas;\n    if (!e[Ie]) return !1;\n    const s = e[Ie].initial;\n    [\"height\", \"width\"].forEach(o => {\n      const r = s[o];\n      T(r) ? e.removeAttribute(o) : e.setAttribute(o, r);\n    });\n    const n = s.style || {};\n    return Object.keys(n).forEach(o => {\n      e.style[o] = n[o];\n    }), e.width = e.width, delete e[Ie], !0;\n  }\n\n  addEventListener(t, e, s) {\n    this.removeEventListener(t, e);\n    const n = t.$proxies || (t.$proxies = {}),\n          r = {\n      attach: nl,\n      detach: ol,\n      resize: ll\n    }[e] || cl;\n    n[e] = r(t, e, s);\n  }\n\n  removeEventListener(t, e) {\n    const s = t.$proxies || (t.$proxies = {}),\n          n = s[e];\n    if (!n) return;\n    (({\n      attach: fi,\n      detach: fi,\n      resize: fi\n    })[e] || il)(t, e, n), s[e] = void 0;\n  }\n\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n\n  getMaximumSize(t, e, s, n) {\n    return Br(t, e, s, n);\n  }\n\n  isAttached(t) {\n    const e = Wi(t);\n    return !!(e && e.isConnected);\n  }\n\n}\n\nfunction qn(i) {\n  return !An() || typeof OffscreenCanvas < \"u\" && i instanceof OffscreenCanvas ? Yn : Kn;\n}\n\nclass hl {\n  constructor() {\n    this._init = [];\n  }\n\n  notify(t, e, s, n) {\n    e === \"beforeInit\" && (this._init = this._createDescriptors(t, !0), this._notify(this._init, t, \"install\"));\n\n    const o = n ? this._descriptors(t).filter(n) : this._descriptors(t),\n          r = this._notify(o, t, e, s);\n\n    return e === \"afterDestroy\" && (this._notify(o, t, \"stop\"), this._notify(this._init, t, \"uninstall\")), r;\n  }\n\n  _notify(t, e, s, n) {\n    n = n || {};\n\n    for (const o of t) {\n      const r = o.plugin,\n            a = r[s],\n            l = [e, n, o.options];\n      if (I(a, l, r) === !1 && n.cancelable) return !1;\n    }\n\n    return !0;\n  }\n\n  invalidate() {\n    T(this._cache) || (this._oldCache = this._cache, this._cache = void 0);\n  }\n\n  _descriptors(t) {\n    if (this._cache) return this._cache;\n\n    const e = this._cache = this._createDescriptors(t);\n\n    return this._notifyStateChanges(t), e;\n  }\n\n  _createDescriptors(t, e) {\n    const s = t && t.config,\n          n = C(s.options && s.options.plugins, {}),\n          o = dl(s);\n    return n === !1 && !e ? [] : fl(t, o, n, e);\n  }\n\n  _notifyStateChanges(t) {\n    const e = this._oldCache || [],\n          s = this._cache,\n          n = (o, r) => o.filter(a => !r.some(l => a.plugin.id === l.plugin.id));\n\n    this._notify(n(e, s), t, \"stop\"), this._notify(n(s, e), t, \"start\");\n  }\n\n}\n\nfunction dl(i) {\n  const t = {},\n        e = [],\n        s = Object.keys(ot.plugins.items);\n\n  for (let o = 0; o < s.length; o++) e.push(ot.getPlugin(s[o]));\n\n  const n = i.plugins || [];\n\n  for (let o = 0; o < n.length; o++) {\n    const r = n[o];\n    e.indexOf(r) === -1 && (e.push(r), t[r.id] = !0);\n  }\n\n  return {\n    plugins: e,\n    localIds: t\n  };\n}\n\nfunction ul(i, t) {\n  return !t && i === !1 ? null : i === !0 ? {} : i;\n}\n\nfunction fl(i, _ref3, s, n) {\n  let {\n    plugins: t,\n    localIds: e\n  } = _ref3;\n  const o = [],\n        r = i.getContext();\n\n  for (const a of t) {\n    const l = a.id,\n          c = ul(s[l], n);\n    c !== null && o.push({\n      plugin: a,\n      options: gl(i.config, {\n        plugin: a,\n        local: e[l]\n      }, c, r)\n    });\n  }\n\n  return o;\n}\n\nfunction gl(i, _ref4, s, n) {\n  let {\n    plugin: t,\n    local: e\n  } = _ref4;\n  const o = i.pluginScopeKeys(t),\n        r = i.getOptionScopes(s, o);\n  return e && t.defaults && r.push(t.defaults), i.createResolver(r, n, [\"\"], {\n    scriptable: !1,\n    indexable: !1,\n    allKeys: !0\n  });\n}\n\nfunction Mi(i, t) {\n  const e = O.datasets[i] || {};\n  return ((t.datasets || {})[i] || {}).indexAxis || t.indexAxis || e.indexAxis || \"x\";\n}\n\nfunction pl(i, t) {\n  let e = i;\n  return i === \"_index_\" ? e = t : i === \"_value_\" && (e = t === \"x\" ? \"y\" : \"x\"), e;\n}\n\nfunction ml(i, t) {\n  return i === t ? \"_index_\" : \"_value_\";\n}\n\nfunction bl(i) {\n  if (i === \"top\" || i === \"bottom\") return \"x\";\n  if (i === \"left\" || i === \"right\") return \"y\";\n}\n\nfunction ki(i, t) {\n  return i === \"x\" || i === \"y\" ? i : t.axis || bl(t.position) || i.charAt(0).toLowerCase();\n}\n\nfunction xl(i, t) {\n  const e = At[i.type] || {\n    scales: {}\n  },\n        s = t.scales || {},\n        n = Mi(i.type, t),\n        o = /* @__PURE__ */Object.create(null),\n        r = /* @__PURE__ */Object.create(null);\n  return Object.keys(s).forEach(a => {\n    const l = s[a];\n    if (!D(l)) return console.error(`Invalid scale configuration for scale: ${a}`);\n    if (l._proxy) return console.warn(`Ignoring resolver passed as options for scale: ${a}`);\n    const c = ki(a, l),\n          h = ml(c, n),\n          d = e.scales || {};\n    o[c] = o[c] || a, r[a] = Qt( /* @__PURE__ */Object.create(null), [{\n      axis: c\n    }, l, d[c], d[h]]);\n  }), i.data.datasets.forEach(a => {\n    const l = a.type || i.type,\n          c = a.indexAxis || Mi(l, t),\n          d = (At[l] || {}).scales || {};\n    Object.keys(d).forEach(u => {\n      const f = pl(u, c),\n            g = a[f + \"AxisID\"] || o[f] || f;\n      r[g] = r[g] || /* @__PURE__ */Object.create(null), Qt(r[g], [{\n        axis: f\n      }, s[g], d[u]]);\n    });\n  }), Object.keys(r).forEach(a => {\n    const l = r[a];\n    Qt(l, [O.scales[l.type], O.scale]);\n  }), r;\n}\n\nfunction Gn(i) {\n  const t = i.options || (i.options = {});\n  t.plugins = C(t.plugins, {}), t.scales = xl(i, t);\n}\n\nfunction Zn(i) {\n  return i = i || {}, i.datasets = i.datasets || [], i.labels = i.labels || [], i;\n}\n\nfunction _l(i) {\n  return i = i || {}, i.data = Zn(i.data), Gn(i), i;\n}\n\nconst Rs = /* @__PURE__ */new Map(),\n      Jn = /* @__PURE__ */new Set();\n\nfunction Le(i, t) {\n  let e = Rs.get(i);\n  return e || (e = t(), Rs.set(i, e), Jn.add(e)), e;\n}\n\nconst qt = (i, t, e) => {\n  const s = _t(t, e);\n\n  s !== void 0 && i.add(s);\n};\n\nclass yl {\n  constructor(t) {\n    this._config = _l(t), this._scopeCache = /* @__PURE__ */new Map(), this._resolverCache = /* @__PURE__ */new Map();\n  }\n\n  get platform() {\n    return this._config.platform;\n  }\n\n  get type() {\n    return this._config.type;\n  }\n\n  set type(t) {\n    this._config.type = t;\n  }\n\n  get data() {\n    return this._config.data;\n  }\n\n  set data(t) {\n    this._config.data = Zn(t);\n  }\n\n  get options() {\n    return this._config.options;\n  }\n\n  set options(t) {\n    this._config.options = t;\n  }\n\n  get plugins() {\n    return this._config.plugins;\n  }\n\n  update() {\n    const t = this._config;\n    this.clearCache(), Gn(t);\n  }\n\n  clearCache() {\n    this._scopeCache.clear(), this._resolverCache.clear();\n  }\n\n  datasetScopeKeys(t) {\n    return Le(t, () => [[`datasets.${t}`, \"\"]]);\n  }\n\n  datasetAnimationScopeKeys(t, e) {\n    return Le(`${t}.transition.${e}`, () => [[`datasets.${t}.transitions.${e}`, `transitions.${e}`], [`datasets.${t}`, \"\"]]);\n  }\n\n  datasetElementScopeKeys(t, e) {\n    return Le(`${t}-${e}`, () => [[`datasets.${t}.elements.${e}`, `datasets.${t}`, `elements.${e}`, \"\"]]);\n  }\n\n  pluginScopeKeys(t) {\n    const e = t.id,\n          s = this.type;\n    return Le(`${s}-plugin-${e}`, () => [[`plugins.${e}`, ...(t.additionalOptionScopes || [])]]);\n  }\n\n  _cachedScopes(t, e) {\n    const s = this._scopeCache;\n    let n = s.get(t);\n    return (!n || e) && (n = /* @__PURE__ */new Map(), s.set(t, n)), n;\n  }\n\n  getOptionScopes(t, e, s) {\n    const {\n      options: n,\n      type: o\n    } = this,\n          r = this._cachedScopes(t, s),\n          a = r.get(e);\n\n    if (a) return a;\n    const l = /* @__PURE__ */new Set();\n    e.forEach(h => {\n      t && (l.add(t), h.forEach(d => qt(l, t, d))), h.forEach(d => qt(l, n, d)), h.forEach(d => qt(l, At[o] || {}, d)), h.forEach(d => qt(l, O, d)), h.forEach(d => qt(l, _i, d));\n    });\n    const c = Array.from(l);\n    return c.length === 0 && c.push( /* @__PURE__ */Object.create(null)), Jn.has(e) && r.set(e, c), c;\n  }\n\n  chartOptionScopes() {\n    const {\n      options: t,\n      type: e\n    } = this;\n    return [t, At[e] || {}, O.datasets[e] || {}, {\n      type: e\n    }, O, _i];\n  }\n\n  resolveNamedOptions(t, e, s) {\n    let n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [\"\"];\n    const o = {\n      $shared: !0\n    },\n          {\n      resolver: r,\n      subPrefixes: a\n    } = Es(this._resolverCache, t, n);\n    let l = r;\n\n    if (Ml(r, e)) {\n      o.$shared = !1, s = yt(s) ? s() : s;\n      const c = this.createResolver(t, s, a);\n      l = Vt(r, s, c);\n    }\n\n    for (const c of e) o[c] = l[c];\n\n    return o;\n  }\n\n  createResolver(t, e) {\n    let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [\"\"];\n    let n = arguments.length > 3 ? arguments[3] : undefined;\n    const {\n      resolver: o\n    } = Es(this._resolverCache, t, s);\n    return D(e) ? Vt(o, e, void 0, n) : o;\n  }\n\n}\n\nfunction Es(i, t, e) {\n  let s = i.get(t);\n  s || (s = /* @__PURE__ */new Map(), i.set(t, s));\n  const n = e.join();\n  let o = s.get(n);\n  return o || (o = {\n    resolver: zi(t, e),\n    subPrefixes: e.filter(a => !a.toLowerCase().includes(\"hover\"))\n  }, s.set(n, o)), o;\n}\n\nconst vl = i => D(i) && Object.getOwnPropertyNames(i).reduce((t, e) => t || yt(i[e]), !1);\n\nfunction Ml(i, t) {\n  const {\n    isScriptable: e,\n    isIndexable: s\n  } = wn(i);\n\n  for (const n of t) {\n    const o = e(n),\n          r = s(n),\n          a = (r || o) && i[n];\n    if (o && (yt(a) || vl(a)) || r && z(a)) return !0;\n  }\n\n  return !1;\n}\n\nvar kl = \"3.9.1\";\nconst wl = [\"top\", \"bottom\", \"left\", \"right\", \"chartArea\"];\n\nfunction Fs(i, t) {\n  return i === \"top\" || i === \"bottom\" || wl.indexOf(i) === -1 && t === \"x\";\n}\n\nfunction Is(i, t) {\n  return function (e, s) {\n    return e[i] === s[i] ? e[t] - s[t] : e[i] - s[i];\n  };\n}\n\nfunction zs(i) {\n  const t = i.chart,\n        e = t.options.animation;\n  t.notifyPlugins(\"afterRender\"), I(e && e.onComplete, [i], t);\n}\n\nfunction Sl(i) {\n  const t = i.chart,\n        e = t.options.animation;\n  I(e && e.onProgress, [i], t);\n}\n\nfunction Qn(i) {\n  return An() && typeof i == \"string\" ? i = document.getElementById(i) : i && i.length && (i = i[0]), i && i.canvas && (i = i.canvas), i;\n}\n\nconst $e = {},\n      to = i => {\n  const t = Qn(i);\n  return Object.values($e).filter(e => e.canvas === t).pop();\n};\n\nfunction Pl(i, t, e) {\n  const s = Object.keys(i);\n\n  for (const n of s) {\n    const o = +n;\n\n    if (o >= t) {\n      const r = i[n];\n      delete i[n], (e > 0 || o > t) && (i[o + e] = r);\n    }\n  }\n}\n\nfunction Cl(i, t, e, s) {\n  return !e || i.type === \"mouseout\" ? null : s ? t : i;\n}\n\nclass ji {\n  constructor(t, e) {\n    const s = this.config = new yl(e),\n          n = Qn(t),\n          o = to(n);\n    if (o) throw new Error(\"Canvas is already in use. Chart with ID '\" + o.id + \"' must be destroyed before the canvas with ID '\" + o.canvas.id + \"' can be reused.\");\n    const r = s.createResolver(s.chartOptionScopes(), this.getContext());\n    this.platform = new (s.platform || qn(n))(), this.platform.updateConfig(s);\n    const a = this.platform.acquireContext(n, r.aspectRatio),\n          l = a && a.canvas,\n          c = l && l.height,\n          h = l && l.width;\n\n    if (this.id = _o(), this.ctx = a, this.canvas = l, this.width = h, this.height = c, this._options = r, this._aspectRatio = this.aspectRatio, this._layers = [], this._metasets = [], this._stacks = void 0, this.boxes = [], this.currentDevicePixelRatio = void 0, this.chartArea = void 0, this._active = [], this._lastEvent = void 0, this._listeners = {}, this._responsiveListeners = void 0, this._sortedMetasets = [], this.scales = {}, this._plugins = new hl(), this.$proxies = {}, this._hiddenIndices = {}, this.attached = !1, this._animationsDisabled = void 0, this.$context = void 0, this._doResize = Fo(d => this.update(d), r.resizeDelay || 0), this._dataChanges = [], $e[this.id] = this, !a || !l) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    at.listen(this, \"complete\", zs), at.listen(this, \"progress\", Sl), this._initialize(), this.attached && this.update();\n  }\n\n  get aspectRatio() {\n    const {\n      options: {\n        aspectRatio: t,\n        maintainAspectRatio: e\n      },\n      width: s,\n      height: n,\n      _aspectRatio: o\n    } = this;\n    return T(t) ? e && o ? o : n ? s / n : null : t;\n  }\n\n  get data() {\n    return this.config.data;\n  }\n\n  set data(t) {\n    this.config.data = t;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(t) {\n    this.config.options = t;\n  }\n\n  _initialize() {\n    return this.notifyPlugins(\"beforeInit\"), this.options.responsive ? this.resize() : ls(this, this.options.devicePixelRatio), this.bindEvents(), this.notifyPlugins(\"afterInit\"), this;\n  }\n\n  clear() {\n    return os(this.canvas, this.ctx), this;\n  }\n\n  stop() {\n    return at.stop(this), this;\n  }\n\n  resize(t, e) {\n    at.running(this) ? this._resizeBeforeDraw = {\n      width: t,\n      height: e\n    } : this._resize(t, e);\n  }\n\n  _resize(t, e) {\n    const s = this.options,\n          n = this.canvas,\n          o = s.maintainAspectRatio && this.aspectRatio,\n          r = this.platform.getMaximumSize(n, t, e, o),\n          a = s.devicePixelRatio || this.platform.getDevicePixelRatio(),\n          l = this.width ? \"resize\" : \"attach\";\n    this.width = r.width, this.height = r.height, this._aspectRatio = this.aspectRatio, ls(this, a, !0) && (this.notifyPlugins(\"resize\", {\n      size: r\n    }), I(s.onResize, [this, r], this), this.attached && this._doResize(l) && this.render());\n  }\n\n  ensureScalesHaveIDs() {\n    const e = this.options.scales || {};\n    E(e, (s, n) => {\n      s.id = n;\n    });\n  }\n\n  buildOrUpdateScales() {\n    const t = this.options,\n          e = t.scales,\n          s = this.scales,\n          n = Object.keys(s).reduce((r, a) => (r[a] = !1, r), {});\n    let o = [];\n    e && (o = o.concat(Object.keys(e).map(r => {\n      const a = e[r],\n            l = ki(r, a),\n            c = l === \"r\",\n            h = l === \"x\";\n      return {\n        options: a,\n        dposition: c ? \"chartArea\" : h ? \"bottom\" : \"left\",\n        dtype: c ? \"radialLinear\" : h ? \"category\" : \"linear\"\n      };\n    }))), E(o, r => {\n      const a = r.options,\n            l = a.id,\n            c = ki(l, a),\n            h = C(a.type, r.dtype);\n      (a.position === void 0 || Fs(a.position, c) !== Fs(r.dposition)) && (a.position = r.dposition), n[l] = !0;\n      let d = null;\n      if (l in s && s[l].type === h) d = s[l];else {\n        const u = ot.getScale(h);\n        d = new u({\n          id: l,\n          type: h,\n          ctx: this.ctx,\n          chart: this\n        }), s[d.id] = d;\n      }\n      d.init(a, t);\n    }), E(n, (r, a) => {\n      r || delete s[a];\n    }), E(s, r => {\n      X.configure(this, r, r.options), X.addBox(this, r);\n    });\n  }\n\n  _updateMetasets() {\n    const t = this._metasets,\n          e = this.data.datasets.length,\n          s = t.length;\n\n    if (t.sort((n, o) => n.index - o.index), s > e) {\n      for (let n = e; n < s; ++n) this._destroyDatasetMeta(n);\n\n      t.splice(e, s - e);\n    }\n\n    this._sortedMetasets = t.slice(0).sort(Is(\"order\", \"index\"));\n  }\n\n  _removeUnreferencedMetasets() {\n    const {\n      _metasets: t,\n      data: {\n        datasets: e\n      }\n    } = this;\n    t.length > e.length && delete this._stacks, t.forEach((s, n) => {\n      e.filter(o => o === s._dataset).length === 0 && this._destroyDatasetMeta(n);\n    });\n  }\n\n  buildOrUpdateControllers() {\n    const t = [],\n          e = this.data.datasets;\n    let s, n;\n\n    for (this._removeUnreferencedMetasets(), s = 0, n = e.length; s < n; s++) {\n      const o = e[s];\n      let r = this.getDatasetMeta(s);\n      const a = o.type || this.config.type;\n      if (r.type && r.type !== a && (this._destroyDatasetMeta(s), r = this.getDatasetMeta(s)), r.type = a, r.indexAxis = o.indexAxis || Mi(a, this.options), r.order = o.order || 0, r.index = s, r.label = \"\" + o.label, r.visible = this.isDatasetVisible(s), r.controller) r.controller.updateIndex(s), r.controller.linkScales();else {\n        const l = ot.getController(a),\n              {\n          datasetElementType: c,\n          dataElementType: h\n        } = O.datasets[a];\n        Object.assign(l.prototype, {\n          dataElementType: ot.getElement(h),\n          datasetElementType: c && ot.getElement(c)\n        }), r.controller = new l(this, s), t.push(r.controller);\n      }\n    }\n\n    return this._updateMetasets(), t;\n  }\n\n  _resetElements() {\n    E(this.data.datasets, (t, e) => {\n      this.getDatasetMeta(e).controller.reset();\n    }, this);\n  }\n\n  reset() {\n    this._resetElements(), this.notifyPlugins(\"reset\");\n  }\n\n  update(t) {\n    const e = this.config;\n    e.update();\n    const s = this._options = e.createResolver(e.chartOptionScopes(), this.getContext()),\n          n = this._animationsDisabled = !s.animation;\n    if (this._updateScales(), this._checkEventBindings(), this._updateHiddenIndices(), this._plugins.invalidate(), this.notifyPlugins(\"beforeUpdate\", {\n      mode: t,\n      cancelable: !0\n    }) === !1) return;\n    const o = this.buildOrUpdateControllers();\n    this.notifyPlugins(\"beforeElementsUpdate\");\n    let r = 0;\n\n    for (let c = 0, h = this.data.datasets.length; c < h; c++) {\n      const {\n        controller: d\n      } = this.getDatasetMeta(c),\n            u = !n && o.indexOf(d) === -1;\n      d.buildOrUpdateElements(u), r = Math.max(+d.getMaxOverflow(), r);\n    }\n\n    r = this._minPadding = s.layout.autoPadding ? r : 0, this._updateLayout(r), n || E(o, c => {\n      c.reset();\n    }), this._updateDatasets(t), this.notifyPlugins(\"afterUpdate\", {\n      mode: t\n    }), this._layers.sort(Is(\"z\", \"_idx\"));\n    const {\n      _active: a,\n      _lastEvent: l\n    } = this;\n    l ? this._eventHandler(l, !0) : a.length && this._updateHoverStyles(a, a, !0), this.render();\n  }\n\n  _updateScales() {\n    E(this.scales, t => {\n      X.removeBox(this, t);\n    }), this.ensureScalesHaveIDs(), this.buildOrUpdateScales();\n  }\n\n  _checkEventBindings() {\n    const t = this.options,\n          e = new Set(Object.keys(this._listeners)),\n          s = new Set(t.events);\n    (!Ui(e, s) || !!this._responsiveListeners !== t.responsive) && (this.unbindEvents(), this.bindEvents());\n  }\n\n  _updateHiddenIndices() {\n    const {\n      _hiddenIndices: t\n    } = this,\n          e = this._getUniformDataChanges() || [];\n\n    for (const {\n      method: s,\n      start: n,\n      count: o\n    } of e) {\n      const r = s === \"_removeElements\" ? -o : o;\n      Pl(t, n, r);\n    }\n  }\n\n  _getUniformDataChanges() {\n    const t = this._dataChanges;\n    if (!t || !t.length) return;\n    this._dataChanges = [];\n\n    const e = this.data.datasets.length,\n          s = o => new Set(t.filter(r => r[0] === o).map((r, a) => a + \",\" + r.splice(1).join(\",\"))),\n          n = s(0);\n\n    for (let o = 1; o < e; o++) if (!Ui(n, s(o))) return;\n\n    return Array.from(n).map(o => o.split(\",\")).map(o => ({\n      method: o[1],\n      start: +o[2],\n      count: +o[3]\n    }));\n  }\n\n  _updateLayout(t) {\n    if (this.notifyPlugins(\"beforeLayout\", {\n      cancelable: !0\n    }) === !1) return;\n    X.update(this, this.width, this.height, t);\n    const e = this.chartArea,\n          s = e.width <= 0 || e.height <= 0;\n    this._layers = [], E(this.boxes, n => {\n      s && n.position === \"chartArea\" || (n.configure && n.configure(), this._layers.push(...n._layers()));\n    }, this), this._layers.forEach((n, o) => {\n      n._idx = o;\n    }), this.notifyPlugins(\"afterLayout\");\n  }\n\n  _updateDatasets(t) {\n    if (this.notifyPlugins(\"beforeDatasetsUpdate\", {\n      mode: t,\n      cancelable: !0\n    }) !== !1) {\n      for (let e = 0, s = this.data.datasets.length; e < s; ++e) this.getDatasetMeta(e).controller.configure();\n\n      for (let e = 0, s = this.data.datasets.length; e < s; ++e) this._updateDataset(e, yt(t) ? t({\n        datasetIndex: e\n      }) : t);\n\n      this.notifyPlugins(\"afterDatasetsUpdate\", {\n        mode: t\n      });\n    }\n  }\n\n  _updateDataset(t, e) {\n    const s = this.getDatasetMeta(t),\n          n = {\n      meta: s,\n      index: t,\n      mode: e,\n      cancelable: !0\n    };\n    this.notifyPlugins(\"beforeDatasetUpdate\", n) !== !1 && (s.controller._update(e), n.cancelable = !1, this.notifyPlugins(\"afterDatasetUpdate\", n));\n  }\n\n  render() {\n    this.notifyPlugins(\"beforeRender\", {\n      cancelable: !0\n    }) !== !1 && (at.has(this) ? this.attached && !at.running(this) && at.start(this) : (this.draw(), zs({\n      chart: this\n    })));\n  }\n\n  draw() {\n    let t;\n\n    if (this._resizeBeforeDraw) {\n      const {\n        width: s,\n        height: n\n      } = this._resizeBeforeDraw;\n      this._resize(s, n), this._resizeBeforeDraw = null;\n    }\n\n    if (this.clear(), this.width <= 0 || this.height <= 0 || this.notifyPlugins(\"beforeDraw\", {\n      cancelable: !0\n    }) === !1) return;\n    const e = this._layers;\n\n    for (t = 0; t < e.length && e[t].z <= 0; ++t) e[t].draw(this.chartArea);\n\n    for (this._drawDatasets(); t < e.length; ++t) e[t].draw(this.chartArea);\n\n    this.notifyPlugins(\"afterDraw\");\n  }\n\n  _getSortedDatasetMetas(t) {\n    const e = this._sortedMetasets,\n          s = [];\n    let n, o;\n\n    for (n = 0, o = e.length; n < o; ++n) {\n      const r = e[n];\n      (!t || r.visible) && s.push(r);\n    }\n\n    return s;\n  }\n\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(!0);\n  }\n\n  _drawDatasets() {\n    if (this.notifyPlugins(\"beforeDatasetsDraw\", {\n      cancelable: !0\n    }) === !1) return;\n    const t = this.getSortedVisibleDatasetMetas();\n\n    for (let e = t.length - 1; e >= 0; --e) this._drawDataset(t[e]);\n\n    this.notifyPlugins(\"afterDatasetsDraw\");\n  }\n\n  _drawDataset(t) {\n    const e = this.ctx,\n          s = t._clip,\n          n = !s.disabled,\n          o = this.chartArea,\n          r = {\n      meta: t,\n      index: t.index,\n      cancelable: !0\n    };\n    this.notifyPlugins(\"beforeDatasetDraw\", r) !== !1 && (n && Xe(e, {\n      left: s.left === !1 ? 0 : o.left - s.left,\n      right: s.right === !1 ? this.width : o.right + s.right,\n      top: s.top === !1 ? 0 : o.top - s.top,\n      bottom: s.bottom === !1 ? this.height : o.bottom + s.bottom\n    }), t.controller.draw(), n && Ue(e), r.cancelable = !1, this.notifyPlugins(\"afterDatasetDraw\", r));\n  }\n\n  isPointInArea(t) {\n    return re(t, this.chartArea, this._minPadding);\n  }\n\n  getElementsAtEventForMode(t, e, s, n) {\n    const o = Hn.modes[e];\n    return typeof o == \"function\" ? o(this, t, s, n) : [];\n  }\n\n  getDatasetMeta(t) {\n    const e = this.data.datasets[t],\n          s = this._metasets;\n    let n = s.filter(o => o && o._dataset === e).pop();\n    return n || (n = {\n      type: null,\n      data: [],\n      dataset: null,\n      controller: null,\n      hidden: null,\n      xAxisID: null,\n      yAxisID: null,\n      order: e && e.order || 0,\n      index: t,\n      _dataset: e,\n      _parsed: [],\n      _sorted: !1\n    }, s.push(n)), n;\n  }\n\n  getContext() {\n    return this.$context || (this.$context = vt(null, {\n      chart: this,\n      type: \"chart\"\n    }));\n  }\n\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n\n  isDatasetVisible(t) {\n    const e = this.data.datasets[t];\n    if (!e) return !1;\n    const s = this.getDatasetMeta(t);\n    return typeof s.hidden == \"boolean\" ? !s.hidden : !e.hidden;\n  }\n\n  setDatasetVisibility(t, e) {\n    const s = this.getDatasetMeta(t);\n    s.hidden = !e;\n  }\n\n  toggleDataVisibility(t) {\n    this._hiddenIndices[t] = !this._hiddenIndices[t];\n  }\n\n  getDataVisibility(t) {\n    return !this._hiddenIndices[t];\n  }\n\n  _updateVisibility(t, e, s) {\n    const n = s ? \"show\" : \"hide\",\n          o = this.getDatasetMeta(t),\n          r = o.controller._resolveAnimations(void 0, n);\n\n    et(e) ? (o.data[e].hidden = !s, this.update()) : (this.setDatasetVisibility(t, s), r.update(o, {\n      visible: s\n    }), this.update(a => a.datasetIndex === t ? n : void 0));\n  }\n\n  hide(t, e) {\n    this._updateVisibility(t, e, !1);\n  }\n\n  show(t, e) {\n    this._updateVisibility(t, e, !0);\n  }\n\n  _destroyDatasetMeta(t) {\n    const e = this._metasets[t];\n    e && e.controller && e.controller._destroy(), delete this._metasets[t];\n  }\n\n  _stop() {\n    let t, e;\n\n    for (this.stop(), at.remove(this), t = 0, e = this.data.datasets.length; t < e; ++t) this._destroyDatasetMeta(t);\n  }\n\n  destroy() {\n    this.notifyPlugins(\"beforeDestroy\");\n    const {\n      canvas: t,\n      ctx: e\n    } = this;\n    this._stop(), this.config.clearCache(), t && (this.unbindEvents(), os(t, e), this.platform.releaseContext(e), this.canvas = null, this.ctx = null), this.notifyPlugins(\"destroy\"), delete $e[this.id], this.notifyPlugins(\"afterDestroy\");\n  }\n\n  toBase64Image() {\n    return this.canvas.toDataURL(...arguments);\n  }\n\n  bindEvents() {\n    this.bindUserEvents(), this.options.responsive ? this.bindResponsiveEvents() : this.attached = !0;\n  }\n\n  bindUserEvents() {\n    const t = this._listeners,\n          e = this.platform,\n          s = (o, r) => {\n      e.addEventListener(this, o, r), t[o] = r;\n    },\n          n = (o, r, a) => {\n      o.offsetX = r, o.offsetY = a, this._eventHandler(o);\n    };\n\n    E(this.options.events, o => s(o, n));\n  }\n\n  bindResponsiveEvents() {\n    this._responsiveListeners || (this._responsiveListeners = {});\n\n    const t = this._responsiveListeners,\n          e = this.platform,\n          s = (l, c) => {\n      e.addEventListener(this, l, c), t[l] = c;\n    },\n          n = (l, c) => {\n      t[l] && (e.removeEventListener(this, l, c), delete t[l]);\n    },\n          o = (l, c) => {\n      this.canvas && this.resize(l, c);\n    };\n\n    let r;\n\n    const a = () => {\n      n(\"attach\", a), this.attached = !0, this.resize(), s(\"resize\", o), s(\"detach\", r);\n    };\n\n    r = () => {\n      this.attached = !1, n(\"resize\", o), this._stop(), this._resize(0, 0), s(\"attach\", a);\n    }, e.isAttached(this.canvas) ? a() : r();\n  }\n\n  unbindEvents() {\n    E(this._listeners, (t, e) => {\n      this.platform.removeEventListener(this, e, t);\n    }), this._listeners = {}, E(this._responsiveListeners, (t, e) => {\n      this.platform.removeEventListener(this, e, t);\n    }), this._responsiveListeners = void 0;\n  }\n\n  updateHoverStyle(t, e, s) {\n    const n = s ? \"set\" : \"remove\";\n    let o, r, a, l;\n\n    for (e === \"dataset\" && (o = this.getDatasetMeta(t[0].datasetIndex), o.controller[\"_\" + n + \"DatasetHoverStyle\"]()), a = 0, l = t.length; a < l; ++a) {\n      r = t[a];\n      const c = r && this.getDatasetMeta(r.datasetIndex).controller;\n      c && c[n + \"HoverStyle\"](r.element, r.datasetIndex, r.index);\n    }\n  }\n\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  setActiveElements(t) {\n    const e = this._active || [],\n          s = t.map(_ref5 => {\n      let {\n        datasetIndex: o,\n        index: r\n      } = _ref5;\n      const a = this.getDatasetMeta(o);\n      if (!a) throw new Error(\"No dataset found at index \" + o);\n      return {\n        datasetIndex: o,\n        element: a.data[r],\n        index: r\n      };\n    });\n    !ze(s, e) && (this._active = s, this._lastEvent = null, this._updateHoverStyles(s, e));\n  }\n\n  notifyPlugins(t, e, s) {\n    return this._plugins.notify(this, t, e, s);\n  }\n\n  _updateHoverStyles(t, e, s) {\n    const n = this.options.hover,\n          o = (l, c) => l.filter(h => !c.some(d => h.datasetIndex === d.datasetIndex && h.index === d.index)),\n          r = o(e, t),\n          a = s ? t : o(t, e);\n\n    r.length && this.updateHoverStyle(r, n.mode, !1), a.length && n.mode && this.updateHoverStyle(a, n.mode, !0);\n  }\n\n  _eventHandler(t, e) {\n    const s = {\n      event: t,\n      replay: e,\n      cancelable: !0,\n      inChartArea: this.isPointInArea(t)\n    },\n          n = r => (r.options.events || this.options.events).includes(t.native.type);\n\n    if (this.notifyPlugins(\"beforeEvent\", s, n) === !1) return;\n\n    const o = this._handleEvent(t, e, s.inChartArea);\n\n    return s.cancelable = !1, this.notifyPlugins(\"afterEvent\", s, n), (o || s.changed) && this.render(), this;\n  }\n\n  _handleEvent(t, e, s) {\n    const {\n      _active: n = [],\n      options: o\n    } = this,\n          r = e,\n          a = this._getActiveElements(t, n, s, r),\n          l = So(t),\n          c = Cl(t, this._lastEvent, s, l);\n\n    s && (this._lastEvent = null, I(o.onHover, [t, a, this], this), l && I(o.onClick, [t, a, this], this));\n    const h = !ze(a, n);\n    return (h || e) && (this._active = a, this._updateHoverStyles(a, n, e)), this._lastEvent = c, h;\n  }\n\n  _getActiveElements(t, e, s, n) {\n    if (t.type === \"mouseout\") return [];\n    if (!s) return e;\n    const o = this.options.hover;\n    return this.getElementsAtEventForMode(t, o.mode, o, n);\n  }\n\n}\n\nconst Bs = () => E(ji.instances, i => i._plugins.invalidate()),\n      pt = !0;\n\nObject.defineProperties(ji, {\n  defaults: {\n    enumerable: pt,\n    value: O\n  },\n  instances: {\n    enumerable: pt,\n    value: $e\n  },\n  overrides: {\n    enumerable: pt,\n    value: At\n  },\n  registry: {\n    enumerable: pt,\n    value: ot\n  },\n  version: {\n    enumerable: pt,\n    value: kl\n  },\n  getChart: {\n    enumerable: pt,\n    value: to\n  },\n  register: {\n    enumerable: pt,\n    value: function () {\n      ot.add(...arguments), Bs();\n    }\n  },\n  unregister: {\n    enumerable: pt,\n    value: function () {\n      ot.remove(...arguments), Bs();\n    }\n  }\n});\n\nfunction eo(i, t, e) {\n  const {\n    startAngle: s,\n    pixelMargin: n,\n    x: o,\n    y: r,\n    outerRadius: a,\n    innerRadius: l\n  } = t;\n  let c = n / a;\n  i.beginPath(), i.arc(o, r, a, s - c, e + c), l > n ? (c = n / l, i.arc(o, r, l, e + c, s - c, !0)) : i.arc(o, r, n, e + V, s - V), i.closePath(), i.clip();\n}\n\nfunction Dl(i) {\n  return Ii(i, [\"outerStart\", \"outerEnd\", \"innerStart\", \"innerEnd\"]);\n}\n\nfunction Ol(i, t, e, s) {\n  const n = Dl(i.options.borderRadius),\n        o = (e - t) / 2,\n        r = Math.min(o, s * t / 2),\n        a = l => {\n    const c = (e - Math.min(o, l)) * s / 2;\n    return Y(l, 0, Math.min(o, c));\n  };\n\n  return {\n    outerStart: a(n.outerStart),\n    outerEnd: a(n.outerEnd),\n    innerStart: Y(n.innerStart, 0, r),\n    innerEnd: Y(n.innerEnd, 0, r)\n  };\n}\n\nfunction It(i, t, e, s) {\n  return {\n    x: e + i * Math.cos(t),\n    y: s + i * Math.sin(t)\n  };\n}\n\nfunction wi(i, t, e, s, n, o) {\n  const {\n    x: r,\n    y: a,\n    startAngle: l,\n    pixelMargin: c,\n    innerRadius: h\n  } = t,\n        d = Math.max(t.outerRadius + s + e - c, 0),\n        u = h > 0 ? h + s + e + c : 0;\n  let f = 0;\n  const g = n - l;\n\n  if (s) {\n    const P = h > 0 ? h - s : 0,\n          j = d > 0 ? d - s : 0,\n          W = (P + j) / 2,\n          kt = W !== 0 ? g * W / (W + s) : g;\n    f = (g - kt) / 2;\n  }\n\n  const p = Math.max(1e-3, g * d - e / B) / d,\n        m = (g - p) / 2,\n        b = l + m + f,\n        x = n - m - f,\n        {\n    outerStart: v,\n    outerEnd: y,\n    innerStart: _,\n    innerEnd: M\n  } = Ol(t, u, d, x - b),\n        k = d - v,\n        S = d - y,\n        w = b + v / k,\n        L = x - y / S,\n        R = u + _,\n        A = u + M,\n        H = b + _ / R,\n        q = x - M / A;\n\n  if (i.beginPath(), o) {\n    if (i.arc(r, a, d, w, L), y > 0) {\n      const W = It(S, L, r, a);\n      i.arc(W.x, W.y, y, L, x + V);\n    }\n\n    const P = It(A, x, r, a);\n\n    if (i.lineTo(P.x, P.y), M > 0) {\n      const W = It(A, q, r, a);\n      i.arc(W.x, W.y, M, x + V, q + Math.PI);\n    }\n\n    if (i.arc(r, a, u, x - M / u, b + _ / u, !0), _ > 0) {\n      const W = It(R, H, r, a);\n      i.arc(W.x, W.y, _, H + Math.PI, b - V);\n    }\n\n    const j = It(k, b, r, a);\n\n    if (i.lineTo(j.x, j.y), v > 0) {\n      const W = It(k, w, r, a);\n      i.arc(W.x, W.y, v, b - V, w);\n    }\n  } else {\n    i.moveTo(r, a);\n    const P = Math.cos(w) * d + r,\n          j = Math.sin(w) * d + a;\n    i.lineTo(P, j);\n    const W = Math.cos(L) * d + r,\n          kt = Math.sin(L) * d + a;\n    i.lineTo(W, kt);\n  }\n\n  i.closePath();\n}\n\nfunction Al(i, t, e, s, n) {\n  const {\n    fullCircles: o,\n    startAngle: r,\n    circumference: a\n  } = t;\n  let l = t.endAngle;\n\n  if (o) {\n    wi(i, t, e, s, r + F, n);\n\n    for (let c = 0; c < o; ++c) i.fill();\n\n    isNaN(a) || (l = r + a % F, a % F === 0 && (l += F));\n  }\n\n  return wi(i, t, e, s, l, n), i.fill(), l;\n}\n\nfunction Tl(i, t, e) {\n  const {\n    x: s,\n    y: n,\n    startAngle: o,\n    pixelMargin: r,\n    fullCircles: a\n  } = t,\n        l = Math.max(t.outerRadius - r, 0),\n        c = t.innerRadius + r;\n  let h;\n\n  for (e && eo(i, t, o + F), i.beginPath(), i.arc(s, n, c, o + F, o, !0), h = 0; h < a; ++h) i.stroke();\n\n  for (i.beginPath(), i.arc(s, n, l, o, o + F), h = 0; h < a; ++h) i.stroke();\n}\n\nfunction Ll(i, t, e, s, n, o) {\n  const {\n    options: r\n  } = t,\n        {\n    borderWidth: a,\n    borderJoinStyle: l\n  } = r,\n        c = r.borderAlign === \"inner\";\n  a && (c ? (i.lineWidth = a * 2, i.lineJoin = l || \"round\") : (i.lineWidth = a, i.lineJoin = l || \"bevel\"), t.fullCircles && Tl(i, t, c), c && eo(i, t, n), wi(i, t, e, s, n, o), i.stroke());\n}\n\nclass ye extends st {\n  constructor(t) {\n    super(), this.options = void 0, this.circumference = void 0, this.startAngle = void 0, this.endAngle = void 0, this.innerRadius = void 0, this.outerRadius = void 0, this.pixelMargin = 0, this.fullCircles = 0, t && Object.assign(this, t);\n  }\n\n  inRange(t, e, s) {\n    const n = this.getProps([\"x\", \"y\"], s),\n          {\n      angle: o,\n      distance: r\n    } = hn(n, {\n      x: t,\n      y: e\n    }),\n          {\n      startAngle: a,\n      endAngle: l,\n      innerRadius: c,\n      outerRadius: h,\n      circumference: d\n    } = this.getProps([\"startAngle\", \"endAngle\", \"innerRadius\", \"outerRadius\", \"circumference\"], s),\n          u = this.options.spacing / 2,\n          g = C(d, l - a) >= F || oe(o, a, l),\n          p = ut(r, c + u, h + u);\n    return g && p;\n  }\n\n  getCenterPoint(t) {\n    const {\n      x: e,\n      y: s,\n      startAngle: n,\n      endAngle: o,\n      innerRadius: r,\n      outerRadius: a\n    } = this.getProps([\"x\", \"y\", \"startAngle\", \"endAngle\", \"innerRadius\", \"outerRadius\", \"circumference\"], t),\n          {\n      offset: l,\n      spacing: c\n    } = this.options,\n          h = (n + o) / 2,\n          d = (r + a + c + l) / 2;\n    return {\n      x: e + Math.cos(h) * d,\n      y: s + Math.sin(h) * d\n    };\n  }\n\n  tooltipPosition(t) {\n    return this.getCenterPoint(t);\n  }\n\n  draw(t) {\n    const {\n      options: e,\n      circumference: s\n    } = this,\n          n = (e.offset || 0) / 2,\n          o = (e.spacing || 0) / 2,\n          r = e.circular;\n    if (this.pixelMargin = e.borderAlign === \"inner\" ? 0.33 : 0, this.fullCircles = s > F ? Math.floor(s / F) : 0, s === 0 || this.innerRadius < 0 || this.outerRadius < 0) return;\n    t.save();\n    let a = 0;\n\n    if (n) {\n      a = n / 2;\n      const c = (this.startAngle + this.endAngle) / 2;\n      t.translate(Math.cos(c) * a, Math.sin(c) * a), this.circumference >= B && (a = n);\n    }\n\n    t.fillStyle = e.backgroundColor, t.strokeStyle = e.borderColor;\n    const l = Al(t, this, a, o, r);\n    Ll(t, this, a, o, l, r), t.restore();\n  }\n\n}\n\nye.id = \"arc\";\nye.defaults = {\n  borderAlign: \"center\",\n  borderColor: \"#fff\",\n  borderJoinStyle: void 0,\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: void 0,\n  circular: !0\n};\nye.defaultRoutes = {\n  backgroundColor: \"backgroundColor\"\n};\n\nfunction io(i, t) {\n  let e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : t;\n  i.lineCap = C(e.borderCapStyle, t.borderCapStyle), i.setLineDash(C(e.borderDash, t.borderDash)), i.lineDashOffset = C(e.borderDashOffset, t.borderDashOffset), i.lineJoin = C(e.borderJoinStyle, t.borderJoinStyle), i.lineWidth = C(e.borderWidth, t.borderWidth), i.strokeStyle = C(e.borderColor, t.borderColor);\n}\n\nfunction Rl(i, t, e) {\n  i.lineTo(e.x, e.y);\n}\n\nfunction El(i) {\n  return i.stepped ? lr : i.tension || i.cubicInterpolationMode === \"monotone\" ? cr : Rl;\n}\n\nfunction so(i, t) {\n  let e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const s = i.length,\n        {\n    start: n = 0,\n    end: o = s - 1\n  } = e,\n        {\n    start: r,\n    end: a\n  } = t,\n        l = Math.max(n, r),\n        c = Math.min(o, a),\n        h = n < r && o < r || n > a && o > a;\n  return {\n    count: s,\n    start: l,\n    loop: t.loop,\n    ilen: c < l && !h ? s + c - l : c - l\n  };\n}\n\nfunction Fl(i, t, e, s) {\n  const {\n    points: n,\n    options: o\n  } = t,\n        {\n    count: r,\n    start: a,\n    loop: l,\n    ilen: c\n  } = so(n, e, s),\n        h = El(o);\n  let {\n    move: d = !0,\n    reverse: u\n  } = s || {},\n      f,\n      g,\n      p;\n\n  for (f = 0; f <= c; ++f) g = n[(a + (u ? c - f : f)) % r], !g.skip && (d ? (i.moveTo(g.x, g.y), d = !1) : h(i, p, g, u, o.stepped), p = g);\n\n  return l && (g = n[(a + (u ? c : 0)) % r], h(i, p, g, u, o.stepped)), !!l;\n}\n\nfunction Il(i, t, e, s) {\n  const n = t.points,\n        {\n    count: o,\n    start: r,\n    ilen: a\n  } = so(n, e, s),\n        {\n    move: l = !0,\n    reverse: c\n  } = s || {};\n  let h = 0,\n      d = 0,\n      u,\n      f,\n      g,\n      p,\n      m,\n      b;\n\n  const x = y => (r + (c ? a - y : y)) % o,\n        v = () => {\n    p !== m && (i.lineTo(h, m), i.lineTo(h, p), i.lineTo(h, b));\n  };\n\n  for (l && (f = n[x(0)], i.moveTo(f.x, f.y)), u = 0; u <= a; ++u) {\n    if (f = n[x(u)], f.skip) continue;\n    const y = f.x,\n          _ = f.y,\n          M = y | 0;\n    M === g ? (_ < p ? p = _ : _ > m && (m = _), h = (d * h + y) / ++d) : (v(), i.lineTo(y, _), g = M, d = 0, p = m = _), b = _;\n  }\n\n  v();\n}\n\nfunction Si(i) {\n  const t = i.options,\n        e = t.borderDash && t.borderDash.length;\n  return !i._decimated && !i._loop && !t.tension && t.cubicInterpolationMode !== \"monotone\" && !t.stepped && !e ? Il : Fl;\n}\n\nfunction zl(i) {\n  return i.stepped ? Wr : i.tension || i.cubicInterpolationMode === \"monotone\" ? Nr : Ct;\n}\n\nfunction Bl(i, t, e, s) {\n  let n = t._path;\n  n || (n = t._path = new Path2D(), t.path(n, e, s) && n.closePath()), io(i, t.options), i.stroke(n);\n}\n\nfunction Vl(i, t, e, s) {\n  const {\n    segments: n,\n    options: o\n  } = t,\n        r = Si(t);\n\n  for (const a of n) io(i, o, a.style), i.beginPath(), r(i, t, a, {\n    start: e,\n    end: e + s - 1\n  }) && i.closePath(), i.stroke();\n}\n\nconst Wl = typeof Path2D == \"function\";\n\nfunction Nl(i, t, e, s) {\n  Wl && !t.options.segment ? Bl(i, t, e, s) : Vl(i, t, e, s);\n}\n\nclass gt extends st {\n  constructor(t) {\n    super(), this.animated = !0, this.options = void 0, this._chart = void 0, this._loop = void 0, this._fullLoop = void 0, this._path = void 0, this._points = void 0, this._segments = void 0, this._decimated = !1, this._pointsUpdated = !1, this._datasetIndex = void 0, t && Object.assign(this, t);\n  }\n\n  updateControlPoints(t, e) {\n    const s = this.options;\n\n    if ((s.tension || s.cubicInterpolationMode === \"monotone\") && !s.stepped && !this._pointsUpdated) {\n      const n = s.spanGaps ? this._loop : this._fullLoop;\n      Lr(this._points, s, t, n, e), this._pointsUpdated = !0;\n    }\n  }\n\n  set points(t) {\n    this._points = t, delete this._segments, delete this._path, this._pointsUpdated = !1;\n  }\n\n  get points() {\n    return this._points;\n  }\n\n  get segments() {\n    return this._segments || (this._segments = Kr(this, this.options.segment));\n  }\n\n  first() {\n    const t = this.segments,\n          e = this.points;\n    return t.length && e[t[0].start];\n  }\n\n  last() {\n    const t = this.segments,\n          e = this.points,\n          s = t.length;\n    return s && e[t[s - 1].end];\n  }\n\n  interpolate(t, e) {\n    const s = this.options,\n          n = t[e],\n          o = this.points,\n          r = Fn(this, {\n      property: e,\n      start: n,\n      end: n\n    });\n    if (!r.length) return;\n    const a = [],\n          l = zl(s);\n    let c, h;\n\n    for (c = 0, h = r.length; c < h; ++c) {\n      const {\n        start: d,\n        end: u\n      } = r[c],\n            f = o[d],\n            g = o[u];\n\n      if (f === g) {\n        a.push(f);\n        continue;\n      }\n\n      const p = Math.abs((n - f[e]) / (g[e] - f[e])),\n            m = l(f, g, p, s.stepped);\n      m[e] = t[e], a.push(m);\n    }\n\n    return a.length === 1 ? a[0] : a;\n  }\n\n  pathSegment(t, e, s) {\n    return Si(this)(t, this, e, s);\n  }\n\n  path(t, e, s) {\n    const n = this.segments,\n          o = Si(this);\n    let r = this._loop;\n    e = e || 0, s = s || this.points.length - e;\n\n    for (const a of n) r &= o(t, this, a, {\n      start: e,\n      end: e + s - 1\n    });\n\n    return !!r;\n  }\n\n  draw(t, e, s, n) {\n    const o = this.options || {};\n    (this.points || []).length && o.borderWidth && (t.save(), Nl(t, this, s, n), t.restore()), this.animated && (this._pointsUpdated = !1, this._path = void 0);\n  }\n\n}\n\ngt.id = \"line\";\ngt.defaults = {\n  borderCapStyle: \"butt\",\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: \"miter\",\n  borderWidth: 3,\n  capBezierPoints: !0,\n  cubicInterpolationMode: \"default\",\n  fill: !1,\n  spanGaps: !1,\n  stepped: !1,\n  tension: 0\n};\ngt.defaultRoutes = {\n  backgroundColor: \"backgroundColor\",\n  borderColor: \"borderColor\"\n};\ngt.descriptors = {\n  _scriptable: !0,\n  _indexable: i => i !== \"borderDash\" && i !== \"fill\"\n};\n\nfunction Vs(i, t, e, s) {\n  const n = i.options,\n        {\n    [e]: o\n  } = i.getProps([e], s);\n  return Math.abs(t - o) < n.radius + n.hitRadius;\n}\n\nclass ve extends st {\n  constructor(t) {\n    super(), this.options = void 0, this.parsed = void 0, this.skip = void 0, this.stop = void 0, t && Object.assign(this, t);\n  }\n\n  inRange(t, e, s) {\n    const n = this.options,\n          {\n      x: o,\n      y: r\n    } = this.getProps([\"x\", \"y\"], s);\n    return Math.pow(t - o, 2) + Math.pow(e - r, 2) < Math.pow(n.hitRadius + n.radius, 2);\n  }\n\n  inXRange(t, e) {\n    return Vs(this, t, \"x\", e);\n  }\n\n  inYRange(t, e) {\n    return Vs(this, t, \"y\", e);\n  }\n\n  getCenterPoint(t) {\n    const {\n      x: e,\n      y: s\n    } = this.getProps([\"x\", \"y\"], t);\n    return {\n      x: e,\n      y: s\n    };\n  }\n\n  size(t) {\n    t = t || this.options || {};\n    let e = t.radius || 0;\n    e = Math.max(e, e && t.hoverRadius || 0);\n    const s = e && t.borderWidth || 0;\n    return (e + s) * 2;\n  }\n\n  draw(t, e) {\n    const s = this.options;\n    this.skip || s.radius < 0.1 || !re(this, e, this.size(s) / 2) || (t.strokeStyle = s.borderColor, t.lineWidth = s.borderWidth, t.fillStyle = s.backgroundColor, yi(t, s, this.x, this.y));\n  }\n\n  getRange() {\n    const t = this.options || {};\n    return t.radius + t.hitRadius;\n  }\n\n}\n\nve.id = \"point\";\nve.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: \"circle\",\n  radius: 3,\n  rotation: 0\n};\nve.defaultRoutes = {\n  backgroundColor: \"backgroundColor\",\n  borderColor: \"borderColor\"\n};\n\nfunction no(i, t) {\n  const {\n    x: e,\n    y: s,\n    base: n,\n    width: o,\n    height: r\n  } = i.getProps([\"x\", \"y\", \"base\", \"width\", \"height\"], t);\n  let a, l, c, h, d;\n  return i.horizontal ? (d = r / 2, a = Math.min(e, n), l = Math.max(e, n), c = s - d, h = s + d) : (d = o / 2, a = e - d, l = e + d, c = Math.min(s, n), h = Math.max(s, n)), {\n    left: a,\n    top: c,\n    right: l,\n    bottom: h\n  };\n}\n\nfunction bt(i, t, e, s) {\n  return i ? 0 : Y(t, e, s);\n}\n\nfunction Hl(i, t, e) {\n  const s = i.options.borderWidth,\n        n = i.borderSkipped,\n        o = kn(s);\n  return {\n    t: bt(n.top, o.top, 0, e),\n    r: bt(n.right, o.right, 0, t),\n    b: bt(n.bottom, o.bottom, 0, e),\n    l: bt(n.left, o.left, 0, t)\n  };\n}\n\nfunction jl(i, t, e) {\n  const {\n    enableBorderRadius: s\n  } = i.getProps([\"enableBorderRadius\"]),\n        n = i.options.borderRadius,\n        o = Dt(n),\n        r = Math.min(t, e),\n        a = i.borderSkipped,\n        l = s || D(n);\n  return {\n    topLeft: bt(!l || a.top || a.left, o.topLeft, 0, r),\n    topRight: bt(!l || a.top || a.right, o.topRight, 0, r),\n    bottomLeft: bt(!l || a.bottom || a.left, o.bottomLeft, 0, r),\n    bottomRight: bt(!l || a.bottom || a.right, o.bottomRight, 0, r)\n  };\n}\n\nfunction $l(i) {\n  const t = no(i),\n        e = t.right - t.left,\n        s = t.bottom - t.top,\n        n = Hl(i, e / 2, s / 2),\n        o = jl(i, e / 2, s / 2);\n  return {\n    outer: {\n      x: t.left,\n      y: t.top,\n      w: e,\n      h: s,\n      radius: o\n    },\n    inner: {\n      x: t.left + n.l,\n      y: t.top + n.t,\n      w: e - n.l - n.r,\n      h: s - n.t - n.b,\n      radius: {\n        topLeft: Math.max(0, o.topLeft - Math.max(n.t, n.l)),\n        topRight: Math.max(0, o.topRight - Math.max(n.t, n.r)),\n        bottomLeft: Math.max(0, o.bottomLeft - Math.max(n.b, n.l)),\n        bottomRight: Math.max(0, o.bottomRight - Math.max(n.b, n.r))\n      }\n    }\n  };\n}\n\nfunction gi(i, t, e, s) {\n  const n = t === null,\n        o = e === null,\n        a = i && !(n && o) && no(i, s);\n  return a && (n || ut(t, a.left, a.right)) && (o || ut(e, a.top, a.bottom));\n}\n\nfunction Yl(i) {\n  return i.topLeft || i.topRight || i.bottomLeft || i.bottomRight;\n}\n\nfunction Xl(i, t) {\n  i.rect(t.x, t.y, t.w, t.h);\n}\n\nfunction pi(i, t) {\n  let e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const s = i.x !== e.x ? -t : 0,\n        n = i.y !== e.y ? -t : 0,\n        o = (i.x + i.w !== e.x + e.w ? t : 0) - s,\n        r = (i.y + i.h !== e.y + e.h ? t : 0) - n;\n  return {\n    x: i.x + s,\n    y: i.y + n,\n    w: i.w + o,\n    h: i.h + r,\n    radius: i.radius\n  };\n}\n\nclass Me extends st {\n  constructor(t) {\n    super(), this.options = void 0, this.horizontal = void 0, this.base = void 0, this.width = void 0, this.height = void 0, this.inflateAmount = void 0, t && Object.assign(this, t);\n  }\n\n  draw(t) {\n    const {\n      inflateAmount: e,\n      options: {\n        borderColor: s,\n        backgroundColor: n\n      }\n    } = this,\n          {\n      inner: o,\n      outer: r\n    } = $l(this),\n          a = Yl(r.radius) ? ae : Xl;\n    t.save(), (r.w !== o.w || r.h !== o.h) && (t.beginPath(), a(t, pi(r, e, o)), t.clip(), a(t, pi(o, -e, r)), t.fillStyle = s, t.fill(\"evenodd\")), t.beginPath(), a(t, pi(o, e)), t.fillStyle = n, t.fill(), t.restore();\n  }\n\n  inRange(t, e, s) {\n    return gi(this, t, e, s);\n  }\n\n  inXRange(t, e) {\n    return gi(this, t, null, e);\n  }\n\n  inYRange(t, e) {\n    return gi(this, null, t, e);\n  }\n\n  getCenterPoint(t) {\n    const {\n      x: e,\n      y: s,\n      base: n,\n      horizontal: o\n    } = this.getProps([\"x\", \"y\", \"base\", \"horizontal\"], t);\n    return {\n      x: o ? (e + n) / 2 : e,\n      y: o ? s : (s + n) / 2\n    };\n  }\n\n  getRange(t) {\n    return t === \"x\" ? this.width / 2 : this.height / 2;\n  }\n\n}\n\nMe.id = \"bar\";\nMe.defaults = {\n  borderSkipped: \"start\",\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: \"auto\",\n  pointStyle: void 0\n};\nMe.defaultRoutes = {\n  backgroundColor: \"backgroundColor\",\n  borderColor: \"borderColor\"\n};\nvar oo = /* @__PURE__ */Object.freeze({\n  __proto__: null,\n  ArcElement: ye,\n  LineElement: gt,\n  PointElement: ve,\n  BarElement: Me\n});\n\nfunction Ul(i, t, e, s, n) {\n  const o = n.samples || s;\n  if (o >= e) return i.slice(t, t + e);\n  const r = [],\n        a = (e - 2) / (o - 2);\n  let l = 0;\n  const c = t + e - 1;\n  let h = t,\n      d,\n      u,\n      f,\n      g,\n      p;\n\n  for (r[l++] = i[h], d = 0; d < o - 2; d++) {\n    let m = 0,\n        b = 0,\n        x;\n\n    const v = Math.floor((d + 1) * a) + 1 + t,\n          y = Math.min(Math.floor((d + 2) * a) + 1, e) + t,\n          _ = y - v;\n\n    for (x = v; x < y; x++) m += i[x].x, b += i[x].y;\n\n    m /= _, b /= _;\n    const M = Math.floor(d * a) + 1 + t,\n          k = Math.min(Math.floor((d + 1) * a) + 1, e) + t,\n          {\n      x: S,\n      y: w\n    } = i[h];\n\n    for (f = g = -1, x = M; x < k; x++) g = 0.5 * Math.abs((S - m) * (i[x].y - w) - (S - i[x].x) * (b - w)), g > f && (f = g, u = i[x], p = x);\n\n    r[l++] = u, h = p;\n  }\n\n  return r[l++] = i[c], r;\n}\n\nfunction Kl(i, t, e, s) {\n  let n = 0,\n      o = 0,\n      r,\n      a,\n      l,\n      c,\n      h,\n      d,\n      u,\n      f,\n      g,\n      p;\n  const m = [],\n        b = t + e - 1,\n        x = i[t].x,\n        y = i[b].x - x;\n\n  for (r = t; r < t + e; ++r) {\n    a = i[r], l = (a.x - x) / y * s, c = a.y;\n\n    const _ = l | 0;\n\n    if (_ === h) c < g ? (g = c, d = r) : c > p && (p = c, u = r), n = (o * n + a.x) / ++o;else {\n      const M = r - 1;\n\n      if (!T(d) && !T(u)) {\n        const k = Math.min(d, u),\n              S = Math.max(d, u);\n        k !== f && k !== M && m.push({ ...i[k],\n          x: n\n        }), S !== f && S !== M && m.push({ ...i[S],\n          x: n\n        });\n      }\n\n      r > 0 && M !== f && m.push(i[M]), m.push(a), h = _, o = 0, g = p = c, d = u = f = r;\n    }\n  }\n\n  return m;\n}\n\nfunction ro(i) {\n  if (i._decimated) {\n    const t = i._data;\n    delete i._decimated, delete i._data, Object.defineProperty(i, \"data\", {\n      value: t\n    });\n  }\n}\n\nfunction Ws(i) {\n  i.data.datasets.forEach(t => {\n    ro(t);\n  });\n}\n\nfunction ql(i, t) {\n  const e = t.length;\n  let s = 0,\n      n;\n  const {\n    iScale: o\n  } = i,\n        {\n    min: r,\n    max: a,\n    minDefined: l,\n    maxDefined: c\n  } = o.getUserBounds();\n  return l && (s = Y(ft(t, o.axis, r).lo, 0, e - 1)), c ? n = Y(ft(t, o.axis, a).hi + 1, s, e) - s : n = e - s, {\n    start: s,\n    count: n\n  };\n}\n\nvar ao = {\n  id: \"decimation\",\n  defaults: {\n    algorithm: \"min-max\",\n    enabled: !1\n  },\n  beforeElementsUpdate: (i, t, e) => {\n    if (!e.enabled) {\n      Ws(i);\n      return;\n    }\n\n    const s = i.width;\n    i.data.datasets.forEach((n, o) => {\n      const {\n        _data: r,\n        indexAxis: a\n      } = n,\n            l = i.getDatasetMeta(o),\n            c = r || n.data;\n      if (Zt([a, i.options.indexAxis]) === \"y\" || !l.controller.supportsDecimation) return;\n      const h = i.scales[l.xAxisID];\n      if (h.type !== \"linear\" && h.type !== \"time\" || i.options.parsing) return;\n      let {\n        start: d,\n        count: u\n      } = ql(l, c);\n      const f = e.threshold || 4 * s;\n\n      if (u <= f) {\n        ro(n);\n        return;\n      }\n\n      T(r) && (n._data = c, delete n.data, Object.defineProperty(n, \"data\", {\n        configurable: !0,\n        enumerable: !0,\n        get: function () {\n          return this._decimated;\n        },\n        set: function (p) {\n          this._data = p;\n        }\n      }));\n      let g;\n\n      switch (e.algorithm) {\n        case \"lttb\":\n          g = Ul(c, d, u, s, e);\n          break;\n\n        case \"min-max\":\n          g = Kl(c, d, u, s);\n          break;\n\n        default:\n          throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`);\n      }\n\n      n._decimated = g;\n    });\n  },\n\n  destroy(i) {\n    Ws(i);\n  }\n\n};\n\nfunction Gl(i, t, e) {\n  const s = i.segments,\n        n = i.points,\n        o = t.points,\n        r = [];\n\n  for (const a of s) {\n    let {\n      start: l,\n      end: c\n    } = a;\n    c = $i(l, c, n);\n    const h = Pi(e, n[l], n[c], a.loop);\n\n    if (!t.segments) {\n      r.push({\n        source: a,\n        target: h,\n        start: n[l],\n        end: n[c]\n      });\n      continue;\n    }\n\n    const d = Fn(t, h);\n\n    for (const u of d) {\n      const f = Pi(e, o[u.start], o[u.end], u.loop),\n            g = En(a, n, f);\n\n      for (const p of g) r.push({\n        source: p,\n        target: u,\n        start: {\n          [e]: Ns(h, f, \"start\", Math.max)\n        },\n        end: {\n          [e]: Ns(h, f, \"end\", Math.min)\n        }\n      });\n    }\n  }\n\n  return r;\n}\n\nfunction Pi(i, t, e, s) {\n  if (s) return;\n  let n = t[i],\n      o = e[i];\n  return i === \"angle\" && (n = Z(n), o = Z(o)), {\n    property: i,\n    start: n,\n    end: o\n  };\n}\n\nfunction Zl(i, t) {\n  const {\n    x: e = null,\n    y: s = null\n  } = i || {},\n        n = t.points,\n        o = [];\n  return t.segments.forEach(_ref6 => {\n    let {\n      start: r,\n      end: a\n    } = _ref6;\n    a = $i(r, a, n);\n    const l = n[r],\n          c = n[a];\n    s !== null ? (o.push({\n      x: l.x,\n      y: s\n    }), o.push({\n      x: c.x,\n      y: s\n    })) : e !== null && (o.push({\n      x: e,\n      y: l.y\n    }), o.push({\n      x: e,\n      y: c.y\n    }));\n  }), o;\n}\n\nfunction $i(i, t, e) {\n  for (; t > i; t--) {\n    const s = e[t];\n    if (!isNaN(s.x) && !isNaN(s.y)) break;\n  }\n\n  return t;\n}\n\nfunction Ns(i, t, e, s) {\n  return i && t ? s(i[e], t[e]) : i ? i[e] : t ? t[e] : 0;\n}\n\nfunction lo(i, t) {\n  let e = [],\n      s = !1;\n  return z(i) ? (s = !0, e = i) : e = Zl(i, t), e.length ? new gt({\n    points: e,\n    options: {\n      tension: 0\n    },\n    _loop: s,\n    _fullLoop: s\n  }) : null;\n}\n\nfunction Hs(i) {\n  return i && i.fill !== !1;\n}\n\nfunction Jl(i, t, e) {\n  let n = i[t].fill;\n  const o = [t];\n  let r;\n  if (!e) return n;\n\n  for (; n !== !1 && o.indexOf(n) === -1;) {\n    if (!N(n)) return n;\n    if (r = i[n], !r) return !1;\n    if (r.visible) return n;\n    o.push(n), n = r.fill;\n  }\n\n  return !1;\n}\n\nfunction Ql(i, t, e) {\n  const s = sc(i);\n  if (D(s)) return isNaN(s.value) ? !1 : s;\n  let n = parseFloat(s);\n  return N(n) && Math.floor(n) === n ? tc(s[0], t, n, e) : [\"origin\", \"start\", \"end\", \"stack\", \"shape\"].indexOf(s) >= 0 && s;\n}\n\nfunction tc(i, t, e, s) {\n  return (i === \"-\" || i === \"+\") && (e = t + e), e === t || e < 0 || e >= s ? !1 : e;\n}\n\nfunction ec(i, t) {\n  let e = null;\n  return i === \"start\" ? e = t.bottom : i === \"end\" ? e = t.top : D(i) ? e = t.getPixelForValue(i.value) : t.getBasePixel && (e = t.getBasePixel()), e;\n}\n\nfunction ic(i, t, e) {\n  let s;\n  return i === \"start\" ? s = e : i === \"end\" ? s = t.options.reverse ? t.min : t.max : D(i) ? s = i.value : s = t.getBaseValue(), s;\n}\n\nfunction sc(i) {\n  const t = i.options,\n        e = t.fill;\n  let s = C(e && e.target, e);\n  return s === void 0 && (s = !!t.backgroundColor), s === !1 || s === null ? !1 : s === !0 ? \"origin\" : s;\n}\n\nfunction nc(i) {\n  const {\n    scale: t,\n    index: e,\n    line: s\n  } = i,\n        n = [],\n        o = s.segments,\n        r = s.points,\n        a = oc(t, e);\n  a.push(lo({\n    x: null,\n    y: t.bottom\n  }, s));\n\n  for (let l = 0; l < o.length; l++) {\n    const c = o[l];\n\n    for (let h = c.start; h <= c.end; h++) rc(n, r[h], a);\n  }\n\n  return new gt({\n    points: n,\n    options: {}\n  });\n}\n\nfunction oc(i, t) {\n  const e = [],\n        s = i.getMatchingVisibleMetas(\"line\");\n\n  for (let n = 0; n < s.length; n++) {\n    const o = s[n];\n    if (o.index === t) break;\n    o.hidden || e.unshift(o.dataset);\n  }\n\n  return e;\n}\n\nfunction rc(i, t, e) {\n  const s = [];\n\n  for (let n = 0; n < e.length; n++) {\n    const o = e[n],\n          {\n      first: r,\n      last: a,\n      point: l\n    } = ac(o, t, \"x\");\n\n    if (!(!l || r && a)) {\n      if (r) s.unshift(l);else if (i.push(l), !a) break;\n    }\n  }\n\n  i.push(...s);\n}\n\nfunction ac(i, t, e) {\n  const s = i.interpolate(t, e);\n  if (!s) return {};\n  const n = s[e],\n        o = i.segments,\n        r = i.points;\n  let a = !1,\n      l = !1;\n\n  for (let c = 0; c < o.length; c++) {\n    const h = o[c],\n          d = r[h.start][e],\n          u = r[h.end][e];\n\n    if (ut(n, d, u)) {\n      a = n === d, l = n === u;\n      break;\n    }\n  }\n\n  return {\n    first: a,\n    last: l,\n    point: s\n  };\n}\n\nclass co {\n  constructor(t) {\n    this.x = t.x, this.y = t.y, this.radius = t.radius;\n  }\n\n  pathSegment(t, e, s) {\n    const {\n      x: n,\n      y: o,\n      radius: r\n    } = this;\n    return e = e || {\n      start: 0,\n      end: F\n    }, t.arc(n, o, r, e.end, e.start, !0), !s.bounds;\n  }\n\n  interpolate(t) {\n    const {\n      x: e,\n      y: s,\n      radius: n\n    } = this,\n          o = t.angle;\n    return {\n      x: e + Math.cos(o) * n,\n      y: s + Math.sin(o) * n,\n      angle: o\n    };\n  }\n\n}\n\nfunction lc(i) {\n  const {\n    chart: t,\n    fill: e,\n    line: s\n  } = i;\n  if (N(e)) return cc(t, e);\n  if (e === \"stack\") return nc(i);\n  if (e === \"shape\") return !0;\n  const n = hc(i);\n  return n instanceof co ? n : lo(n, s);\n}\n\nfunction cc(i, t) {\n  const e = i.getDatasetMeta(t);\n  return e && i.isDatasetVisible(t) ? e.dataset : null;\n}\n\nfunction hc(i) {\n  return (i.scale || {}).getPointPositionForValue ? uc(i) : dc(i);\n}\n\nfunction dc(i) {\n  const {\n    scale: t = {},\n    fill: e\n  } = i,\n        s = ec(e, t);\n\n  if (N(s)) {\n    const n = t.isHorizontal();\n    return {\n      x: n ? s : null,\n      y: n ? null : s\n    };\n  }\n\n  return null;\n}\n\nfunction uc(i) {\n  const {\n    scale: t,\n    fill: e\n  } = i,\n        s = t.options,\n        n = t.getLabels().length,\n        o = s.reverse ? t.max : t.min,\n        r = ic(e, t, o),\n        a = [];\n\n  if (s.grid.circular) {\n    const l = t.getPointPositionForValue(0, o);\n    return new co({\n      x: l.x,\n      y: l.y,\n      radius: t.getDistanceFromCenterForValue(r)\n    });\n  }\n\n  for (let l = 0; l < n; ++l) a.push(t.getPointPositionForValue(l, r));\n\n  return a;\n}\n\nfunction mi(i, t, e) {\n  const s = lc(t),\n        {\n    line: n,\n    scale: o,\n    axis: r\n  } = t,\n        a = n.options,\n        l = a.fill,\n        c = a.backgroundColor,\n        {\n    above: h = c,\n    below: d = c\n  } = l || {};\n  s && n.points.length && (Xe(i, e), fc(i, {\n    line: n,\n    target: s,\n    above: h,\n    below: d,\n    area: e,\n    scale: o,\n    axis: r\n  }), Ue(i));\n}\n\nfunction fc(i, t) {\n  const {\n    line: e,\n    target: s,\n    above: n,\n    below: o,\n    area: r,\n    scale: a\n  } = t,\n        l = e._loop ? \"angle\" : t.axis;\n  i.save(), l === \"x\" && o !== n && (js(i, s, r.top), $s(i, {\n    line: e,\n    target: s,\n    color: n,\n    scale: a,\n    property: l\n  }), i.restore(), i.save(), js(i, s, r.bottom)), $s(i, {\n    line: e,\n    target: s,\n    color: o,\n    scale: a,\n    property: l\n  }), i.restore();\n}\n\nfunction js(i, t, e) {\n  const {\n    segments: s,\n    points: n\n  } = t;\n  let o = !0,\n      r = !1;\n  i.beginPath();\n\n  for (const a of s) {\n    const {\n      start: l,\n      end: c\n    } = a,\n          h = n[l],\n          d = n[$i(l, c, n)];\n    o ? (i.moveTo(h.x, h.y), o = !1) : (i.lineTo(h.x, e), i.lineTo(h.x, h.y)), r = !!t.pathSegment(i, a, {\n      move: r\n    }), r ? i.closePath() : i.lineTo(d.x, e);\n  }\n\n  i.lineTo(t.first().x, e), i.closePath(), i.clip();\n}\n\nfunction $s(i, t) {\n  const {\n    line: e,\n    target: s,\n    property: n,\n    color: o,\n    scale: r\n  } = t,\n        a = Gl(e, s, n);\n\n  for (const {\n    source: l,\n    target: c,\n    start: h,\n    end: d\n  } of a) {\n    const {\n      style: {\n        backgroundColor: u = o\n      } = {}\n    } = l,\n          f = s !== !0;\n    i.save(), i.fillStyle = u, gc(i, r, f && Pi(n, h, d)), i.beginPath();\n    const g = !!e.pathSegment(i, l);\n    let p;\n\n    if (f) {\n      g ? i.closePath() : Ys(i, s, d, n);\n      const m = !!s.pathSegment(i, c, {\n        move: g,\n        reverse: !0\n      });\n      p = g && m, p || Ys(i, s, h, n);\n    }\n\n    i.closePath(), i.fill(p ? \"evenodd\" : \"nonzero\"), i.restore();\n  }\n}\n\nfunction gc(i, t, e) {\n  const {\n    top: s,\n    bottom: n\n  } = t.chart.chartArea,\n        {\n    property: o,\n    start: r,\n    end: a\n  } = e || {};\n  o === \"x\" && (i.beginPath(), i.rect(r, s, a - r, n - s), i.clip());\n}\n\nfunction Ys(i, t, e, s) {\n  const n = t.interpolate(e, s);\n  n && i.lineTo(n.x, n.y);\n}\n\nvar ho = {\n  id: \"filler\",\n\n  afterDatasetsUpdate(i, t, e) {\n    const s = (i.data.datasets || []).length,\n          n = [];\n    let o, r, a, l;\n\n    for (r = 0; r < s; ++r) o = i.getDatasetMeta(r), a = o.dataset, l = null, a && a.options && a instanceof gt && (l = {\n      visible: i.isDatasetVisible(r),\n      index: r,\n      fill: Ql(a, r, s),\n      chart: i,\n      axis: o.controller.options.indexAxis,\n      scale: o.vScale,\n      line: a\n    }), o.$filler = l, n.push(l);\n\n    for (r = 0; r < s; ++r) l = n[r], !(!l || l.fill === !1) && (l.fill = Jl(n, r, e.propagate));\n  },\n\n  beforeDraw(i, t, e) {\n    const s = e.drawTime === \"beforeDraw\",\n          n = i.getSortedVisibleDatasetMetas(),\n          o = i.chartArea;\n\n    for (let r = n.length - 1; r >= 0; --r) {\n      const a = n[r].$filler;\n      a && (a.line.updateControlPoints(o, a.axis), s && a.fill && mi(i.ctx, a, o));\n    }\n  },\n\n  beforeDatasetsDraw(i, t, e) {\n    if (e.drawTime !== \"beforeDatasetsDraw\") return;\n    const s = i.getSortedVisibleDatasetMetas();\n\n    for (let n = s.length - 1; n >= 0; --n) {\n      const o = s[n].$filler;\n      Hs(o) && mi(i.ctx, o, i.chartArea);\n    }\n  },\n\n  beforeDatasetDraw(i, t, e) {\n    const s = t.meta.$filler;\n    !Hs(s) || e.drawTime !== \"beforeDatasetDraw\" || mi(i.ctx, s, i.chartArea);\n  },\n\n  defaults: {\n    propagate: !0,\n    drawTime: \"beforeDatasetDraw\"\n  }\n};\n\nconst Xs = (i, t) => {\n  let {\n    boxHeight: e = t,\n    boxWidth: s = t\n  } = i;\n  return i.usePointStyle && (e = Math.min(e, t), s = i.pointStyleWidth || Math.min(s, t)), {\n    boxWidth: s,\n    boxHeight: e,\n    itemHeight: Math.max(t, e)\n  };\n},\n      pc = (i, t) => i !== null && t !== null && i.datasetIndex === t.datasetIndex && i.index === t.index;\n\nclass Us extends st {\n  constructor(t) {\n    super(), this._added = !1, this.legendHitBoxes = [], this._hoveredItem = null, this.doughnutMode = !1, this.chart = t.chart, this.options = t.options, this.ctx = t.ctx, this.legendItems = void 0, this.columnSizes = void 0, this.lineWidths = void 0, this.maxHeight = void 0, this.maxWidth = void 0, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.height = void 0, this.width = void 0, this._margins = void 0, this.position = void 0, this.weight = void 0, this.fullSize = void 0;\n  }\n\n  update(t, e, s) {\n    this.maxWidth = t, this.maxHeight = e, this._margins = s, this.setDimensions(), this.buildLabels(), this.fit();\n  }\n\n  setDimensions() {\n    this.isHorizontal() ? (this.width = this.maxWidth, this.left = this._margins.left, this.right = this.width) : (this.height = this.maxHeight, this.top = this._margins.top, this.bottom = this.height);\n  }\n\n  buildLabels() {\n    const t = this.options.labels || {};\n    let e = I(t.generateLabels, [this.chart], this) || [];\n    t.filter && (e = e.filter(s => t.filter(s, this.chart.data))), t.sort && (e = e.sort((s, n) => t.sort(s, n, this.chart.data))), this.options.reverse && e.reverse(), this.legendItems = e;\n  }\n\n  fit() {\n    const {\n      options: t,\n      ctx: e\n    } = this;\n\n    if (!t.display) {\n      this.width = this.height = 0;\n      return;\n    }\n\n    const s = t.labels,\n          n = $(s.font),\n          o = n.size,\n          r = this._computeTitleHeight(),\n          {\n      boxWidth: a,\n      itemHeight: l\n    } = Xs(s, o);\n\n    let c, h;\n    e.font = n.string, this.isHorizontal() ? (c = this.maxWidth, h = this._fitRows(r, o, a, l) + 10) : (h = this.maxHeight, c = this._fitCols(r, o, a, l) + 10), this.width = Math.min(c, t.maxWidth || this.maxWidth), this.height = Math.min(h, t.maxHeight || this.maxHeight);\n  }\n\n  _fitRows(t, e, s, n) {\n    const {\n      ctx: o,\n      maxWidth: r,\n      options: {\n        labels: {\n          padding: a\n        }\n      }\n    } = this,\n          l = this.legendHitBoxes = [],\n          c = this.lineWidths = [0],\n          h = n + a;\n    let d = t;\n    o.textAlign = \"left\", o.textBaseline = \"middle\";\n    let u = -1,\n        f = -h;\n    return this.legendItems.forEach((g, p) => {\n      const m = s + e / 2 + o.measureText(g.text).width;\n      (p === 0 || c[c.length - 1] + m + 2 * a > r) && (d += h, c[c.length - (p > 0 ? 0 : 1)] = 0, f += h, u++), l[p] = {\n        left: 0,\n        top: f,\n        row: u,\n        width: m,\n        height: n\n      }, c[c.length - 1] += m + a;\n    }), d;\n  }\n\n  _fitCols(t, e, s, n) {\n    const {\n      ctx: o,\n      maxHeight: r,\n      options: {\n        labels: {\n          padding: a\n        }\n      }\n    } = this,\n          l = this.legendHitBoxes = [],\n          c = this.columnSizes = [],\n          h = r - t;\n    let d = a,\n        u = 0,\n        f = 0,\n        g = 0,\n        p = 0;\n    return this.legendItems.forEach((m, b) => {\n      const x = s + e / 2 + o.measureText(m.text).width;\n      b > 0 && f + n + 2 * a > h && (d += u + a, c.push({\n        width: u,\n        height: f\n      }), g += u + a, p++, u = f = 0), l[b] = {\n        left: g,\n        top: f,\n        col: p,\n        width: x,\n        height: n\n      }, u = Math.max(u, x), f += n + a;\n    }), d += u, c.push({\n      width: u,\n      height: f\n    }), d;\n  }\n\n  adjustHitBoxes() {\n    if (!this.options.display) return;\n\n    const t = this._computeTitleHeight(),\n          {\n      legendHitBoxes: e,\n      options: {\n        align: s,\n        labels: {\n          padding: n\n        },\n        rtl: o\n      }\n    } = this,\n          r = zt(o, this.left, this.width);\n\n    if (this.isHorizontal()) {\n      let a = 0,\n          l = U(s, this.left + n, this.right - this.lineWidths[a]);\n\n      for (const c of e) a !== c.row && (a = c.row, l = U(s, this.left + n, this.right - this.lineWidths[a])), c.top += this.top + t + n, c.left = r.leftForLtr(r.x(l), c.width), l += c.width + n;\n    } else {\n      let a = 0,\n          l = U(s, this.top + t + n, this.bottom - this.columnSizes[a].height);\n\n      for (const c of e) c.col !== a && (a = c.col, l = U(s, this.top + t + n, this.bottom - this.columnSizes[a].height)), c.top = l, c.left += this.left + n, c.left = r.leftForLtr(r.x(c.left), c.width), l += c.height + n;\n    }\n  }\n\n  isHorizontal() {\n    return this.options.position === \"top\" || this.options.position === \"bottom\";\n  }\n\n  draw() {\n    if (this.options.display) {\n      const t = this.ctx;\n      Xe(t, this), this._draw(), Ue(t);\n    }\n  }\n\n  _draw() {\n    const {\n      options: t,\n      columnSizes: e,\n      lineWidths: s,\n      ctx: n\n    } = this,\n          {\n      align: o,\n      labels: r\n    } = t,\n          a = O.color,\n          l = zt(t.rtl, this.left, this.width),\n          c = $(r.font),\n          {\n      color: h,\n      padding: d\n    } = r,\n          u = c.size,\n          f = u / 2;\n    let g;\n    this.drawTitle(), n.textAlign = l.textAlign(\"left\"), n.textBaseline = \"middle\", n.lineWidth = 0.5, n.font = c.string;\n\n    const {\n      boxWidth: p,\n      boxHeight: m,\n      itemHeight: b\n    } = Xs(r, u),\n          x = function (k, S, w) {\n      if (isNaN(p) || p <= 0 || isNaN(m) || m < 0) return;\n      n.save();\n      const L = C(w.lineWidth, 1);\n\n      if (n.fillStyle = C(w.fillStyle, a), n.lineCap = C(w.lineCap, \"butt\"), n.lineDashOffset = C(w.lineDashOffset, 0), n.lineJoin = C(w.lineJoin, \"miter\"), n.lineWidth = L, n.strokeStyle = C(w.strokeStyle, a), n.setLineDash(C(w.lineDash, [])), r.usePointStyle) {\n        const R = {\n          radius: m * Math.SQRT2 / 2,\n          pointStyle: w.pointStyle,\n          rotation: w.rotation,\n          borderWidth: L\n        },\n              A = l.xPlus(k, p / 2),\n              H = S + f;\n        Mn(n, R, A, H, r.pointStyleWidth && p);\n      } else {\n        const R = S + Math.max((u - m) / 2, 0),\n              A = l.leftForLtr(k, p),\n              H = Dt(w.borderRadius);\n        n.beginPath(), Object.values(H).some(q => q !== 0) ? ae(n, {\n          x: A,\n          y: R,\n          w: p,\n          h: m,\n          radius: H\n        }) : n.rect(A, R, p, m), n.fill(), L !== 0 && n.stroke();\n      }\n\n      n.restore();\n    },\n          v = function (k, S, w) {\n      Tt(n, w.text, k, S + b / 2, c, {\n        strikethrough: w.hidden,\n        textAlign: l.textAlign(w.textAlign)\n      });\n    },\n          y = this.isHorizontal(),\n          _ = this._computeTitleHeight();\n\n    y ? g = {\n      x: U(o, this.left + d, this.right - s[0]),\n      y: this.top + d + _,\n      line: 0\n    } : g = {\n      x: this.left + d,\n      y: U(o, this.top + _ + d, this.bottom - e[0].height),\n      line: 0\n    }, Tn(this.ctx, t.textDirection);\n    const M = b + d;\n    this.legendItems.forEach((k, S) => {\n      n.strokeStyle = k.fontColor || h, n.fillStyle = k.fontColor || h;\n      const w = n.measureText(k.text).width,\n            L = l.textAlign(k.textAlign || (k.textAlign = r.textAlign)),\n            R = p + f + w;\n      let A = g.x,\n          H = g.y;\n      l.setWidth(this.width), y ? S > 0 && A + R + d > this.right && (H = g.y += M, g.line++, A = g.x = U(o, this.left + d, this.right - s[g.line])) : S > 0 && H + M > this.bottom && (A = g.x = A + e[g.line].width + d, g.line++, H = g.y = U(o, this.top + _ + d, this.bottom - e[g.line].height));\n      const q = l.x(A);\n      x(q, H, k), A = Io(L, A + p + f, y ? A + R : this.right, t.rtl), v(l.x(A), H, k), y ? g.x += R + d : g.y += M;\n    }), Ln(this.ctx, t.textDirection);\n  }\n\n  drawTitle() {\n    const t = this.options,\n          e = t.title,\n          s = $(e.font),\n          n = K(e.padding);\n    if (!e.display) return;\n    const o = zt(t.rtl, this.left, this.width),\n          r = this.ctx,\n          a = e.position,\n          l = s.size / 2,\n          c = n.top + l;\n    let h,\n        d = this.left,\n        u = this.width;\n    if (this.isHorizontal()) u = Math.max(...this.lineWidths), h = this.top + c, d = U(t.align, d, this.right - u);else {\n      const g = this.columnSizes.reduce((p, m) => Math.max(p, m.height), 0);\n      h = c + U(t.align, this.top, this.bottom - g - t.labels.padding - this._computeTitleHeight());\n    }\n    const f = U(a, d, d + u);\n    r.textAlign = o.textAlign(Li(a)), r.textBaseline = \"middle\", r.strokeStyle = e.color, r.fillStyle = e.color, r.font = s.string, Tt(r, e.text, f, h, s);\n  }\n\n  _computeTitleHeight() {\n    const t = this.options.title,\n          e = $(t.font),\n          s = K(t.padding);\n    return t.display ? e.lineHeight + s.height : 0;\n  }\n\n  _getLegendItemAt(t, e) {\n    let s, n, o;\n\n    if (ut(t, this.left, this.right) && ut(e, this.top, this.bottom)) {\n      for (o = this.legendHitBoxes, s = 0; s < o.length; ++s) if (n = o[s], ut(t, n.left, n.left + n.width) && ut(e, n.top, n.top + n.height)) return this.legendItems[s];\n    }\n\n    return null;\n  }\n\n  handleEvent(t) {\n    const e = this.options;\n    if (!mc(t.type, e)) return;\n\n    const s = this._getLegendItemAt(t.x, t.y);\n\n    if (t.type === \"mousemove\" || t.type === \"mouseout\") {\n      const n = this._hoveredItem,\n            o = pc(n, s);\n      n && !o && I(e.onLeave, [t, n, this], this), this._hoveredItem = s, s && !o && I(e.onHover, [t, s, this], this);\n    } else s && I(e.onClick, [t, s, this], this);\n  }\n\n}\n\nfunction mc(i, t) {\n  return !!((i === \"mousemove\" || i === \"mouseout\") && (t.onHover || t.onLeave) || t.onClick && (i === \"click\" || i === \"mouseup\"));\n}\n\nvar uo = {\n  id: \"legend\",\n  _element: Us,\n\n  start(i, t, e) {\n    const s = i.legend = new Us({\n      ctx: i.ctx,\n      options: e,\n      chart: i\n    });\n    X.configure(i, s, e), X.addBox(i, s);\n  },\n\n  stop(i) {\n    X.removeBox(i, i.legend), delete i.legend;\n  },\n\n  beforeUpdate(i, t, e) {\n    const s = i.legend;\n    X.configure(i, s, e), s.options = e;\n  },\n\n  afterUpdate(i) {\n    const t = i.legend;\n    t.buildLabels(), t.adjustHitBoxes();\n  },\n\n  afterEvent(i, t) {\n    t.replay || i.legend.handleEvent(t.event);\n  },\n\n  defaults: {\n    display: !0,\n    position: \"top\",\n    align: \"center\",\n    fullSize: !0,\n    reverse: !1,\n    weight: 1e3,\n\n    onClick(i, t, e) {\n      const s = t.datasetIndex,\n            n = e.chart;\n      n.isDatasetVisible(s) ? (n.hide(s), t.hidden = !0) : (n.show(s), t.hidden = !1);\n    },\n\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: i => i.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n\n      generateLabels(i) {\n        const t = i.data.datasets,\n              {\n          labels: {\n            usePointStyle: e,\n            pointStyle: s,\n            textAlign: n,\n            color: o\n          }\n        } = i.legend.options;\n        return i._getSortedDatasetMetas().map(r => {\n          const a = r.controller.getStyle(e ? 0 : void 0),\n                l = K(a.borderWidth);\n          return {\n            text: t[r.index].label,\n            fillStyle: a.backgroundColor,\n            fontColor: o,\n            hidden: !r.visible,\n            lineCap: a.borderCapStyle,\n            lineDash: a.borderDash,\n            lineDashOffset: a.borderDashOffset,\n            lineJoin: a.borderJoinStyle,\n            lineWidth: (l.width + l.height) / 4,\n            strokeStyle: a.borderColor,\n            pointStyle: s || a.pointStyle,\n            rotation: a.rotation,\n            textAlign: n || a.textAlign,\n            borderRadius: 0,\n            datasetIndex: r.index\n          };\n        }, this);\n      }\n\n    },\n    title: {\n      color: i => i.chart.options.color,\n      display: !1,\n      position: \"center\",\n      text: \"\"\n    }\n  },\n  descriptors: {\n    _scriptable: i => !i.startsWith(\"on\"),\n    labels: {\n      _scriptable: i => ![\"generateLabels\", \"filter\", \"sort\"].includes(i)\n    }\n  }\n};\n\nclass Yi extends st {\n  constructor(t) {\n    super(), this.chart = t.chart, this.options = t.options, this.ctx = t.ctx, this._padding = void 0, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.width = void 0, this.height = void 0, this.position = void 0, this.weight = void 0, this.fullSize = void 0;\n  }\n\n  update(t, e) {\n    const s = this.options;\n\n    if (this.left = 0, this.top = 0, !s.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n\n    this.width = this.right = t, this.height = this.bottom = e;\n    const n = z(s.text) ? s.text.length : 1;\n    this._padding = K(s.padding);\n\n    const o = n * $(s.font).lineHeight + this._padding.height;\n\n    this.isHorizontal() ? this.height = o : this.width = o;\n  }\n\n  isHorizontal() {\n    const t = this.options.position;\n    return t === \"top\" || t === \"bottom\";\n  }\n\n  _drawArgs(t) {\n    const {\n      top: e,\n      left: s,\n      bottom: n,\n      right: o,\n      options: r\n    } = this,\n          a = r.align;\n    let l = 0,\n        c,\n        h,\n        d;\n    return this.isHorizontal() ? (h = U(a, s, o), d = e + t, c = o - s) : (r.position === \"left\" ? (h = s + t, d = U(a, n, e), l = B * -0.5) : (h = o - t, d = U(a, e, n), l = B * 0.5), c = n - e), {\n      titleX: h,\n      titleY: d,\n      maxWidth: c,\n      rotation: l\n    };\n  }\n\n  draw() {\n    const t = this.ctx,\n          e = this.options;\n    if (!e.display) return;\n\n    const s = $(e.font),\n          o = s.lineHeight / 2 + this._padding.top,\n          {\n      titleX: r,\n      titleY: a,\n      maxWidth: l,\n      rotation: c\n    } = this._drawArgs(o);\n\n    Tt(t, e.text, 0, 0, s, {\n      color: e.color,\n      maxWidth: l,\n      rotation: c,\n      textAlign: Li(e.align),\n      textBaseline: \"middle\",\n      translation: [r, a]\n    });\n  }\n\n}\n\nfunction bc(i, t) {\n  const e = new Yi({\n    ctx: i.ctx,\n    options: t,\n    chart: i\n  });\n  X.configure(i, e, t), X.addBox(i, e), i.titleBlock = e;\n}\n\nvar fo = {\n  id: \"title\",\n  _element: Yi,\n\n  start(i, t, e) {\n    bc(i, e);\n  },\n\n  stop(i) {\n    const t = i.titleBlock;\n    X.removeBox(i, t), delete i.titleBlock;\n  },\n\n  beforeUpdate(i, t, e) {\n    const s = i.titleBlock;\n    X.configure(i, s, e), s.options = e;\n  },\n\n  defaults: {\n    align: \"center\",\n    display: !1,\n    font: {\n      weight: \"bold\"\n    },\n    fullSize: !0,\n    padding: 10,\n    position: \"top\",\n    text: \"\",\n    weight: 2e3\n  },\n  defaultRoutes: {\n    color: \"color\"\n  },\n  descriptors: {\n    _scriptable: !0,\n    _indexable: !1\n  }\n};\nconst Re = /* @__PURE__ */new WeakMap();\nvar go = {\n  id: \"subtitle\",\n\n  start(i, t, e) {\n    const s = new Yi({\n      ctx: i.ctx,\n      options: e,\n      chart: i\n    });\n    X.configure(i, s, e), X.addBox(i, s), Re.set(i, s);\n  },\n\n  stop(i) {\n    X.removeBox(i, Re.get(i)), Re.delete(i);\n  },\n\n  beforeUpdate(i, t, e) {\n    const s = Re.get(i);\n    X.configure(i, s, e), s.options = e;\n  },\n\n  defaults: {\n    align: \"center\",\n    display: !1,\n    font: {\n      weight: \"normal\"\n    },\n    fullSize: !0,\n    padding: 0,\n    position: \"top\",\n    text: \"\",\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: \"color\"\n  },\n  descriptors: {\n    _scriptable: !0,\n    _indexable: !1\n  }\n};\nconst se = {\n  average(i) {\n    if (!i.length) return !1;\n    let t,\n        e,\n        s = 0,\n        n = 0,\n        o = 0;\n\n    for (t = 0, e = i.length; t < e; ++t) {\n      const r = i[t].element;\n\n      if (r && r.hasValue()) {\n        const a = r.tooltipPosition();\n        s += a.x, n += a.y, ++o;\n      }\n    }\n\n    return {\n      x: s / o,\n      y: n / o\n    };\n  },\n\n  nearest(i, t) {\n    if (!i.length) return !1;\n    let e = t.x,\n        s = t.y,\n        n = Number.POSITIVE_INFINITY,\n        o,\n        r,\n        a;\n\n    for (o = 0, r = i.length; o < r; ++o) {\n      const l = i[o].element;\n\n      if (l && l.hasValue()) {\n        const c = l.getCenterPoint(),\n              h = bi(t, c);\n        h < n && (n = h, a = l);\n      }\n    }\n\n    if (a) {\n      const l = a.tooltipPosition();\n      e = l.x, s = l.y;\n    }\n\n    return {\n      x: e,\n      y: s\n    };\n  }\n\n};\n\nfunction rt(i, t) {\n  return t && (z(t) ? Array.prototype.push.apply(i, t) : i.push(t)), i;\n}\n\nfunction ht(i) {\n  return (typeof i == \"string\" || i instanceof String) && i.indexOf(`\n`) > -1 ? i.split(`\n`) : i;\n}\n\nfunction xc(i, t) {\n  const {\n    element: e,\n    datasetIndex: s,\n    index: n\n  } = t,\n        o = i.getDatasetMeta(s).controller,\n        {\n    label: r,\n    value: a\n  } = o.getLabelAndValue(n);\n  return {\n    chart: i,\n    label: r,\n    parsed: o.getParsed(n),\n    raw: i.data.datasets[s].data[n],\n    formattedValue: a,\n    dataset: o.getDataset(),\n    dataIndex: n,\n    datasetIndex: s,\n    element: e\n  };\n}\n\nfunction Ks(i, t) {\n  const e = i.chart.ctx,\n        {\n    body: s,\n    footer: n,\n    title: o\n  } = i,\n        {\n    boxWidth: r,\n    boxHeight: a\n  } = t,\n        l = $(t.bodyFont),\n        c = $(t.titleFont),\n        h = $(t.footerFont),\n        d = o.length,\n        u = n.length,\n        f = s.length,\n        g = K(t.padding);\n  let p = g.height,\n      m = 0,\n      b = s.reduce((y, _) => y + _.before.length + _.lines.length + _.after.length, 0);\n\n  if (b += i.beforeBody.length + i.afterBody.length, d && (p += d * c.lineHeight + (d - 1) * t.titleSpacing + t.titleMarginBottom), b) {\n    const y = t.displayColors ? Math.max(a, l.lineHeight) : l.lineHeight;\n    p += f * y + (b - f) * l.lineHeight + (b - 1) * t.bodySpacing;\n  }\n\n  u && (p += t.footerMarginTop + u * h.lineHeight + (u - 1) * t.footerSpacing);\n  let x = 0;\n\n  const v = function (y) {\n    m = Math.max(m, e.measureText(y).width + x);\n  };\n\n  return e.save(), e.font = c.string, E(i.title, v), e.font = l.string, E(i.beforeBody.concat(i.afterBody), v), x = t.displayColors ? r + 2 + t.boxPadding : 0, E(s, y => {\n    E(y.before, v), E(y.lines, v), E(y.after, v);\n  }), x = 0, e.font = h.string, E(i.footer, v), e.restore(), m += g.width, {\n    width: m,\n    height: p\n  };\n}\n\nfunction _c(i, t) {\n  const {\n    y: e,\n    height: s\n  } = t;\n  return e < s / 2 ? \"top\" : e > i.height - s / 2 ? \"bottom\" : \"center\";\n}\n\nfunction yc(i, t, e, s) {\n  const {\n    x: n,\n    width: o\n  } = s,\n        r = e.caretSize + e.caretPadding;\n  if (i === \"left\" && n + o + r > t.width || i === \"right\" && n - o - r < 0) return !0;\n}\n\nfunction vc(i, t, e, s) {\n  const {\n    x: n,\n    width: o\n  } = e,\n        {\n    width: r,\n    chartArea: {\n      left: a,\n      right: l\n    }\n  } = i;\n  let c = \"center\";\n  return s === \"center\" ? c = n <= (a + l) / 2 ? \"left\" : \"right\" : n <= o / 2 ? c = \"left\" : n >= r - o / 2 && (c = \"right\"), yc(c, i, t, e) && (c = \"center\"), c;\n}\n\nfunction qs(i, t, e) {\n  const s = e.yAlign || t.yAlign || _c(i, e);\n\n  return {\n    xAlign: e.xAlign || t.xAlign || vc(i, t, e, s),\n    yAlign: s\n  };\n}\n\nfunction Mc(i, t) {\n  let {\n    x: e,\n    width: s\n  } = i;\n  return t === \"right\" ? e -= s : t === \"center\" && (e -= s / 2), e;\n}\n\nfunction kc(i, t, e) {\n  let {\n    y: s,\n    height: n\n  } = i;\n  return t === \"top\" ? s += e : t === \"bottom\" ? s -= n + e : s -= n / 2, s;\n}\n\nfunction Gs(i, t, e, s) {\n  const {\n    caretSize: n,\n    caretPadding: o,\n    cornerRadius: r\n  } = i,\n        {\n    xAlign: a,\n    yAlign: l\n  } = e,\n        c = n + o,\n        {\n    topLeft: h,\n    topRight: d,\n    bottomLeft: u,\n    bottomRight: f\n  } = Dt(r);\n  let g = Mc(t, a);\n  const p = kc(t, l, c);\n  return l === \"center\" ? a === \"left\" ? g += c : a === \"right\" && (g -= c) : a === \"left\" ? g -= Math.max(h, u) + n : a === \"right\" && (g += Math.max(d, f) + n), {\n    x: Y(g, 0, s.width - t.width),\n    y: Y(p, 0, s.height - t.height)\n  };\n}\n\nfunction Ee(i, t, e) {\n  const s = K(e.padding);\n  return t === \"center\" ? i.x + i.width / 2 : t === \"right\" ? i.x + i.width - s.right : i.x + s.left;\n}\n\nfunction Zs(i) {\n  return rt([], ht(i));\n}\n\nfunction wc(i, t, e) {\n  return vt(i, {\n    tooltip: t,\n    tooltipItems: e,\n    type: \"tooltip\"\n  });\n}\n\nfunction Js(i, t) {\n  const e = t && t.dataset && t.dataset.tooltip && t.dataset.tooltip.callbacks;\n  return e ? i.override(e) : i;\n}\n\nclass Ci extends st {\n  constructor(t) {\n    super(), this.opacity = 0, this._active = [], this._eventPosition = void 0, this._size = void 0, this._cachedAnimations = void 0, this._tooltipItems = [], this.$animations = void 0, this.$context = void 0, this.chart = t.chart || t._chart, this._chart = this.chart, this.options = t.options, this.dataPoints = void 0, this.title = void 0, this.beforeBody = void 0, this.body = void 0, this.afterBody = void 0, this.footer = void 0, this.xAlign = void 0, this.yAlign = void 0, this.x = void 0, this.y = void 0, this.height = void 0, this.width = void 0, this.caretX = void 0, this.caretY = void 0, this.labelColors = void 0, this.labelPointStyles = void 0, this.labelTextColors = void 0;\n  }\n\n  initialize(t) {\n    this.options = t, this._cachedAnimations = void 0, this.$context = void 0;\n  }\n\n  _resolveAnimations() {\n    const t = this._cachedAnimations;\n    if (t) return t;\n    const e = this.chart,\n          s = this.options.setContext(this.getContext()),\n          n = s.enabled && e.options.animation && s.animations,\n          o = new Ni(this.chart, n);\n    return n._cacheable && (this._cachedAnimations = Object.freeze(o)), o;\n  }\n\n  getContext() {\n    return this.$context || (this.$context = wc(this.chart.getContext(), this, this._tooltipItems));\n  }\n\n  getTitle(t, e) {\n    const {\n      callbacks: s\n    } = e,\n          n = s.beforeTitle.apply(this, [t]),\n          o = s.title.apply(this, [t]),\n          r = s.afterTitle.apply(this, [t]);\n    let a = [];\n    return a = rt(a, ht(n)), a = rt(a, ht(o)), a = rt(a, ht(r)), a;\n  }\n\n  getBeforeBody(t, e) {\n    return Zs(e.callbacks.beforeBody.apply(this, [t]));\n  }\n\n  getBody(t, e) {\n    const {\n      callbacks: s\n    } = e,\n          n = [];\n    return E(t, o => {\n      const r = {\n        before: [],\n        lines: [],\n        after: []\n      },\n            a = Js(s, o);\n      rt(r.before, ht(a.beforeLabel.call(this, o))), rt(r.lines, a.label.call(this, o)), rt(r.after, ht(a.afterLabel.call(this, o))), n.push(r);\n    }), n;\n  }\n\n  getAfterBody(t, e) {\n    return Zs(e.callbacks.afterBody.apply(this, [t]));\n  }\n\n  getFooter(t, e) {\n    const {\n      callbacks: s\n    } = e,\n          n = s.beforeFooter.apply(this, [t]),\n          o = s.footer.apply(this, [t]),\n          r = s.afterFooter.apply(this, [t]);\n    let a = [];\n    return a = rt(a, ht(n)), a = rt(a, ht(o)), a = rt(a, ht(r)), a;\n  }\n\n  _createItems(t) {\n    const e = this._active,\n          s = this.chart.data,\n          n = [],\n          o = [],\n          r = [];\n    let a = [],\n        l,\n        c;\n\n    for (l = 0, c = e.length; l < c; ++l) a.push(xc(this.chart, e[l]));\n\n    return t.filter && (a = a.filter((h, d, u) => t.filter(h, d, u, s))), t.itemSort && (a = a.sort((h, d) => t.itemSort(h, d, s))), E(a, h => {\n      const d = Js(t.callbacks, h);\n      n.push(d.labelColor.call(this, h)), o.push(d.labelPointStyle.call(this, h)), r.push(d.labelTextColor.call(this, h));\n    }), this.labelColors = n, this.labelPointStyles = o, this.labelTextColors = r, this.dataPoints = a, a;\n  }\n\n  update(t, e) {\n    const s = this.options.setContext(this.getContext()),\n          n = this._active;\n    let o,\n        r = [];\n    if (!n.length) this.opacity !== 0 && (o = {\n      opacity: 0\n    });else {\n      const a = se[s.position].call(this, n, this._eventPosition);\n      r = this._createItems(s), this.title = this.getTitle(r, s), this.beforeBody = this.getBeforeBody(r, s), this.body = this.getBody(r, s), this.afterBody = this.getAfterBody(r, s), this.footer = this.getFooter(r, s);\n      const l = this._size = Ks(this, s),\n            c = Object.assign({}, a, l),\n            h = qs(this.chart, s, c),\n            d = Gs(s, c, h, this.chart);\n      this.xAlign = h.xAlign, this.yAlign = h.yAlign, o = {\n        opacity: 1,\n        x: d.x,\n        y: d.y,\n        width: l.width,\n        height: l.height,\n        caretX: a.x,\n        caretY: a.y\n      };\n    }\n    this._tooltipItems = r, this.$context = void 0, o && this._resolveAnimations().update(this, o), t && s.external && s.external.call(this, {\n      chart: this.chart,\n      tooltip: this,\n      replay: e\n    });\n  }\n\n  drawCaret(t, e, s, n) {\n    const o = this.getCaretPosition(t, s, n);\n    e.lineTo(o.x1, o.y1), e.lineTo(o.x2, o.y2), e.lineTo(o.x3, o.y3);\n  }\n\n  getCaretPosition(t, e, s) {\n    const {\n      xAlign: n,\n      yAlign: o\n    } = this,\n          {\n      caretSize: r,\n      cornerRadius: a\n    } = s,\n          {\n      topLeft: l,\n      topRight: c,\n      bottomLeft: h,\n      bottomRight: d\n    } = Dt(a),\n          {\n      x: u,\n      y: f\n    } = t,\n          {\n      width: g,\n      height: p\n    } = e;\n\n    let m, b, x, v, y, _;\n\n    return o === \"center\" ? (y = f + p / 2, n === \"left\" ? (m = u, b = m - r, v = y + r, _ = y - r) : (m = u + g, b = m + r, v = y - r, _ = y + r), x = m) : (n === \"left\" ? b = u + Math.max(l, h) + r : n === \"right\" ? b = u + g - Math.max(c, d) - r : b = this.caretX, o === \"top\" ? (v = f, y = v - r, m = b - r, x = b + r) : (v = f + p, y = v + r, m = b + r, x = b - r), _ = v), {\n      x1: m,\n      x2: b,\n      x3: x,\n      y1: v,\n      y2: y,\n      y3: _\n    };\n  }\n\n  drawTitle(t, e, s) {\n    const n = this.title,\n          o = n.length;\n    let r, a, l;\n\n    if (o) {\n      const c = zt(s.rtl, this.x, this.width);\n\n      for (t.x = Ee(this, s.titleAlign, s), e.textAlign = c.textAlign(s.titleAlign), e.textBaseline = \"middle\", r = $(s.titleFont), a = s.titleSpacing, e.fillStyle = s.titleColor, e.font = r.string, l = 0; l < o; ++l) e.fillText(n[l], c.x(t.x), t.y + r.lineHeight / 2), t.y += r.lineHeight + a, l + 1 === o && (t.y += s.titleMarginBottom - a);\n    }\n  }\n\n  _drawColorBox(t, e, s, n, o) {\n    const r = this.labelColors[s],\n          a = this.labelPointStyles[s],\n          {\n      boxHeight: l,\n      boxWidth: c,\n      boxPadding: h\n    } = o,\n          d = $(o.bodyFont),\n          u = Ee(this, \"left\", o),\n          f = n.x(u),\n          g = l < d.lineHeight ? (d.lineHeight - l) / 2 : 0,\n          p = e.y + g;\n\n    if (o.usePointStyle) {\n      const m = {\n        radius: Math.min(c, l) / 2,\n        pointStyle: a.pointStyle,\n        rotation: a.rotation,\n        borderWidth: 1\n      },\n            b = n.leftForLtr(f, c) + c / 2,\n            x = p + l / 2;\n      t.strokeStyle = o.multiKeyBackground, t.fillStyle = o.multiKeyBackground, yi(t, m, b, x), t.strokeStyle = r.borderColor, t.fillStyle = r.backgroundColor, yi(t, m, b, x);\n    } else {\n      t.lineWidth = D(r.borderWidth) ? Math.max(...Object.values(r.borderWidth)) : r.borderWidth || 1, t.strokeStyle = r.borderColor, t.setLineDash(r.borderDash || []), t.lineDashOffset = r.borderDashOffset || 0;\n      const m = n.leftForLtr(f, c - h),\n            b = n.leftForLtr(n.xPlus(f, 1), c - h - 2),\n            x = Dt(r.borderRadius);\n      Object.values(x).some(v => v !== 0) ? (t.beginPath(), t.fillStyle = o.multiKeyBackground, ae(t, {\n        x: m,\n        y: p,\n        w: c,\n        h: l,\n        radius: x\n      }), t.fill(), t.stroke(), t.fillStyle = r.backgroundColor, t.beginPath(), ae(t, {\n        x: b,\n        y: p + 1,\n        w: c - 2,\n        h: l - 2,\n        radius: x\n      }), t.fill()) : (t.fillStyle = o.multiKeyBackground, t.fillRect(m, p, c, l), t.strokeRect(m, p, c, l), t.fillStyle = r.backgroundColor, t.fillRect(b, p + 1, c - 2, l - 2));\n    }\n\n    t.fillStyle = this.labelTextColors[s];\n  }\n\n  drawBody(t, e, s) {\n    const {\n      body: n\n    } = this,\n          {\n      bodySpacing: o,\n      bodyAlign: r,\n      displayColors: a,\n      boxHeight: l,\n      boxWidth: c,\n      boxPadding: h\n    } = s,\n          d = $(s.bodyFont);\n    let u = d.lineHeight,\n        f = 0;\n\n    const g = zt(s.rtl, this.x, this.width),\n          p = function (S) {\n      e.fillText(S, g.x(t.x + f), t.y + u / 2), t.y += u + o;\n    },\n          m = g.textAlign(r);\n\n    let b, x, v, y, _, M, k;\n\n    for (e.textAlign = r, e.textBaseline = \"middle\", e.font = d.string, t.x = Ee(this, m, s), e.fillStyle = s.bodyColor, E(this.beforeBody, p), f = a && m !== \"right\" ? r === \"center\" ? c / 2 + h : c + 2 + h : 0, y = 0, M = n.length; y < M; ++y) {\n      for (b = n[y], x = this.labelTextColors[y], e.fillStyle = x, E(b.before, p), v = b.lines, a && v.length && (this._drawColorBox(e, t, y, g, s), u = Math.max(d.lineHeight, l)), _ = 0, k = v.length; _ < k; ++_) p(v[_]), u = d.lineHeight;\n\n      E(b.after, p);\n    }\n\n    f = 0, u = d.lineHeight, E(this.afterBody, p), t.y -= o;\n  }\n\n  drawFooter(t, e, s) {\n    const n = this.footer,\n          o = n.length;\n    let r, a;\n\n    if (o) {\n      const l = zt(s.rtl, this.x, this.width);\n\n      for (t.x = Ee(this, s.footerAlign, s), t.y += s.footerMarginTop, e.textAlign = l.textAlign(s.footerAlign), e.textBaseline = \"middle\", r = $(s.footerFont), e.fillStyle = s.footerColor, e.font = r.string, a = 0; a < o; ++a) e.fillText(n[a], l.x(t.x), t.y + r.lineHeight / 2), t.y += r.lineHeight + s.footerSpacing;\n    }\n  }\n\n  drawBackground(t, e, s, n) {\n    const {\n      xAlign: o,\n      yAlign: r\n    } = this,\n          {\n      x: a,\n      y: l\n    } = t,\n          {\n      width: c,\n      height: h\n    } = s,\n          {\n      topLeft: d,\n      topRight: u,\n      bottomLeft: f,\n      bottomRight: g\n    } = Dt(n.cornerRadius);\n    e.fillStyle = n.backgroundColor, e.strokeStyle = n.borderColor, e.lineWidth = n.borderWidth, e.beginPath(), e.moveTo(a + d, l), r === \"top\" && this.drawCaret(t, e, s, n), e.lineTo(a + c - u, l), e.quadraticCurveTo(a + c, l, a + c, l + u), r === \"center\" && o === \"right\" && this.drawCaret(t, e, s, n), e.lineTo(a + c, l + h - g), e.quadraticCurveTo(a + c, l + h, a + c - g, l + h), r === \"bottom\" && this.drawCaret(t, e, s, n), e.lineTo(a + f, l + h), e.quadraticCurveTo(a, l + h, a, l + h - f), r === \"center\" && o === \"left\" && this.drawCaret(t, e, s, n), e.lineTo(a, l + d), e.quadraticCurveTo(a, l, a + d, l), e.closePath(), e.fill(), n.borderWidth > 0 && e.stroke();\n  }\n\n  _updateAnimationTarget(t) {\n    const e = this.chart,\n          s = this.$animations,\n          n = s && s.x,\n          o = s && s.y;\n\n    if (n || o) {\n      const r = se[t.position].call(this, this._active, this._eventPosition);\n      if (!r) return;\n      const a = this._size = Ks(this, t),\n            l = Object.assign({}, r, this._size),\n            c = qs(e, t, l),\n            h = Gs(t, l, c, e);\n      (n._to !== h.x || o._to !== h.y) && (this.xAlign = c.xAlign, this.yAlign = c.yAlign, this.width = a.width, this.height = a.height, this.caretX = r.x, this.caretY = r.y, this._resolveAnimations().update(this, h));\n    }\n  }\n\n  _willRender() {\n    return !!this.opacity;\n  }\n\n  draw(t) {\n    const e = this.options.setContext(this.getContext());\n    let s = this.opacity;\n    if (!s) return;\n\n    this._updateAnimationTarget(e);\n\n    const n = {\n      width: this.width,\n      height: this.height\n    },\n          o = {\n      x: this.x,\n      y: this.y\n    };\n    s = Math.abs(s) < 1e-3 ? 0 : s;\n    const r = K(e.padding),\n          a = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n    e.enabled && a && (t.save(), t.globalAlpha = s, this.drawBackground(o, t, n, e), Tn(t, e.textDirection), o.y += r.top, this.drawTitle(o, t, e), this.drawBody(o, t, e), this.drawFooter(o, t, e), Ln(t, e.textDirection), t.restore());\n  }\n\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  setActiveElements(t, e) {\n    const s = this._active,\n          n = t.map(_ref7 => {\n      let {\n        datasetIndex: a,\n        index: l\n      } = _ref7;\n      const c = this.chart.getDatasetMeta(a);\n      if (!c) throw new Error(\"Cannot find a dataset at index \" + a);\n      return {\n        datasetIndex: a,\n        element: c.data[l],\n        index: l\n      };\n    }),\n          o = !ze(s, n),\n          r = this._positionChanged(n, e);\n\n    (o || r) && (this._active = n, this._eventPosition = e, this._ignoreReplayEvents = !0, this.update(!0));\n  }\n\n  handleEvent(t, e) {\n    let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n    if (e && this._ignoreReplayEvents) return !1;\n    this._ignoreReplayEvents = !1;\n\n    const n = this.options,\n          o = this._active || [],\n          r = this._getActiveElements(t, o, e, s),\n          a = this._positionChanged(r, t),\n          l = e || !ze(r, o) || a;\n\n    return l && (this._active = r, (n.enabled || n.external) && (this._eventPosition = {\n      x: t.x,\n      y: t.y\n    }, this.update(!0, e))), l;\n  }\n\n  _getActiveElements(t, e, s, n) {\n    const o = this.options;\n    if (t.type === \"mouseout\") return [];\n    if (!n) return e;\n    const r = this.chart.getElementsAtEventForMode(t, o.mode, o, s);\n    return o.reverse && r.reverse(), r;\n  }\n\n  _positionChanged(t, e) {\n    const {\n      caretX: s,\n      caretY: n,\n      options: o\n    } = this,\n          r = se[o.position].call(this, t, e);\n    return r !== !1 && (s !== r.x || n !== r.y);\n  }\n\n}\n\nCi.positioners = se;\nvar po = {\n  id: \"tooltip\",\n  _element: Ci,\n  positioners: se,\n\n  afterInit(i, t, e) {\n    e && (i.tooltip = new Ci({\n      chart: i,\n      options: e\n    }));\n  },\n\n  beforeUpdate(i, t, e) {\n    i.tooltip && i.tooltip.initialize(e);\n  },\n\n  reset(i, t, e) {\n    i.tooltip && i.tooltip.initialize(e);\n  },\n\n  afterDraw(i) {\n    const t = i.tooltip;\n\n    if (t && t._willRender()) {\n      const e = {\n        tooltip: t\n      };\n      if (i.notifyPlugins(\"beforeTooltipDraw\", e) === !1) return;\n      t.draw(i.ctx), i.notifyPlugins(\"afterTooltipDraw\", e);\n    }\n  },\n\n  afterEvent(i, t) {\n    if (i.tooltip) {\n      const e = t.replay;\n      i.tooltip.handleEvent(t.event, e, t.inChartArea) && (t.changed = !0);\n    }\n  },\n\n  defaults: {\n    enabled: !0,\n    external: null,\n    position: \"average\",\n    backgroundColor: \"rgba(0,0,0,0.8)\",\n    titleColor: \"#fff\",\n    titleFont: {\n      weight: \"bold\"\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: \"left\",\n    bodyColor: \"#fff\",\n    bodySpacing: 2,\n    bodyFont: {},\n    bodyAlign: \"left\",\n    footerColor: \"#fff\",\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: \"bold\"\n    },\n    footerAlign: \"left\",\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (i, t) => t.bodyFont.size,\n    boxWidth: (i, t) => t.bodyFont.size,\n    multiKeyBackground: \"#fff\",\n    displayColors: !0,\n    boxPadding: 0,\n    borderColor: \"rgba(0,0,0,0)\",\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: \"easeOutQuart\"\n    },\n    animations: {\n      numbers: {\n        type: \"number\",\n        properties: [\"x\", \"y\", \"width\", \"height\", \"caretX\", \"caretY\"]\n      },\n      opacity: {\n        easing: \"linear\",\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: ct,\n\n      title(i) {\n        if (i.length > 0) {\n          const t = i[0],\n                e = t.chart.data.labels,\n                s = e ? e.length : 0;\n          if (this && this.options && this.options.mode === \"dataset\") return t.dataset.label || \"\";\n          if (t.label) return t.label;\n          if (s > 0 && t.dataIndex < s) return e[t.dataIndex];\n        }\n\n        return \"\";\n      },\n\n      afterTitle: ct,\n      beforeBody: ct,\n      beforeLabel: ct,\n\n      label(i) {\n        if (this && this.options && this.options.mode === \"dataset\") return i.label + \": \" + i.formattedValue || i.formattedValue;\n        let t = i.dataset.label || \"\";\n        t && (t += \": \");\n        const e = i.formattedValue;\n        return T(e) || (t += e), t;\n      },\n\n      labelColor(i) {\n        const e = i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);\n        return {\n          borderColor: e.borderColor,\n          backgroundColor: e.backgroundColor,\n          borderWidth: e.borderWidth,\n          borderDash: e.borderDash,\n          borderDashOffset: e.borderDashOffset,\n          borderRadius: 0\n        };\n      },\n\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n\n      labelPointStyle(i) {\n        const e = i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);\n        return {\n          pointStyle: e.pointStyle,\n          rotation: e.rotation\n        };\n      },\n\n      afterLabel: ct,\n      afterBody: ct,\n      beforeFooter: ct,\n      footer: ct,\n      afterFooter: ct\n    }\n  },\n  defaultRoutes: {\n    bodyFont: \"font\",\n    footerFont: \"font\",\n    titleFont: \"font\"\n  },\n  descriptors: {\n    _scriptable: i => i !== \"filter\" && i !== \"itemSort\" && i !== \"external\",\n    _indexable: !1,\n    callbacks: {\n      _scriptable: !1,\n      _indexable: !1\n    },\n    animation: {\n      _fallback: !1\n    },\n    animations: {\n      _fallback: \"animation\"\n    }\n  },\n  additionalOptionScopes: [\"interaction\"]\n},\n    mo = /* @__PURE__ */Object.freeze({\n  __proto__: null,\n  Decimation: ao,\n  Filler: ho,\n  Legend: uo,\n  SubTitle: go,\n  Title: fo,\n  Tooltip: po\n});\n\nconst Sc = (i, t, e, s) => (typeof t == \"string\" ? (e = i.push(t) - 1, s.unshift({\n  index: e,\n  label: t\n})) : isNaN(t) && (e = null), e);\n\nfunction Pc(i, t, e, s) {\n  const n = i.indexOf(t);\n  if (n === -1) return Sc(i, t, e, s);\n  const o = i.lastIndexOf(t);\n  return n !== o ? e : n;\n}\n\nconst Cc = (i, t) => i === null ? null : Y(Math.round(i), 0, t);\n\nclass ce extends Mt {\n  constructor(t) {\n    super(t), this._startValue = void 0, this._valueRange = 0, this._addedLabels = [];\n  }\n\n  init(t) {\n    const e = this._addedLabels;\n\n    if (e.length) {\n      const s = this.getLabels();\n\n      for (const {\n        index: n,\n        label: o\n      } of e) s[n] === o && s.splice(n, 1);\n\n      this._addedLabels = [];\n    }\n\n    super.init(t);\n  }\n\n  parse(t, e) {\n    if (T(t)) return null;\n    const s = this.getLabels();\n    return e = isFinite(e) && s[e] === t ? e : Pc(s, t, C(e, t), this._addedLabels), Cc(e, s.length - 1);\n  }\n\n  determineDataLimits() {\n    const {\n      minDefined: t,\n      maxDefined: e\n    } = this.getUserBounds();\n    let {\n      min: s,\n      max: n\n    } = this.getMinMax(!0);\n    this.options.bounds === \"ticks\" && (t || (s = 0), e || (n = this.getLabels().length - 1)), this.min = s, this.max = n;\n  }\n\n  buildTicks() {\n    const t = this.min,\n          e = this.max,\n          s = this.options.offset,\n          n = [];\n    let o = this.getLabels();\n    o = t === 0 && e === o.length - 1 ? o : o.slice(t, e + 1), this._valueRange = Math.max(o.length - (s ? 0 : 1), 1), this._startValue = this.min - (s ? 0.5 : 0);\n\n    for (let r = t; r <= e; r++) n.push({\n      value: r\n    });\n\n    return n;\n  }\n\n  getLabelForValue(t) {\n    const e = this.getLabels();\n    return t >= 0 && t < e.length ? e[t] : t;\n  }\n\n  configure() {\n    super.configure(), this.isHorizontal() || (this._reversePixels = !this._reversePixels);\n  }\n\n  getPixelForValue(t) {\n    return typeof t != \"number\" && (t = this.parse(t)), t === null ? NaN : this.getPixelForDecimal((t - this._startValue) / this._valueRange);\n  }\n\n  getPixelForTick(t) {\n    const e = this.ticks;\n    return t < 0 || t > e.length - 1 ? null : this.getPixelForValue(e[t].value);\n  }\n\n  getValueForPixel(t) {\n    return Math.round(this._startValue + this.getDecimalForPixel(t) * this._valueRange);\n  }\n\n  getBasePixel() {\n    return this.bottom;\n  }\n\n}\n\nce.id = \"category\";\nce.defaults = {\n  ticks: {\n    callback: ce.prototype.getLabelForValue\n  }\n};\n\nfunction Dc(i, t) {\n  const e = [],\n        {\n    bounds: n,\n    step: o,\n    min: r,\n    max: a,\n    precision: l,\n    count: c,\n    maxTicks: h,\n    maxDigits: d,\n    includeBounds: u\n  } = i,\n        f = o || 1,\n        g = h - 1,\n        {\n    min: p,\n    max: m\n  } = t,\n        b = !T(r),\n        x = !T(a),\n        v = !T(c),\n        y = (m - p) / (d + 1);\n\n  let _ = qi((m - p) / g / f) * f,\n      M,\n      k,\n      S,\n      w;\n\n  if (_ < 1e-14 && !b && !x) return [{\n    value: p\n  }, {\n    value: m\n  }];\n  w = Math.ceil(m / _) - Math.floor(p / _), w > g && (_ = qi(w * _ / g / f) * f), T(l) || (M = Math.pow(10, l), _ = Math.ceil(_ * M) / M), n === \"ticks\" ? (k = Math.floor(p / _) * _, S = Math.ceil(m / _) * _) : (k = p, S = m), b && x && o && Oo((a - r) / o, _ / 1e3) ? (w = Math.round(Math.min((a - r) / _, h)), _ = (a - r) / w, k = r, S = a) : v ? (k = b ? r : k, S = x ? a : S, w = c - 1, _ = (S - k) / w) : (w = (S - k) / _, te(w, Math.round(w), _ / 1e3) ? w = Math.round(w) : w = Math.ceil(w));\n  const L = Math.max(Gi(_), Gi(k));\n  M = Math.pow(10, T(l) ? L : l), k = Math.round(k * M) / M, S = Math.round(S * M) / M;\n  let R = 0;\n\n  for (b && (u && k !== r ? (e.push({\n    value: r\n  }), k < r && R++, te(Math.round((k + R * _) * M) / M, r, Qs(r, y, i)) && R++) : k < r && R++); R < w; ++R) e.push({\n    value: Math.round((k + R * _) * M) / M\n  });\n\n  return x && u && S !== a ? e.length && te(e[e.length - 1].value, a, Qs(a, y, i)) ? e[e.length - 1].value = a : e.push({\n    value: a\n  }) : (!x || S === a) && e.push({\n    value: S\n  }), e;\n}\n\nfunction Qs(i, t, _ref8) {\n  let {\n    horizontal: e,\n    minRotation: s\n  } = _ref8;\n  const n = nt(s),\n        o = (e ? Math.sin(n) : Math.cos(n)) || 1e-3,\n        r = 0.75 * t * (\"\" + i).length;\n  return Math.min(t / o, r);\n}\n\nclass Ye extends Mt {\n  constructor(t) {\n    super(t), this.start = void 0, this.end = void 0, this._startValue = void 0, this._endValue = void 0, this._valueRange = 0;\n  }\n\n  parse(t, e) {\n    return T(t) || (typeof t == \"number\" || t instanceof Number) && !isFinite(+t) ? null : +t;\n  }\n\n  handleTickRangeOptions() {\n    const {\n      beginAtZero: t\n    } = this.options,\n          {\n      minDefined: e,\n      maxDefined: s\n    } = this.getUserBounds();\n    let {\n      min: n,\n      max: o\n    } = this;\n\n    const r = l => n = e ? n : l,\n          a = l => o = s ? o : l;\n\n    if (t) {\n      const l = lt(n),\n            c = lt(o);\n      l < 0 && c < 0 ? a(0) : l > 0 && c > 0 && r(0);\n    }\n\n    if (n === o) {\n      let l = 1;\n      (o >= Number.MAX_SAFE_INTEGER || n <= Number.MIN_SAFE_INTEGER) && (l = Math.abs(o * 0.05)), a(o + l), t || r(n - l);\n    }\n\n    this.min = n, this.max = o;\n  }\n\n  getTickLimit() {\n    const t = this.options.ticks;\n    let {\n      maxTicksLimit: e,\n      stepSize: s\n    } = t,\n        n;\n    return s ? (n = Math.ceil(this.max / s) - Math.floor(this.min / s) + 1, n > 1e3 && (console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${n} ticks. Limiting to 1000.`), n = 1e3)) : (n = this.computeTickLimit(), e = e || 11), e && (n = Math.min(e, n)), n;\n  }\n\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n\n  buildTicks() {\n    const t = this.options,\n          e = t.ticks;\n    let s = this.getTickLimit();\n    s = Math.max(2, s);\n    const n = {\n      maxTicks: s,\n      bounds: t.bounds,\n      min: t.min,\n      max: t.max,\n      precision: e.precision,\n      step: e.stepSize,\n      count: e.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: e.minRotation || 0,\n      includeBounds: e.includeBounds !== !1\n    },\n          o = this._range || this,\n          r = Dc(n, o);\n    return t.bounds === \"ticks\" && cn(r, this, \"value\"), t.reverse ? (r.reverse(), this.start = this.max, this.end = this.min) : (this.start = this.min, this.end = this.max), r;\n  }\n\n  configure() {\n    const t = this.ticks;\n    let e = this.min,\n        s = this.max;\n\n    if (super.configure(), this.options.offset && t.length) {\n      const n = (s - e) / Math.max(t.length - 1, 1) / 2;\n      e -= n, s += n;\n    }\n\n    this._startValue = e, this._endValue = s, this._valueRange = s - e;\n  }\n\n  getLabelForValue(t) {\n    return de(t, this.chart.options.locale, this.options.ticks.format);\n  }\n\n}\n\nclass Ge extends Ye {\n  determineDataLimits() {\n    const {\n      min: t,\n      max: e\n    } = this.getMinMax(!0);\n    this.min = N(t) ? t : 0, this.max = N(e) ? e : 1, this.handleTickRangeOptions();\n  }\n\n  computeTickLimit() {\n    const t = this.isHorizontal(),\n          e = t ? this.width : this.height,\n          s = nt(this.options.ticks.minRotation),\n          n = (t ? Math.sin(s) : Math.cos(s)) || 1e-3,\n          o = this._resolveTickFontOptions(0);\n\n    return Math.ceil(e / Math.min(40, o.lineHeight / n));\n  }\n\n  getPixelForValue(t) {\n    return t === null ? NaN : this.getPixelForDecimal((t - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(t) {\n    return this._startValue + this.getDecimalForPixel(t) * this._valueRange;\n  }\n\n}\n\nGe.id = \"linear\";\nGe.defaults = {\n  ticks: {\n    callback: be.formatters.numeric\n  }\n};\n\nfunction tn(i) {\n  return i / Math.pow(10, Math.floor(tt(i))) === 1;\n}\n\nfunction Oc(i, t) {\n  const e = Math.floor(tt(t.max)),\n        s = Math.ceil(t.max / Math.pow(10, e)),\n        n = [];\n  let o = Q(i.min, Math.pow(10, Math.floor(tt(t.min)))),\n      r = Math.floor(tt(o)),\n      a = Math.floor(o / Math.pow(10, r)),\n      l = r < 0 ? Math.pow(10, Math.abs(r)) : 1;\n\n  do n.push({\n    value: o,\n    major: tn(o)\n  }), ++a, a === 10 && (a = 1, ++r, l = r >= 0 ? 1 : l), o = Math.round(a * Math.pow(10, r) * l) / l; while (r < e || r === e && a < s);\n\n  const c = Q(i.max, o);\n  return n.push({\n    value: c,\n    major: tn(o)\n  }), n;\n}\n\nclass Ze extends Mt {\n  constructor(t) {\n    super(t), this.start = void 0, this.end = void 0, this._startValue = void 0, this._valueRange = 0;\n  }\n\n  parse(t, e) {\n    const s = Ye.prototype.parse.apply(this, [t, e]);\n\n    if (s === 0) {\n      this._zero = !0;\n      return;\n    }\n\n    return N(s) && s > 0 ? s : null;\n  }\n\n  determineDataLimits() {\n    const {\n      min: t,\n      max: e\n    } = this.getMinMax(!0);\n    this.min = N(t) ? Math.max(0, t) : null, this.max = N(e) ? Math.max(0, e) : null, this.options.beginAtZero && (this._zero = !0), this.handleTickRangeOptions();\n  }\n\n  handleTickRangeOptions() {\n    const {\n      minDefined: t,\n      maxDefined: e\n    } = this.getUserBounds();\n    let s = this.min,\n        n = this.max;\n\n    const o = l => s = t ? s : l,\n          r = l => n = e ? n : l,\n          a = (l, c) => Math.pow(10, Math.floor(tt(l)) + c);\n\n    s === n && (s <= 0 ? (o(1), r(10)) : (o(a(s, -1)), r(a(n, 1)))), s <= 0 && o(a(n, -1)), n <= 0 && r(a(s, 1)), this._zero && this.min !== this._suggestedMin && s === a(this.min, 0) && o(a(s, -1)), this.min = s, this.max = n;\n  }\n\n  buildTicks() {\n    const t = this.options,\n          e = {\n      min: this._userMin,\n      max: this._userMax\n    },\n          s = Oc(e, this);\n    return t.bounds === \"ticks\" && cn(s, this, \"value\"), t.reverse ? (s.reverse(), this.start = this.max, this.end = this.min) : (this.start = this.min, this.end = this.max), s;\n  }\n\n  getLabelForValue(t) {\n    return t === void 0 ? \"0\" : de(t, this.chart.options.locale, this.options.ticks.format);\n  }\n\n  configure() {\n    const t = this.min;\n    super.configure(), this._startValue = tt(t), this._valueRange = tt(this.max) - tt(t);\n  }\n\n  getPixelForValue(t) {\n    return (t === void 0 || t === 0) && (t = this.min), t === null || isNaN(t) ? NaN : this.getPixelForDecimal(t === this.min ? 0 : (tt(t) - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(t) {\n    const e = this.getDecimalForPixel(t);\n    return Math.pow(10, this._startValue + e * this._valueRange);\n  }\n\n}\n\nZe.id = \"logarithmic\";\nZe.defaults = {\n  ticks: {\n    callback: be.formatters.logarithmic,\n    major: {\n      enabled: !0\n    }\n  }\n};\n\nfunction Di(i) {\n  const t = i.ticks;\n\n  if (t.display && i.display) {\n    const e = K(t.backdropPadding);\n    return C(t.font && t.font.size, O.font.size) + e.height;\n  }\n\n  return 0;\n}\n\nfunction Ac(i, t, e) {\n  return e = z(e) ? e : [e], {\n    w: ar(i, t.string, e),\n    h: e.length * t.lineHeight\n  };\n}\n\nfunction en(i, t, e, s, n) {\n  return i === s || i === n ? {\n    start: t - e / 2,\n    end: t + e / 2\n  } : i < s || i > n ? {\n    start: t - e,\n    end: t\n  } : {\n    start: t,\n    end: t + e\n  };\n}\n\nfunction Tc(i) {\n  const t = {\n    l: i.left + i._padding.left,\n    r: i.right - i._padding.right,\n    t: i.top + i._padding.top,\n    b: i.bottom - i._padding.bottom\n  },\n        e = Object.assign({}, t),\n        s = [],\n        n = [],\n        o = i._pointLabels.length,\n        r = i.options.pointLabels,\n        a = r.centerPointLabels ? B / o : 0;\n\n  for (let l = 0; l < o; l++) {\n    const c = r.setContext(i.getPointLabelContext(l));\n    n[l] = c.padding;\n    const h = i.getPointPosition(l, i.drawingArea + n[l], a),\n          d = $(c.font),\n          u = Ac(i.ctx, d, i._pointLabels[l]);\n    s[l] = u;\n    const f = Z(i.getIndexAngle(l) + a),\n          g = Math.round(Ai(f)),\n          p = en(g, h.x, u.w, 0, 180),\n          m = en(g, h.y, u.h, 90, 270);\n    Lc(e, t, f, p, m);\n  }\n\n  i.setCenterPoint(t.l - e.l, e.r - t.r, t.t - e.t, e.b - t.b), i._pointLabelItems = Rc(i, s, n);\n}\n\nfunction Lc(i, t, e, s, n) {\n  const o = Math.abs(Math.sin(e)),\n        r = Math.abs(Math.cos(e));\n  let a = 0,\n      l = 0;\n  s.start < t.l ? (a = (t.l - s.start) / o, i.l = Math.min(i.l, t.l - a)) : s.end > t.r && (a = (s.end - t.r) / o, i.r = Math.max(i.r, t.r + a)), n.start < t.t ? (l = (t.t - n.start) / r, i.t = Math.min(i.t, t.t - l)) : n.end > t.b && (l = (n.end - t.b) / r, i.b = Math.max(i.b, t.b + l));\n}\n\nfunction Rc(i, t, e) {\n  const s = [],\n        n = i._pointLabels.length,\n        o = i.options,\n        r = Di(o) / 2,\n        a = i.drawingArea,\n        l = o.pointLabels.centerPointLabels ? B / n : 0;\n\n  for (let c = 0; c < n; c++) {\n    const h = i.getPointPosition(c, a + r + e[c], l),\n          d = Math.round(Ai(Z(h.angle + V))),\n          u = t[c],\n          f = Ic(h.y, u.h, d),\n          g = Ec(d),\n          p = Fc(h.x, u.w, g);\n    s.push({\n      x: h.x,\n      y: f,\n      textAlign: g,\n      left: p,\n      top: f,\n      right: p + u.w,\n      bottom: f + u.h\n    });\n  }\n\n  return s;\n}\n\nfunction Ec(i) {\n  return i === 0 || i === 180 ? \"center\" : i < 180 ? \"left\" : \"right\";\n}\n\nfunction Fc(i, t, e) {\n  return e === \"right\" ? i -= t : e === \"center\" && (i -= t / 2), i;\n}\n\nfunction Ic(i, t, e) {\n  return e === 90 || e === 270 ? i -= t / 2 : (e > 270 || e < 90) && (i -= t), i;\n}\n\nfunction zc(i, t) {\n  const {\n    ctx: e,\n    options: {\n      pointLabels: s\n    }\n  } = i;\n\n  for (let n = t - 1; n >= 0; n--) {\n    const o = s.setContext(i.getPointLabelContext(n)),\n          r = $(o.font),\n          {\n      x: a,\n      y: l,\n      textAlign: c,\n      left: h,\n      top: d,\n      right: u,\n      bottom: f\n    } = i._pointLabelItems[n],\n          {\n      backdropColor: g\n    } = o;\n\n    if (!T(g)) {\n      const p = Dt(o.borderRadius),\n            m = K(o.backdropPadding);\n      e.fillStyle = g;\n      const b = h - m.left,\n            x = d - m.top,\n            v = u - h + m.width,\n            y = f - d + m.height;\n      Object.values(p).some(_ => _ !== 0) ? (e.beginPath(), ae(e, {\n        x: b,\n        y: x,\n        w: v,\n        h: y,\n        radius: p\n      }), e.fill()) : e.fillRect(b, x, v, y);\n    }\n\n    Tt(e, i._pointLabels[n], a, l + r.lineHeight / 2, r, {\n      color: o.color,\n      textAlign: c,\n      textBaseline: \"middle\"\n    });\n  }\n}\n\nfunction bo(i, t, e, s) {\n  const {\n    ctx: n\n  } = i;\n  if (e) n.arc(i.xCenter, i.yCenter, t, 0, F);else {\n    let o = i.getPointPosition(0, t);\n    n.moveTo(o.x, o.y);\n\n    for (let r = 1; r < s; r++) o = i.getPointPosition(r, t), n.lineTo(o.x, o.y);\n  }\n}\n\nfunction Bc(i, t, e, s) {\n  const n = i.ctx,\n        o = t.circular,\n        {\n    color: r,\n    lineWidth: a\n  } = t;\n  !o && !s || !r || !a || e < 0 || (n.save(), n.strokeStyle = r, n.lineWidth = a, n.setLineDash(t.borderDash), n.lineDashOffset = t.borderDashOffset, n.beginPath(), bo(i, e, o, s), n.closePath(), n.stroke(), n.restore());\n}\n\nfunction Vc(i, t, e) {\n  return vt(i, {\n    label: e,\n    index: t,\n    type: \"pointLabel\"\n  });\n}\n\nclass Nt extends Ye {\n  constructor(t) {\n    super(t), this.xCenter = void 0, this.yCenter = void 0, this.drawingArea = void 0, this._pointLabels = [], this._pointLabelItems = [];\n  }\n\n  setDimensions() {\n    const t = this._padding = K(Di(this.options) / 2),\n          e = this.width = this.maxWidth - t.width,\n          s = this.height = this.maxHeight - t.height;\n    this.xCenter = Math.floor(this.left + e / 2 + t.left), this.yCenter = Math.floor(this.top + s / 2 + t.top), this.drawingArea = Math.floor(Math.min(e, s) / 2);\n  }\n\n  determineDataLimits() {\n    const {\n      min: t,\n      max: e\n    } = this.getMinMax(!1);\n    this.min = N(t) && !isNaN(t) ? t : 0, this.max = N(e) && !isNaN(e) ? e : 0, this.handleTickRangeOptions();\n  }\n\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / Di(this.options));\n  }\n\n  generateTickLabels(t) {\n    Ye.prototype.generateTickLabels.call(this, t), this._pointLabels = this.getLabels().map((e, s) => {\n      const n = I(this.options.pointLabels.callback, [e, s], this);\n      return n || n === 0 ? n : \"\";\n    }).filter((e, s) => this.chart.getDataVisibility(s));\n  }\n\n  fit() {\n    const t = this.options;\n    t.display && t.pointLabels.display ? Tc(this) : this.setCenterPoint(0, 0, 0, 0);\n  }\n\n  setCenterPoint(t, e, s, n) {\n    this.xCenter += Math.floor((t - e) / 2), this.yCenter += Math.floor((s - n) / 2), this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(t, e, s, n));\n  }\n\n  getIndexAngle(t) {\n    const e = F / (this._pointLabels.length || 1),\n          s = this.options.startAngle || 0;\n    return Z(t * e + nt(s));\n  }\n\n  getDistanceFromCenterForValue(t) {\n    if (T(t)) return NaN;\n    const e = this.drawingArea / (this.max - this.min);\n    return this.options.reverse ? (this.max - t) * e : (t - this.min) * e;\n  }\n\n  getValueForDistanceFromCenter(t) {\n    if (T(t)) return NaN;\n    const e = t / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - e : this.min + e;\n  }\n\n  getPointLabelContext(t) {\n    const e = this._pointLabels || [];\n\n    if (t >= 0 && t < e.length) {\n      const s = e[t];\n      return Vc(this.getContext(), t, s);\n    }\n  }\n\n  getPointPosition(t, e) {\n    let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    const n = this.getIndexAngle(t) - V + s;\n    return {\n      x: Math.cos(n) * e + this.xCenter,\n      y: Math.sin(n) * e + this.yCenter,\n      angle: n\n    };\n  }\n\n  getPointPositionForValue(t, e) {\n    return this.getPointPosition(t, this.getDistanceFromCenterForValue(e));\n  }\n\n  getBasePosition(t) {\n    return this.getPointPositionForValue(t || 0, this.getBaseValue());\n  }\n\n  getPointLabelPosition(t) {\n    const {\n      left: e,\n      top: s,\n      right: n,\n      bottom: o\n    } = this._pointLabelItems[t];\n    return {\n      left: e,\n      top: s,\n      right: n,\n      bottom: o\n    };\n  }\n\n  drawBackground() {\n    const {\n      backgroundColor: t,\n      grid: {\n        circular: e\n      }\n    } = this.options;\n\n    if (t) {\n      const s = this.ctx;\n      s.save(), s.beginPath(), bo(this, this.getDistanceFromCenterForValue(this._endValue), e, this._pointLabels.length), s.closePath(), s.fillStyle = t, s.fill(), s.restore();\n    }\n  }\n\n  drawGrid() {\n    const t = this.ctx,\n          e = this.options,\n          {\n      angleLines: s,\n      grid: n\n    } = e,\n          o = this._pointLabels.length;\n    let r, a, l;\n\n    if (e.pointLabels.display && zc(this, o), n.display && this.ticks.forEach((c, h) => {\n      if (h !== 0) {\n        a = this.getDistanceFromCenterForValue(c.value);\n        const d = n.setContext(this.getContext(h - 1));\n        Bc(this, d, a, o);\n      }\n    }), s.display) {\n      for (t.save(), r = o - 1; r >= 0; r--) {\n        const c = s.setContext(this.getPointLabelContext(r)),\n              {\n          color: h,\n          lineWidth: d\n        } = c;\n        !d || !h || (t.lineWidth = d, t.strokeStyle = h, t.setLineDash(c.borderDash), t.lineDashOffset = c.borderDashOffset, a = this.getDistanceFromCenterForValue(e.ticks.reverse ? this.min : this.max), l = this.getPointPosition(r, a), t.beginPath(), t.moveTo(this.xCenter, this.yCenter), t.lineTo(l.x, l.y), t.stroke());\n      }\n\n      t.restore();\n    }\n  }\n\n  drawBorder() {}\n\n  drawLabels() {\n    const t = this.ctx,\n          e = this.options,\n          s = e.ticks;\n    if (!s.display) return;\n    const n = this.getIndexAngle(0);\n    let o, r;\n    t.save(), t.translate(this.xCenter, this.yCenter), t.rotate(n), t.textAlign = \"center\", t.textBaseline = \"middle\", this.ticks.forEach((a, l) => {\n      if (l === 0 && !e.reverse) return;\n      const c = s.setContext(this.getContext(l)),\n            h = $(c.font);\n\n      if (o = this.getDistanceFromCenterForValue(this.ticks[l].value), c.showLabelBackdrop) {\n        t.font = h.string, r = t.measureText(a.label).width, t.fillStyle = c.backdropColor;\n        const d = K(c.backdropPadding);\n        t.fillRect(-r / 2 - d.left, -o - h.size / 2 - d.top, r + d.width, h.size + d.height);\n      }\n\n      Tt(t, a.label, 0, -o, h, {\n        color: c.color\n      });\n    }), t.restore();\n  }\n\n  drawTitle() {}\n\n}\n\nNt.id = \"radialLinear\";\nNt.defaults = {\n  display: !0,\n  animate: !0,\n  position: \"chartArea\",\n  angleLines: {\n    display: !0,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0\n  },\n  grid: {\n    circular: !1\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: !0,\n    callback: be.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: void 0,\n    backdropPadding: 2,\n    display: !0,\n    font: {\n      size: 10\n    },\n\n    callback(i) {\n      return i;\n    },\n\n    padding: 5,\n    centerPointLabels: !1\n  }\n};\nNt.defaultRoutes = {\n  \"angleLines.color\": \"borderColor\",\n  \"pointLabels.color\": \"color\",\n  \"ticks.color\": \"color\"\n};\nNt.descriptors = {\n  angleLines: {\n    _fallback: \"grid\"\n  }\n};\nconst Je = {\n  millisecond: {\n    common: !0,\n    size: 1,\n    steps: 1e3\n  },\n  second: {\n    common: !0,\n    size: 1e3,\n    steps: 60\n  },\n  minute: {\n    common: !0,\n    size: 6e4,\n    steps: 60\n  },\n  hour: {\n    common: !0,\n    size: 36e5,\n    steps: 24\n  },\n  day: {\n    common: !0,\n    size: 864e5,\n    steps: 30\n  },\n  week: {\n    common: !1,\n    size: 6048e5,\n    steps: 4\n  },\n  month: {\n    common: !0,\n    size: 2628e6,\n    steps: 12\n  },\n  quarter: {\n    common: !1,\n    size: 7884e6,\n    steps: 4\n  },\n  year: {\n    common: !0,\n    size: 3154e7\n  }\n},\n      G = Object.keys(Je);\n\nfunction Wc(i, t) {\n  return i - t;\n}\n\nfunction sn(i, t) {\n  if (T(t)) return null;\n  const e = i._adapter,\n        {\n    parser: s,\n    round: n,\n    isoWeekday: o\n  } = i._parseOpts;\n  let r = t;\n  return typeof s == \"function\" && (r = s(r)), N(r) || (r = typeof s == \"string\" ? e.parse(r, s) : e.parse(r)), r === null ? null : (n && (r = n === \"week\" && (Bt(o) || o === !0) ? e.startOf(r, \"isoWeek\", o) : e.startOf(r, n)), +r);\n}\n\nfunction nn(i, t, e, s) {\n  const n = G.length;\n\n  for (let o = G.indexOf(i); o < n - 1; ++o) {\n    const r = Je[G[o]],\n          a = r.steps ? r.steps : Number.MAX_SAFE_INTEGER;\n    if (r.common && Math.ceil((e - t) / (a * r.size)) <= s) return G[o];\n  }\n\n  return G[n - 1];\n}\n\nfunction Nc(i, t, e, s, n) {\n  for (let o = G.length - 1; o >= G.indexOf(e); o--) {\n    const r = G[o];\n    if (Je[r].common && i._adapter.diff(n, s, r) >= t - 1) return r;\n  }\n\n  return G[e ? G.indexOf(e) : 0];\n}\n\nfunction Hc(i) {\n  for (let t = G.indexOf(i) + 1, e = G.length; t < e; ++t) if (Je[G[t]].common) return G[t];\n}\n\nfunction on(i, t, e) {\n  if (!e) i[t] = !0;else if (e.length) {\n    const {\n      lo: s,\n      hi: n\n    } = Ti(e, t),\n          o = e[s] >= t ? e[s] : e[n];\n    i[o] = !0;\n  }\n}\n\nfunction jc(i, t, e, s) {\n  const n = i._adapter,\n        o = +n.startOf(t[0].value, s),\n        r = t[t.length - 1].value;\n  let a, l;\n\n  for (a = o; a <= r; a = +n.add(a, 1, s)) l = e[a], l >= 0 && (t[l].major = !0);\n\n  return t;\n}\n\nfunction rn(i, t, e) {\n  const s = [],\n        n = {},\n        o = t.length;\n  let r, a;\n\n  for (r = 0; r < o; ++r) a = t[r], n[a] = r, s.push({\n    value: a,\n    major: !1\n  });\n\n  return o === 0 || !e ? s : jc(i, s, n, e);\n}\n\nclass Ht extends Mt {\n  constructor(t) {\n    super(t), this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    }, this._unit = \"day\", this._majorUnit = void 0, this._offsets = {}, this._normalized = !1, this._parseOpts = void 0;\n  }\n\n  init(t, e) {\n    const s = t.time || (t.time = {}),\n          n = this._adapter = new Nn._date(t.adapters.date);\n    n.init(e), Qt(s.displayFormats, n.formats()), this._parseOpts = {\n      parser: s.parser,\n      round: s.round,\n      isoWeekday: s.isoWeekday\n    }, super.init(t), this._normalized = e.normalized;\n  }\n\n  parse(t, e) {\n    return t === void 0 ? null : sn(this, t);\n  }\n\n  beforeLayout() {\n    super.beforeLayout(), this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n\n  determineDataLimits() {\n    const t = this.options,\n          e = this._adapter,\n          s = t.time.unit || \"day\";\n    let {\n      min: n,\n      max: o,\n      minDefined: r,\n      maxDefined: a\n    } = this.getUserBounds();\n\n    function l(c) {\n      !r && !isNaN(c.min) && (n = Math.min(n, c.min)), !a && !isNaN(c.max) && (o = Math.max(o, c.max));\n    }\n\n    (!r || !a) && (l(this._getLabelBounds()), (t.bounds !== \"ticks\" || t.ticks.source !== \"labels\") && l(this.getMinMax(!1))), n = N(n) && !isNaN(n) ? n : +e.startOf(Date.now(), s), o = N(o) && !isNaN(o) ? o : +e.endOf(Date.now(), s) + 1, this.min = Math.min(n, o - 1), this.max = Math.max(n + 1, o);\n  }\n\n  _getLabelBounds() {\n    const t = this.getLabelTimestamps();\n    let e = Number.POSITIVE_INFINITY,\n        s = Number.NEGATIVE_INFINITY;\n    return t.length && (e = t[0], s = t[t.length - 1]), {\n      min: e,\n      max: s\n    };\n  }\n\n  buildTicks() {\n    const t = this.options,\n          e = t.time,\n          s = t.ticks,\n          n = s.source === \"labels\" ? this.getLabelTimestamps() : this._generate();\n    t.bounds === \"ticks\" && n.length && (this.min = this._userMin || n[0], this.max = this._userMax || n[n.length - 1]);\n    const o = this.min,\n          r = this.max,\n          a = Ro(n, o, r);\n    return this._unit = e.unit || (s.autoSkip ? nn(e.minUnit, this.min, this.max, this._getLabelCapacity(o)) : Nc(this, a.length, e.minUnit, this.min, this.max)), this._majorUnit = !s.major.enabled || this._unit === \"year\" ? void 0 : Hc(this._unit), this.initOffsets(n), t.reverse && a.reverse(), rn(this, a, this._majorUnit);\n  }\n\n  afterAutoSkip() {\n    this.options.offsetAfterAutoskip && this.initOffsets(this.ticks.map(t => +t.value));\n  }\n\n  initOffsets(t) {\n    let e = 0,\n        s = 0,\n        n,\n        o;\n    this.options.offset && t.length && (n = this.getDecimalForValue(t[0]), t.length === 1 ? e = 1 - n : e = (this.getDecimalForValue(t[1]) - n) / 2, o = this.getDecimalForValue(t[t.length - 1]), t.length === 1 ? s = o : s = (o - this.getDecimalForValue(t[t.length - 2])) / 2);\n    const r = t.length < 3 ? 0.5 : 0.25;\n    e = Y(e, 0, r), s = Y(s, 0, r), this._offsets = {\n      start: e,\n      end: s,\n      factor: 1 / (e + 1 + s)\n    };\n  }\n\n  _generate() {\n    const t = this._adapter,\n          e = this.min,\n          s = this.max,\n          n = this.options,\n          o = n.time,\n          r = o.unit || nn(o.minUnit, e, s, this._getLabelCapacity(e)),\n          a = C(o.stepSize, 1),\n          l = r === \"week\" ? o.isoWeekday : !1,\n          c = Bt(l) || l === !0,\n          h = {};\n    let d = e,\n        u,\n        f;\n    if (c && (d = +t.startOf(d, \"isoWeek\", l)), d = +t.startOf(d, c ? \"day\" : r), t.diff(s, e, r) > 1e5 * a) throw new Error(e + \" and \" + s + \" are too far apart with stepSize of \" + a + \" \" + r);\n    const g = n.ticks.source === \"data\" && this.getDataTimestamps();\n\n    for (u = d, f = 0; u < s; u = +t.add(u, a, r), f++) on(h, u, g);\n\n    return (u === s || n.bounds === \"ticks\" || f === 1) && on(h, u, g), Object.keys(h).sort((p, m) => p - m).map(p => +p);\n  }\n\n  getLabelForValue(t) {\n    const e = this._adapter,\n          s = this.options.time;\n    return s.tooltipFormat ? e.format(t, s.tooltipFormat) : e.format(t, s.displayFormats.datetime);\n  }\n\n  _tickFormatFunction(t, e, s, n) {\n    const o = this.options,\n          r = o.time.displayFormats,\n          a = this._unit,\n          l = this._majorUnit,\n          c = a && r[a],\n          h = l && r[l],\n          d = s[e],\n          u = l && h && d && d.major,\n          f = this._adapter.format(t, n || (u ? h : c)),\n          g = o.ticks.callback;\n\n    return g ? I(g, [f, e, s], this) : f;\n  }\n\n  generateTickLabels(t) {\n    let e, s, n;\n\n    for (e = 0, s = t.length; e < s; ++e) n = t[e], n.label = this._tickFormatFunction(n.value, e, t);\n  }\n\n  getDecimalForValue(t) {\n    return t === null ? NaN : (t - this.min) / (this.max - this.min);\n  }\n\n  getPixelForValue(t) {\n    const e = this._offsets,\n          s = this.getDecimalForValue(t);\n    return this.getPixelForDecimal((e.start + s) * e.factor);\n  }\n\n  getValueForPixel(t) {\n    const e = this._offsets,\n          s = this.getDecimalForPixel(t) / e.factor - e.end;\n    return this.min + s * (this.max - this.min);\n  }\n\n  _getLabelSize(t) {\n    const e = this.options.ticks,\n          s = this.ctx.measureText(t).width,\n          n = nt(this.isHorizontal() ? e.maxRotation : e.minRotation),\n          o = Math.cos(n),\n          r = Math.sin(n),\n          a = this._resolveTickFontOptions(0).size;\n\n    return {\n      w: s * o + a * r,\n      h: s * r + a * o\n    };\n  }\n\n  _getLabelCapacity(t) {\n    const e = this.options.time,\n          s = e.displayFormats,\n          n = s[e.unit] || s.millisecond,\n          o = this._tickFormatFunction(t, 0, rn(this, [t], this._majorUnit), n),\n          r = this._getLabelSize(o),\n          a = Math.floor(this.isHorizontal() ? this.width / r.w : this.height / r.h) - 1;\n\n    return a > 0 ? a : 1;\n  }\n\n  getDataTimestamps() {\n    let t = this._cache.data || [],\n        e,\n        s;\n    if (t.length) return t;\n    const n = this.getMatchingVisibleMetas();\n    if (this._normalized && n.length) return this._cache.data = n[0].controller.getAllParsedValues(this);\n\n    for (e = 0, s = n.length; e < s; ++e) t = t.concat(n[e].controller.getAllParsedValues(this));\n\n    return this._cache.data = this.normalize(t);\n  }\n\n  getLabelTimestamps() {\n    const t = this._cache.labels || [];\n    let e, s;\n    if (t.length) return t;\n    const n = this.getLabels();\n\n    for (e = 0, s = n.length; e < s; ++e) t.push(sn(this, n[e]));\n\n    return this._cache.labels = this._normalized ? t : this.normalize(t);\n  }\n\n  normalize(t) {\n    return un(t.sort(Wc));\n  }\n\n}\n\nHt.id = \"time\";\nHt.defaults = {\n  bounds: \"data\",\n  adapters: {},\n  time: {\n    parser: !1,\n    unit: !1,\n    round: !1,\n    isoWeekday: !1,\n    minUnit: \"millisecond\",\n    displayFormats: {}\n  },\n  ticks: {\n    source: \"auto\",\n    major: {\n      enabled: !1\n    }\n  }\n};\n\nfunction Fe(i, t, e) {\n  let s = 0,\n      n = i.length - 1,\n      o,\n      r,\n      a,\n      l;\n  e ? (t >= i[s].pos && t <= i[n].pos && ({\n    lo: s,\n    hi: n\n  } = ft(i, \"pos\", t)), ({\n    pos: o,\n    time: a\n  } = i[s]), ({\n    pos: r,\n    time: l\n  } = i[n])) : (t >= i[s].time && t <= i[n].time && ({\n    lo: s,\n    hi: n\n  } = ft(i, \"time\", t)), ({\n    time: o,\n    pos: a\n  } = i[s]), ({\n    time: r,\n    pos: l\n  } = i[n]));\n  const c = r - o;\n  return c ? a + (l - a) * (t - o) / c : a;\n}\n\nclass Qe extends Ht {\n  constructor(t) {\n    super(t), this._table = [], this._minPos = void 0, this._tableRange = void 0;\n  }\n\n  initOffsets() {\n    const t = this._getTimestampsForTable(),\n          e = this._table = this.buildLookupTable(t);\n\n    this._minPos = Fe(e, this.min), this._tableRange = Fe(e, this.max) - this._minPos, super.initOffsets(t);\n  }\n\n  buildLookupTable(t) {\n    const {\n      min: e,\n      max: s\n    } = this,\n          n = [],\n          o = [];\n    let r, a, l, c, h;\n\n    for (r = 0, a = t.length; r < a; ++r) c = t[r], c >= e && c <= s && n.push(c);\n\n    if (n.length < 2) return [{\n      time: e,\n      pos: 0\n    }, {\n      time: s,\n      pos: 1\n    }];\n\n    for (r = 0, a = n.length; r < a; ++r) h = n[r + 1], l = n[r - 1], c = n[r], Math.round((h + l) / 2) !== c && o.push({\n      time: c,\n      pos: r / (a - 1)\n    });\n\n    return o;\n  }\n\n  _getTimestampsForTable() {\n    let t = this._cache.all || [];\n    if (t.length) return t;\n    const e = this.getDataTimestamps(),\n          s = this.getLabelTimestamps();\n    return e.length && s.length ? t = this.normalize(e.concat(s)) : t = e.length ? e : s, t = this._cache.all = t, t;\n  }\n\n  getDecimalForValue(t) {\n    return (Fe(this._table, t) - this._minPos) / this._tableRange;\n  }\n\n  getValueForPixel(t) {\n    const e = this._offsets,\n          s = this.getDecimalForPixel(t) / e.factor - e.end;\n    return Fe(this._table, s * this._tableRange + this._minPos, !0);\n  }\n\n}\n\nQe.id = \"timeseries\";\nQe.defaults = Ht.defaults;\nvar xo = /* @__PURE__ */Object.freeze({\n  __proto__: null,\n  CategoryScale: ce,\n  LinearScale: Ge,\n  LogarithmicScale: Ze,\n  RadialLinearScale: Nt,\n  TimeScale: Ht,\n  TimeSeriesScale: Qe\n});\nconst $c = [Wn, oo, mo, xo],\n      Yc = /* @__PURE__ */Object.freeze( /* @__PURE__ */Object.defineProperty({\n  __proto__: null,\n  Animation: In,\n  Animations: Ni,\n  ArcElement: ye,\n  BarController: ue,\n  BarElement: Me,\n  BasePlatform: Hi,\n  BasicPlatform: Yn,\n  BubbleController: fe,\n  CategoryScale: ce,\n  Chart: ji,\n  DatasetController: it,\n  Decimation: ao,\n  DomPlatform: Kn,\n  DoughnutController: Lt,\n  Element: st,\n  Filler: ho,\n  Interaction: Hn,\n  Legend: uo,\n  LineController: ge,\n  LineElement: gt,\n  LinearScale: Ge,\n  LogarithmicScale: Ze,\n  PieController: qe,\n  PointElement: ve,\n  PolarAreaController: pe,\n  RadarController: me,\n  RadialLinearScale: Nt,\n  Scale: Mt,\n  ScatterController: xe,\n  SubTitle: go,\n  Ticks: be,\n  TimeScale: Ht,\n  TimeSeriesScale: Qe,\n  Title: fo,\n  Tooltip: po,\n  _adapters: Nn,\n  _detectPlatform: qn,\n  animator: at,\n  controllers: Wn,\n  defaults: O,\n  elements: oo,\n  layouts: X,\n  plugins: mo,\n  registerables: $c,\n  registry: ot,\n  scales: xo\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { ye as A, Me as B, ve as P, K as a, D as b, I as c, O as d, E as e, Yc as f, T as i, ne as m, Zt as r, $ as t, C as v };","map":{"version":3,"mappings":"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","names":["noop","uid","id","isNullOrUndef","value","isArray","Array","type","Object","prototype","toString","call","slice","isObject","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toPercentage","dimension","endsWith","parseFloat","toDimension","callback","fn","args","thisArg","apply","each","loopable","reverse","i","len","keys","length","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","index","clone$1","source","map","target","create","klen","k","isValidKey","key","indexOf","_merger","options","tval","sval","merge","sources","merger","mergeIf","_mergerIf","hasOwnProperty","keyResolvers","v","x","o","y","resolveObjectKey","obj","_getKeyResolver","_splitKey","parts","split","tmp","part","push","_capitalize","str","charAt","toUpperCase","defined","isFunction","setsEqual","a","b","size","item","has","_isClickEvent","e","PI","Math","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","niceNum","range","roundedRange","round","almostEquals","niceRange","pow","floor","fraction","_factorize","result","sqrt","sort","pop","isNumber","n","isNaN","epsilon","abs","almostWhole","rounded","_setMinAndMaxByKey","array","property","min","max","toRadians","degrees","toDegrees","radians","_decimalPlaces","p","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","start","end","sameAngleIsFullCircle","s","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","_isBetween","_lookup","table","cmp","hi","lo","mid","_lookupByKey","last","_rlookupByKey","_filterBetween","values","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","defineProperty","configurable","enumerable","forEach","method","base","res","object","unlistenArrayEvents","stub","splice","_arrayUnique","items","set","Set","add","from","requestAnimFrame","window","requestAnimationFrame","throttled","updateFn","updateArgs","ticking","rest","debounce","delay","timeout","clearTimeout","setTimeout","_toLeftRightCenter","align","_alignStartEnd","_textX","left","right","rtl","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","count","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","assign","atEdge","t","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","lim","l","h","p2b","n2b","b2n","n2p","map$1","A","B","C","D","E","F","c","d","f","hex","h1","h2","eq","isShort","r","g","hexParse","ret","alpha","hexString","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","hueValue","rgb2hsl","calln","hsl2rgb","hwb2rgb","hsv2rgb","hue","hueParse","m","exec","p1","p2","rotate","deg","hslString","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","unpack","unpacked","tkeys","j","ok","nk","replace","parseInt","names","nameParse","transparent","toLowerCase","RGB_RE","rgbParse","rgbString","to","interpolate","rgb1","rgb2","modHSL","ratio","clone","proto","fromObject","input","functionParse","Color","constructor","_rgb","_valid","mix","color","weight","c1","c2","w2","w1","clearer","greyscale","val","opaquer","negate","lighten","darken","saturate","desaturate","index_esm","isPatternOrGradient","getHoverColor","overrides","descriptors","getScope$1","node","root","scope","Defaults","_descriptors","animation","backgroundColor","borderColor","datasets","devicePixelRatio","context","chart","platform","getDevicePixelRatio","elements","events","font","family","style","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","get","override","route","name","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","local","defaults","_scriptable","startsWith","_indexable","_fallback","toFontString","_measureText","data","gc","longest","string","textWidth","measureText","width","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","top","bottom","clipArea","clip","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","text","opts","lines","strokeWidth","strokeColor","line","setRenderOpts","strokeStyle","lineWidth","strokeText","maxWidth","fillText","decorateText","translation","fillStyle","textAlign","textBaseline","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","RegExp","FONT_STYLE","toLineHeight","matches","match","numberOrZero","_readValueToProps","props","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","console","warn","resolve","inputs","info","cacheable","_addGrace","minmax","grace","beginAtZero","change","keepZero","createContext","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","_resolve","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","includes","ownKeys","storage","_storage","_attachContext","proxy","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","isScriptable","isIndexable","readKey","prefix","needsSubResolver","_resolveScriptable","_resolveArray","Error","join","delete","createSubResolver","arr","filter","resolver","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","_parsing","parsed","parse","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","current","next","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","valueAxis","delta","pointBefore","iPixel","vPixel","splineCurveMonotone","slopeDelta","capControlPoint","pt","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","loop","controlPoints","spanGaps","cubicInterpolationMode","prev","tension","_isDomSupported","document","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","getStyle","el","getPropertyValue","positions","getPositionedStyle","styles","suffix","pos","useOffsetPos","shadowRoot","getCanvasPosition","touches","offsetX","offsetY","box","getBoundingClientRect","clientX","clientY","getRelativePosition","evt","borderBox","boxSizing","paddings","borders","getContainerSize","maxHeight","container","clientWidth","clientHeight","containerStyle","containerBorder","containerPadding","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","containerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","Map","getNumberFormat","locale","cacheKey","JSON","stringify","formatter","Intl","NumberFormat","formatNumber","num","format","getRightToLeftAdapter","rectX","setWidth","xPlus","leftForLtr","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","getSegment","segment","bounds","startBound","endBound","_boundSegment","inside","subStart","prevValue","startIsBefore","endIsBefore","shouldStart","shouldStop","_boundSegments","segments","sub","findStartAndEnd","solidSegments","cur","stop","_computeSegments","segmentOptions","_loop","splitByStyles","completeLoop","_fullLoop","doSplitByStyles","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","Animator","_request","_charts","_running","_lastDate","_notify","anims","date","callbacks","numSteps","duration","initial","currentStep","_refresh","_update","Date","now","remaining","running","draw","_active","_total","tick","_getAnims","charts","complete","progress","listen","event","cb","reduce","acc","_duration","cancel","remove","animator","interpolators","boolean","factor","c0","valid","number","Animation","cfg","currentValue","_fn","_easing","easing","_start","_target","_prop","_from","_to","_promises","active","update","elapsed","remain","wait","promises","Promise","rej","resolved","numbers","colors","animationOptions","properties","resize","show","animations","visible","hide","Animations","config","_properties","configure","animatedProps","getOwnPropertyNames","option","_animateOptions","newOptions","resolveTargetOptions","_createAnimations","$shared","awaitAll","$animations","then","anim","all","scaleClip","allowedOverflow","defaultClip","toClip","disabled","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","convertObjectDataToArray","adata","isStacked","stacked","getStackKey","indexScale","valueScale","NEGATIVE_INFINITY","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","_cachedMeta","_stacks","iAxis","vAxis","itemStacks","_top","_bottom","getFirstScaleId","shift","createDatasetContext","dataset","createDataContext","dataIndex","raw","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","createStack","canStack","hidden","_stacked","DatasetController","_ctx","_cachedDataOpts","getMeta","_type","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","initialize","linkScales","addElements","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","isExtensible","datasetElementType","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","otherScale","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","_clip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","_resolveElementOptions","dataElementType","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","arguments","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","getAllScaleValues","_cache","$bar","visibleMetas","concat","computeMinSampleSize","_length","curr","updateMinAndPrev","ticks","getPixelForTick","computeFitCategoryTraits","ruler","stackCount","thickness","barThickness","categoryPercentage","barPercentage","chunk","pixels","computeFlexCategoryTraits","percent","parseFloatBar","entry","startValue","endValue","barStart","barEnd","_custom","parseValue","parseArrayOrPrimitive","isFloatBar","custom","barSign","actualBase","isHorizontal","borderProps","horizontal","setBorderSkipped","edge","borderSkipped","enableBorderRadius","parseEdge","swap","startEnd","orig","v2","setInflateAmount","inflateAmount","BarController","iAxisKey","vAxisKey","bars","getBasePixel","_getRuler","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","grouped","skipNull","_getStackCount","_getStackIndex","_startPixel","_endPixel","baseValue","minBarLength","floating","getDataVisibility","startPixel","getPixelForDecimal","endPixel","halfGrid","getLineWidthForValue","maxBarThickness","stackIndex","rects","_index_","offset","grid","_value_","BubbleController","tooltip","title","getRatioAndOffset","circumference","cutout","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","DoughnutController","innerRadius","outerRadius","getter","_getRotation","_getCircumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","chartWeight","_getRingWeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","legend","generateLabels","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_dataset","_decimated","animated","maxGapLength","directUpdate","prevParsed","nullData","border","lastPoint","updateControlPoints","PolarAreaController","bind","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","display","circular","pointLabels","PieController","RadarController","pointPosition","getPointPositionForValue","Element","tooltipPosition","useFinalPosition","getProps","hasValue","final","defaultRoutes","formatters","numeric","tickValue","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","drawBorder","drawOnChartArea","drawTicks","tickLength","tickWidth","tickColor","padding","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","tickOpts","ticksLimit","maxTicksLimit","determineMaxTicks","majorIndices","enabled","getMajorIndices","numMajorIndices","first","newTicks","skipMajors","calculateSpacing","avgMajorSpacing","_tickSize","maxScale","maxChart","_maxLength","evenMajorSpacing","getEvenSpacing","factors","ceil","majorStart","majorEnd","diff","reverseAlign","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","caches","getTickMarkLength","getTitleHeight","createScaleContext","createTickContext","titleAlign","position","titleArgs","titleX","titleY","positionAxisID","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_reversePixels","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","init","suggestedMin","suggestedMax","metas","getPadding","getTicks","xLabels","yLabels","beforeLayout","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","fullSize","_computeLabelSizes","widths","heights","widestLabelSize","highestLabelSize","tickFont","fontString","nestedLabel","_resolveTickFontOptions","valueAt","idx","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","optionTicks","rot","_computeGridLineItems","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","limit","step","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","_computeLabelItems","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","tickTextAlign","backdrop","labelPadding","_computeLabelArea","drawBackground","fillRect","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","lastLineWidth","drawLabels","drawTitle","_layers","tz","z","gz","getSortedVisibleDatasetMetas","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","registerDefaults","unregister","itemDefaults","routeDefaults","routes","propertyParts","sourceName","sourceScope","Registry","controllers","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getElement","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","registry","component","camelMethod","ScatterController","__proto__","abstract","DateAdapter","chartOptions","formats","timestamp","amount","unit","startOf","weekday","endOf","members","adapters","_date","binarySearch","metaset","lookupMethod","getRange","evaluateInteractionItems","handler","getDistanceMetricForAxis","useX","useY","deltaX","deltaY","getIntersectItems","isPointInArea","inRange","getNearestRadialItems","evaluationFunc","getNearestCartesianItems","distanceMetric","minDistance","getCenterPoint","getNearestItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","wrapBoxes","boxes","layoutBoxes","stackWeight","buildStacks","layouts","wrap","placed","setLayoutDims","params","vBoxMaxWidth","hBoxMaxHeight","layout","availableWidth","availableHeight","buildLayoutBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","handleMaxPadding","updatePos","getMargins","marginForPositions","fitBoxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","autoPadding","addBox","removeBox","layoutItem","minPadding","verticalBoxes","horizontalBoxes","visibleVerticalBoxCount","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","initCanvas","renderHeight","getAttribute","renderWidth","displayWidth","displayHeight","eventListenerOptions","addListener","removeListener","fromNativeEvent","native","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","listenDevicePixelRatioChanges","unlistenDevicePixelRatioChanges","createResizeObserver","ResizeObserver","contentRect","releaseObserver","disconnect","createProxyAndListen","DomPlatform","removeAttribute","setAttribute","proxies","$proxies","attach","detach","isConnected","_detectPlatform","OffscreenCanvas","PluginService","_init","notify","hook","_createDescriptors","descriptor","plugin","cancelable","invalidate","_oldCache","_notifyStateChanges","allPlugins","createDescriptors","previousDescriptors","some","localIds","getOpts","pluginOpts","pluginScopeKeys","getIndexAxis","datasetDefaults","getAxisFromDefaultScaleID","getDefaultScaleIDFromAxis","axisFromPosition","determineAxis","scaleOptions","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","error","defaultId","defaultScaleOptions","defaultID","initOptions","initData","initConfig","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","needContext","subResolver","resolverCache","hasFunction","version","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","intKey","determineLastEvent","lastEvent","inChartArea","isClick","Chart","userConfig","initialCanvas","existingChart","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","ensureScalesHaveIDs","scalesOptions","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","scaleClass","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","destroy","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","replay","hoverOptions","deactivated","activated","eventFilter","_handleEvent","_getActiveElements","invalidatePlugins","clipArc","pixelMargin","angleMargin","toRadiusCorners","parseBorderRadius$1","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","innerR","spacingOffset","noSpacingInnerRadius","noSpacingOuterRadius","avNogSpacingRadius","adjustedAngle","beta","angleOffset","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","p8","outerStartX","outerStartY","outerEndX","outerEndY","drawArc","fullCircles","drawFullCircleBorders","inner","lineJoin","ArcElement","chartX","chartY","rAdjust","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","setStyle","lineCap","getLineMethod","stepped","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","fastPathSegment","avgX","countX","prevX","lastY","pointIndex","drawX","truncX","_getSegmentMethod","_getInterpolationMethod","strokePathWithCache","path","_path","Path2D","strokePathDirect","segmentMethod","usePath2D","LineElement","_points","_segments","_pointsUpdated","_interpolate","interpolated","inRange$1","hitRadius","PointElement","mouseX","mouseY","inXRange","inYRange","hoverRadius","getBarBounds","bar","half","skipOrLimit","parseBorderWidth","maxW","maxH","parseBorderRadius","maxR","enableBorder","boundingRects","outer","skipX","skipY","hasRadius","addNormalRectPath","inflateRect","refRect","BarElement","addRectPath","lttbDecimation","samples","decimated","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","minMaxDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","cleanDecimatedDataset","cleanDecimatedData","getStartAndCountOfVisiblePointsSimplified","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","threshold","tpoints","_findSegmentEnd","_getBounds","targetSegments","tgt","subBounds","fillSources","fillSource","_getEdge","_pointsFromSegments","boundary","linePoints","_createBoundaryLine","_shouldApplyFill","_resolveTarget","propagate","visited","_decodeFill","parseFillOption","decodeTargetIndex","firstCh","_getTargetPixel","_getTargetValue","fillOption","_buildStackLine","sourcePoints","linesBelow","getLinesBelow","addPointsBelow","below","unshift","sourcePoint","postponed","findPoint","pointValue","firstValue","lastValue","simpleArc","getLineByIndex","computeBoundary","computeCircularBoundary","computeLinearBoundary","_drawfill","lineOpts","above","doFill","clipVertical","clipY","lineLoop","src","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","itemsEqual","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","heightLimit","totalWidth","currentColWidth","currentColHeight","col","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","fontColor","halfFontSize","cursor","drawLegendBox","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","textDirection","realX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","isListened","hoveredItem","sameItem","onLeave","plugin_legend","_element","afterEvent","ci","Title","_padding","textSize","_drawArgs","fontOpts","createTitle","titleBlock","plugin_title","WeakMap","plugin_subtitle","positioners","average","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","String","createTooltipItem","getTooltipSize","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","bodyLineHeight","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineYAlign","doesNotFitWithAlign","xAlign","caret","caretSize","caretPadding","determineXAlign","yAlign","chartWidth","determineAlignment","alignX","alignY","paddingAndSize","getBackgroundPoint","alignment","getAlignedX","getBeforeAfterBodyLines","createTooltipContext","tooltipItems","overrideCallbacks","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","beforeTitle","afterTitle","getBeforeBody","getBody","bodyItems","scoped","beforeLabel","afterLabel","getAfterBody","getFooter","beforeFooter","afterFooter","_createItems","itemSort","labelColor","labelPointStyle","labelTextColor","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","bodyColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","labelCount","Decimation","Filler","SubTitle","addIfString","addedLabels","findOrAddLabel","lastIndexOf","CategoryScale","_startValue","_valueRange","_addedLabels","added","generateTicks$1","generationOptions","dataRange","precision","maxTicks","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","decimalPlaces","relativeLabelSize","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","getTickLimit","stepSize","computeTickLimit","numericGeneratorOptions","LinearScale","isMajor","tickVal","generateTicks","endExp","endSignificand","exp","significand","lastTick","LogarithmicScale","_zero","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","limits","valueCount","_pointLabels","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","getPointPosition","drawingArea","plFont","hLimits","vLimits","updateLimits","setCenterPoint","_pointLabelItems","buildPointLabelItems","extra","outerDistance","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","drawPointLabels","backdropLeft","backdropTop","backdropWidth","backdropHeight","pathRadiusLine","drawRadiusLine","gridLineOpts","createPointLabelContext","RadialLinearScale","leftMovement","rightMovement","topMovement","bottomMovement","angleMultiplier","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","distanceFromCenter","getBasePosition","getPointLabelPosition","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","determineUnitForFormatting","determineMajorUnit","addTick","time","timestamps","setMajorTicks","majorUnit","ticksFromTimestamps","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_getLabelCapacity","initOffsets","offsetAfterAutoskip","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","datetime","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","registerables","Yc"],"sources":["C:\\Users\\aweso\\OneDrive\\Desktop\\QuickMeds\\frontend\\node_modules\\tw-elements\\node_modules\\chart.js\\dist\\chunks\\helpers.segment.mjs","C:\\Users\\aweso\\OneDrive\\Desktop\\QuickMeds\\frontend\\node_modules\\tw-elements\\node_modules\\chart.js\\dist\\chart.mjs"],"sourcesContent":["/*!\n * Chart.js v3.9.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nfunction noop() {}\nconst uid = (function() {\n  let id = 0;\n  return function() {\n    return id++;\n  };\n}());\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : value / dimension;\nconst toDimension = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n  let i, len, keys;\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\nfunction _elementsEqual(a0, a1) {\n  let i, ilen, v0, v1;\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n    return target;\n  }\n  return source;\n}\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\nfunction merge(target, source, options) {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n  if (!isObject(target)) {\n    return target;\n  }\n  options = options || {};\n  const merger = options.merger || _merger;\n  for (let i = 0; i < ilen; ++i) {\n    source = sources[i];\n    if (!isObject(source)) {\n      continue;\n    }\n    const keys = Object.keys(source);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n  return target;\n}\nfunction mergeIf(target, source) {\n  return merge(target, source, {merger: _mergerIf});\n}\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\nconst keyResolvers = {\n  '': v => v,\n  x: o => o.x,\n  y: o => o.y\n};\nfunction resolveObjectKey(obj, key) {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\nfunction _getKeyResolver(key) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\nfunction _splitKey(key) {\n  const parts = key.split('.');\n  const keys = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value) => typeof value !== 'undefined';\nconst isFunction = (value) => typeof value === 'function';\nconst setsEqual = (a, b) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n};\nfunction _isClickEvent(e) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\nconst PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction niceNum(range) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\nfunction _factorize(value) {\n  const result = [];\n  const sqrt = Math.sqrt(value);\n  let i;\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\nfunction almostWhole(x, epsilon) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\nfunction _setMinAndMaxByKey(array, target, property) {\n  let i, ilen, value;\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n  if (angle < (-0.5 * PI)) {\n    angle += TAU;\n  }\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\nfunction _isBetween(value, start, end, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid;\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return {lo, hi};\n}\nconst _lookupByKey = (table, key, value, last) =>\n  _lookup(table, value, last\n    ? index => table[index][key] <= value\n    : index => table[index][key] < value);\nconst _rlookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] >= value);\nfunction _filterBetween(values, min, max) {\n  let start = 0;\n  let end = values.length;\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n        return res;\n      }\n    });\n  });\n}\nfunction unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n  if (listeners.length > 0) {\n    return;\n  }\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\nfunction _arrayUnique(items) {\n  const set = new Set();\n  let i, ilen;\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n  if (set.size === ilen) {\n    return items;\n  }\n  return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\nconst requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\nfunction throttled(fn, thisArg, updateFn) {\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\n  let ticking = false;\n  let args = [];\n  return function(...rest) {\n    args = updateArgs(rest);\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function(...args) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\nconst _textX = (align, left, right, rtl) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\nfunction _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  const pointCount = points.length;\n  let start = 0;\n  let count = pointCount;\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n  return {start, count};\n}\nfunction _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nconst atEdge = (t) => t === 0 || t === 1;\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\nconst effects = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => -t * (t - 2),\n  easeInOutQuad: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (t -= 1) * t * t + 1,\n  easeInOutCubic: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\n  easeInOutQuart: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\n  easeInOutQuint: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\n  easeOutSine: t => Math.sin(t * HALF_PI),\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\n  easeInOutCirc: t => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n  easeInOutElastic(t) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack(t) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack(t) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\n  easeOutBounce(t) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n  easeInOutBounce: t => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n};\n\n/*!\n * @kurkle/color v0.2.1\n * https://github.com/kurkle/color#readme\n * (c) 2022 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nfunction isPatternOrGradient(value) {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n  return false;\n}\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n  return merge(getScope$1(root, ''), scope);\n}\nclass Defaults {\n  constructor(_descriptors) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n    this.describe(_descriptors);\n  }\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n  get(scope) {\n    return getScope$1(this, scope);\n  }\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope$1(this, scope);\n    const targetScopeObject = getScope$1(this, targetScope);\n    const privateName = '_' + name;\n    Object.defineProperties(scopeObject, {\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n}\nvar defaults = new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\nfunction _measureText(ctx, data, gc, longest, string) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n  ctx.save();\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i, j, jlen, thing, nestedThing;\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\nfunction _alignPixel(chart, pixel, width) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n  drawPointLegend(ctx, options, x, y, null);\n}\nfunction drawPointLegend(ctx, options, x, y, w) {\n  let type, xOffset, yOffset, size, cornerRadius, width;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n  ctx.beginPath();\n  switch (style) {\n  default:\n    if (w) {\n      ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n    } else {\n      ctx.arc(x, y, radius, 0, TAU);\n    }\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      width = w ? w / 2 : size;\n      ctx.rect(x - width, y - size, 2 * width, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = w ? w / 2 : Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\nfunction renderText(ctx, text, x, y, font, opts = {}) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i, line;\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n    y += font.lineHeight;\n  }\n  ctx.restore();\n}\nfunction setRenderOpts(ctx, opts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n  if (opts.strikethrough || opts.underline) {\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\nfunction addRoundedRectPath(ctx, rect) {\n  const {x, y, w, h, radius} = rect;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\nfunction toLineHeight(value, size) {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n  value = +matches[2];\n  switch (matches[3]) {\n  case 'px':\n    return value;\n  case '%':\n    value /= 100;\n    break;\n  }\n  return size * value;\n}\nconst numberOrZero = v => +v || 0;\nfunction _readValueToProps(value, props) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\nfunction toTRBL(value) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\nfunction toPadding(value) {\n  const obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  let size = valueOrDefault(options.size, fallback.size);\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\nfunction resolve(inputs, context, index, info) {\n  let cacheable = true;\n  let i, ilen, value;\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\nfunction _addGrace(minmax, grace, beginAtZero) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\nfunction createContext(parentContext, context) {\n  return Object.assign(Object.create(parentContext), context);\n}\n\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: rootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get(target, prop) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set(target, prop, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value;\n      delete target._keys;\n      return true;\n    }\n  });\n}\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  const cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get(target, prop, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n  const value = resolve();\n  target[prop] = value;\n  return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop];\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\nfunction _resolveScriptable(prop, value, target, receiver) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  value = value(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n        return fallback;\n      }\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n      return null;\n    }\n  }\n  return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    return value;\n  }\n  return target;\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  let value;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (defined(value)) {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\nfunction _resolve(key, scopes) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (defined(value)) {\n      return value;\n    }\n  }\n}\nfunction getKeysFromAllScopes(target) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n  const set = new Set();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array(count);\n  let i, ilen, index, item;\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  const fa = t * s01;\n  const fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\nfunction monotoneAdjust(points, deltaK, mK) {\n  const pointsLen = points.length;\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\nfunction splineCurveMonotone(points, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK = Array(pointsLen).fill(0);\n  const mK = Array(pointsLen);\n  let i, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n      : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n  let i, ilen, point, controlPoints;\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\nfunction _getParentNode(domNode) {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n  return parent;\n}\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  let valueInPixels;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n  return valueInPixels;\n}\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles, style, suffix) {\n  const result = {};\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\nfunction getCanvasPosition(e, canvas) {\n  const touches = e.touches;\n  const source = touches && touches.length ? touches[0] : e;\n  const {offsetX, offsetY} = source;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\nfunction getRelativePosition(evt, chart) {\n  if ('native' in evt) {\n    return evt;\n  }\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(evt, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\nfunction getContainerSize(canvas, width, height) {\n  let maxWidth, maxHeight;\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect();\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\nconst round1 = v => Math.round(v * 10) / 10;\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n  chart.height = deviceHeight / pixelRatio;\n  chart.width = deviceWidth / pixelRatio;\n  const canvas = chart.canvas;\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\nconst supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n  }\n  return passiveSupported;\n}());\nfunction readUsedSize(element, property) {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\n    : t > 0 ? p2.y : p1.y\n  };\n}\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\nconst getLeftToRightAdapter = function() {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) {\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) {\n      return x;\n    },\n  };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n  let style, original;\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  let {start, end, loop} = segment;\n  let i, ilen;\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n    if (point.skip) {\n      continue;\n    }\n    value = normalize(point[property]);\n    if (value === prevValue) {\n      continue;\n    }\n    inside = between(value, startBound, endBound);\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n  return result;\n}\nfunction _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n  while (start < count && points[start].skip) {\n    start++;\n  }\n  start %= count;\n  if (loop) {\n    end += start;\n  }\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n  end %= count;\n  return {start, end};\n}\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n  return result;\n}\nfunction _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n  if (!count) {\n    return [];\n  }\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n  return result;\n}\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { _isPointInArea as $, _factorize as A, finiteOrDefault as B, callback as C, _addGrace as D, _limitValue as E, toDegrees as F, _measureText as G, HALF_PI as H, _int16Range as I, _alignPixel as J, toPadding as K, clipArea as L, renderText as M, unclipArea as N, toFont as O, PI as P, each as Q, _toLeftRightCenter as R, _alignStartEnd as S, TAU as T, overrides as U, merge as V, _capitalize as W, getRelativePosition as X, _rlookupByKey as Y, _lookupByKey as Z, _arrayUnique as _, resolve as a, toLineHeight as a$, getAngleFromPoint as a0, getMaximumSize as a1, _getParentNode as a2, readUsedSize as a3, throttled as a4, supportsEventListenerOptions as a5, _isDomSupported as a6, descriptors as a7, isFunction as a8, _attachContext as a9, getRtlAdapter as aA, overrideTextDirection as aB, _textX as aC, restoreTextDirection as aD, drawPointLegend as aE, noop as aF, distanceBetweenPoints as aG, _setMinAndMaxByKey as aH, niceNum as aI, almostWhole as aJ, almostEquals as aK, _decimalPlaces as aL, _longestText as aM, _filterBetween as aN, _lookup as aO, isPatternOrGradient as aP, getHoverColor as aQ, clone$1 as aR, _merger as aS, _mergerIf as aT, _deprecated as aU, _splitKey as aV, toFontString as aW, splineCurve as aX, splineCurveMonotone as aY, getStyle as aZ, fontString as a_, _createResolver as aa, _descriptors as ab, mergeIf as ac, uid as ad, debounce as ae, retinaScale as af, clearCanvas as ag, setsEqual as ah, _elementsEqual as ai, _isClickEvent as aj, _isBetween as ak, _readValueToProps as al, _updateBezierControlPoints as am, _computeSegments as an, _boundSegments as ao, _steppedInterpolation as ap, _bezierInterpolation as aq, _pointInLine as ar, _steppedLineTo as as, _bezierCurveTo as at, drawPoint as au, addRoundedRectPath as av, toTRBL as aw, toTRBLCorners as ax, _boundSegment as ay, _normalizeAngle as az, isArray as b, PITAU as b0, INFINITY as b1, RAD_PER_DEG as b2, QUARTER_PI as b3, TWO_THIRDS_PI as b4, _angleDiff as b5, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, log10 as z };\n","/*!\n * Chart.js v3.9.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as log10, A as _factorize, B as finiteOrDefault, C as callback, D as _addGrace, E as _limitValue, F as toDegrees, G as _measureText, I as _int16Range, J as _alignPixel, K as toPadding, L as clipArea, M as renderText, N as unclipArea, O as toFont, Q as each, R as _toLeftRightCenter, S as _alignStartEnd, U as overrides, V as merge, W as _capitalize, X as getRelativePosition, Y as _rlookupByKey, Z as _lookupByKey, $ as _isPointInArea, a0 as getAngleFromPoint, a1 as getMaximumSize, a2 as _getParentNode, a3 as readUsedSize, a4 as throttled, a5 as supportsEventListenerOptions, a6 as _isDomSupported, a7 as descriptors, a8 as isFunction, a9 as _attachContext, aa as _createResolver, ab as _descriptors, ac as mergeIf, ad as uid, ae as debounce, af as retinaScale, ag as clearCanvas, ah as setsEqual, ai as _elementsEqual, aj as _isClickEvent, ak as _isBetween, al as _readValueToProps, am as _updateBezierControlPoints, an as _computeSegments, ao as _boundSegments, ap as _steppedInterpolation, aq as _bezierInterpolation, ar as _pointInLine, as as _steppedLineTo, at as _bezierCurveTo, au as drawPoint, av as addRoundedRectPath, aw as toTRBL, ax as toTRBLCorners, ay as _boundSegment, az as _normalizeAngle, aA as getRtlAdapter, aB as overrideTextDirection, aC as _textX, aD as restoreTextDirection, aE as drawPointLegend, aF as noop, aG as distanceBetweenPoints, aH as _setMinAndMaxByKey, aI as niceNum, aJ as almostWhole, aK as almostEquals, aL as _decimalPlaces, aM as _longestText, aN as _filterBetween, aO as _lookup } from './chunks/helpers.segment.mjs';\nexport { d as defaults } from './chunks/helpers.segment.mjs';\n\nclass Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n  _update(date = Date.now()) {\n    let remaining = 0;\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n      for (; i >= 0; --i) {\n        item = items[i];\n        if (item._active) {\n          if (item._total > anims.duration) {\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n      remaining += items.length;\n    });\n    this._lastDate = date;\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\nvar animator = new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color(from, to, factor) {\n    const c0 = color(from || transparent);\n    const c1 = c0.valid && color(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\nclass Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n  active() {\n    return this._active;\n  }\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n  cancel() {\n    if (this._active) {\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n    this._active = from !== to && (loop || (elapsed < duration));\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n    this._target[prop] = this._fn(from, to, factor);\n  }\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined,\n});\nconst animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  },\n});\ndefaults.describe('animations', {\n  _fallback: 'animation',\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      },\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: v => v | 0\n      },\n    }\n  }\n});\nclass Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n    const animatedProps = this._properties;\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n      });\n    }\n    return animations;\n  }\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n      if (animation) {\n        if (cfg && animation.active()) {\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        target[prop] = value;\n        continue;\n      }\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n  update(target, values) {\n    if (this._properties.size === 0) {\n      Object.assign(target, values);\n      return;\n    }\n    const animations = this._createAnimations(target, values);\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\nfunction toClip(value) {\n  let t, r, b, l;\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n  if (value === null) {\n    return;\n  }\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n  return null;\n}\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {});\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n  }\n}\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\nfunction clearStacks(meta, items) {\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n  }\n}\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\nclass DatasetController {\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n  }\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n  reset() {\n    this._update('reset');\n  }\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n    if (isObject(data)) {\n      this._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        unlistenArrayEvents(_data, this);\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n  addElements() {\n    const meta = this._cachedMeta;\n    this._dataCheck();\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n    this._dataCheck();\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n    this._resyncElements(resetNewElements);\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        break;\n      }\n    }\n    if (sorted) {\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isNumberFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n  getMaxOverflow() {\n    return false;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n  update(mode) {}\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    const context = () => this.getContext(index, active);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n    if (values.$shared) {\n      values.$shared = sharing;\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n    return values;\n  }\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n  _getSharedOptions(start, mode) {\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const previouslySharedOptions = this._sharedOptions;\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    return {sharedOptions, includeOptions};\n  }\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n    if (count) {\n      this.parse(0, count);\n    }\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n  updateElements(element, start, count, mode) {}\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n  return min;\n}\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n  if (edge === true) {\n    properties.borderSkipped = {top: true, right: true, bottom: true, left: true};\n    return;\n  }\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\nclass BarController extends DatasetController {\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n  getMaxOverflow() {\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n  _getStacks(last, dataIndex) {\n    const {iScale} = this._cachedMeta;\n    const metasets = iScale.getMatchingVisibleMetas(this._type)\n      .filter(meta => meta.controller.options.grouped);\n    const stacked = iScale.options.stacked;\n    const stacks = [];\n    const skipNull = (meta) => {\n      const parsed = meta.controller.getParsed(dataIndex);\n      const val = parsed && parsed[meta.vScale.axis];\n      if (isNullOrUndef(val) || isNaN(val)) {\n        return true;\n      }\n    };\n    for (const meta of metasets) {\n      if (dataIndex !== undefined && skipNull(meta)) {\n        continue;\n      }\n      if (stacked === false || stacks.indexOf(meta.stack) === -1 ||\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\n        stacks.push(meta.stack);\n      }\n      if (meta.index === last) {\n        break;\n      }\n    }\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n    return stacks;\n  }\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1;\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      head = base;\n    }\n    size = head - base;\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      const startPixel = vScale.getPixelForDecimal(0);\n      const endPixel = vScale.getPixelForDecimal(1);\n      const min = Math.min(startPixel, endPixel);\n      const max = Math.max(startPixel, endPixel);\n      base = Math.max(Math.min(base, max), min);\n      head = base + size;\n    }\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n}\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true,\n    }\n  }\n};\n\nclass BubbleController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n    return {\n      label: meta.label,\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n  update(mode) {\n    const points = this._cachedMeta.data;\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n    return values;\n  }\n}\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\nclass DoughnutController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n  linkScales() {}\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n    meta.total = this.calculateTotal();\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    let startAngle = this._getRotation();\n    let i;\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n    return total;\n  }\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n    if (!arcs) {\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n    if (!arcs) {\n      return 0;\n    }\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n  getMaxOffset(arcs) {\n    let max = 0;\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n    return ringWeightOffset;\n  }\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n    },\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  spacing: 0,\n  indexAxis: 'r',\n};\nDoughnutController.descriptors = {\n  _scriptable: (name) => name !== 'spacing',\n  _indexable: (name) => name !== 'spacing',\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(tooltipItem) {\n          let dataLabel = tooltipItem.label;\n          const value = ': ' + tooltipItem.formattedValue;\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nclass LineController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n    this.updateElements(points, start, count, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false,\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n    },\n    _value_: {\n      type: 'linear',\n    },\n  }\n};\n\nclass PolarAreaController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  getMinMax() {\n    const meta = this._cachedMeta;\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    meta.data.forEach((element, index) => {\n      const parsed = this.getParsed(index).r;\n      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n        if (parsed < range.min) {\n          range.min = parsed;\n        }\n        if (parsed > range.max) {\n          range.max = parsed;\n        }\n      }\n    });\n    return range;\n  }\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n    const defaultAngle = 360 / this.countVisibleElements();\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n      angle = endAngle;\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  countVisibleElements() {\n    const meta = this._cachedMeta;\n    let count = 0;\n    meta.data.forEach((element, index) => {\n      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n    return count;\n  }\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    },\n  },\n  indexAxis: 'r',\n  startAngle: 0,\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass PieController extends DoughnutController {\n}\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nclass RadarController extends DatasetController {\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n    line.points = points;\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n      this.updateElement(line, undefined, properties, mode);\n    }\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  },\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear',\n    }\n  }\n};\n\nclass Element {\n  constructor() {\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n  tooltipPosition(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n  getProps(props, final) {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      return this;\n    }\n    const ret = {};\n    props.forEach(prop => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n    });\n    return ret;\n  }\n}\nElement.defaults = {};\nElement.defaultRoutes = undefined;\n\nconst formatters = {\n  values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue;\n    if (ticks.length > 1) {\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n      delta = calculateDelta(tickValue, ticks);\n    }\n    const logDelta = log10(Math.abs(delta));\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n};\nfunction calculateDelta(tickValue, ticks) {\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\nvar Ticks = {formatters};\n\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: (_ctx, options) => options.lineWidth,\n    tickColor: (_ctx, options) => options.color,\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2,\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\n});\ndefaults.describe('scales', {\n  _fallback: 'scale',\n});\ndefaults.describe('scale.ticks', {\n  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n  _indexable: (name) => name !== 'backdropPadding',\n});\n\nfunction autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n  next = start;\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n  if (len < 2) {\n    return false;\n  }\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6;\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n  return (lines * font.lineHeight) + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\nfunction titleAlign(align, position, reverse) {\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\nclass Scale extends Element {\n  constructor(cfg) {\n    super();\n    this.id = cfg.id;\n    this.type = cfg.type;\n    this.options = undefined;\n    this.ctx = cfg.ctx;\n    this.chart = cfg.chart;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    this.maxWidth = undefined;\n    this.maxHeight = undefined;\n    this.paddingTop = undefined;\n    this.paddingBottom = undefined;\n    this.paddingLeft = undefined;\n    this.paddingRight = undefined;\n    this.axis = undefined;\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    this.ticks = [];\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    this._startPixel = undefined;\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n  init(options) {\n    this.options = options.setContext(this.getContext());\n    this.axis = options.axis;\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n  parse(raw, index) {\n    return raw;\n  }\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isNumberFinite(_userMin),\n      maxDefined: isNumberFinite(_userMax)\n    };\n  }\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n  getTicks() {\n    return this.ticks;\n  }\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n  beforeUpdate() {\n    callback(this.options.beforeUpdate, [this]);\n  }\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n    this.beforeUpdate();\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n    this.beforeBuildTicks();\n    this.ticks = this.buildTicks() || [];\n    this.afterBuildTicks();\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n    this.configure();\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation();\n    this.afterCalculateLabelRotation();\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n    if (samplingEnabled) {\n      this._convertTicksToLabels(this.ticks);\n    }\n    this.beforeFit();\n    this.fit();\n    this.afterFit();\n    this.afterUpdate();\n  }\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n  afterUpdate() {\n    callback(this.options.afterUpdate, [this]);\n  }\n  beforeSetDimensions() {\n    callback(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = 0;\n      this.bottom = this.height;\n    }\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    callback(this.options.afterSetDimensions, [this]);\n  }\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    callback(this.options[name], [this]);\n  }\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n  beforeTickToLabelConversion() {\n    callback(this.options.beforeTickToLabelConversion, [this]);\n  }\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    callback(this.options.afterTickToLabelConversion, [this]);\n  }\n  beforeCalculateLabelRotation() {\n    callback(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = this.ticks.length;\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    callback(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n  beforeFit() {\n    callback(this.options.beforeFit, [this]);\n  }\n  fit() {\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight;\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n        if (isHorizontal) {\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n    this._handleMargins();\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n  afterFit() {\n    callback(this.options.afterFit, [this]);\n  }\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  isFullSize() {\n    return this.options.fullSize;\n  }\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n    this.generateTickLabels(ticks);\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n    this.afterTickToLabelConversion();\n  }\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\n    }\n    return labelSizes;\n  }\n  _computeLabelSizes(ticks, length) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n    for (i = 0; i < length; ++i) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = label[j];\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n  getLabelForValue(value) {\n    return value;\n  }\n  getPixelForValue(value, index) {\n    return NaN;\n  }\n  getValueForPixel(pixel) {}\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n  getBaseValue() {\n    const {min, max} = this;\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n  getContext(index) {\n    const ticks = this.ticks || [];\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n  _isVisible() {\n    const display = this.options.display;\n    if (display !== 'auto') {\n      return !!display;\n    }\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const optsAtIndex = grid.setContext(this.getContext(i));\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = optsAtIndex.borderDash || [];\n      const borderDashOffset = optsAtIndex.borderDashOffset;\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n      lineValue = getPixelForGridLine(this, i, offset);\n      if (lineValue === undefined) {\n        continue;\n      }\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n    return items;\n  }\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n      if (isHorizontal) {\n        x = pixel;\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n      let backdrop;\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n        let top = y + textOffset - labelPadding.top;\n        let left = x - labelPadding.left;\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        }\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        }\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n          color: optsAtIndex.backdropColor,\n        };\n      }\n      items.push({\n        rotation,\n        label,\n        font,\n        color,\n        strokeColor,\n        strokeWidth,\n        textOffset,\n        textAlign: tickTextAlign,\n        textBaseline,\n        translation: [x, y],\n        backdrop,\n      });\n    }\n    return items;\n  }\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n    let align = 'center';\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n    return align;\n  }\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n    let textAlign;\n    let x;\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n    return {textAlign, x};\n  }\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n    const chart = this.chart;\n    const position = this.options.position;\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n  drawBorder() {\n    const {chart, ctx, options: {grid}} = this;\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.borderWidth;\n    ctx.strokeStyle = borderOpts.borderColor;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.restore();\n  }\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n    if (!optionTicks.display) {\n      return;\n    }\n    const ctx = this.ctx;\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    let i, ilen;\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      const item = items[i];\n      const tickFont = item.font;\n      const label = item.label;\n      if (item.backdrop) {\n        ctx.fillStyle = item.backdrop.color;\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n      }\n      let y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, item);\n    }\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n    if (!title.display) {\n      return;\n    }\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: gz + 1,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n\nclass TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n    if (isIChartComponent(proto)) {\n      parentScope = this.register(proto);\n    }\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n    if (id in items) {\n      return scope;\n    }\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n    return scope;\n  }\n  get(id) {\n    return this.items[id];\n  }\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n    if (id in items) {\n      delete items[id];\n    }\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\nfunction registerDefaults(item, scope, parentScope) {\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n  defaults.set(scope, itemDefaults);\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n  add(...args) {\n    this._each('register', args);\n  }\n  remove(...args) {\n    this._each('unregister', args);\n  }\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        each(arg, item => {\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    callback(component['before' + camelMethod], [], component);\n    registry[method](component);\n    callback(component['after' + camelMethod], [], component);\n  }\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    return this.plugins;\n  }\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n}\nvar registry = new Registry();\n\nclass ScatterController extends DatasetController {\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {data: points = []} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    if (this.options.showLine) {\n      const {dataset: line, _dataset} = meta;\n      line._chart = this.chart;\n      line._datasetIndex = this.index;\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n      const options = this.resolveDatasetElementOptions(mode);\n      options.segment = this.options.segment;\n      this.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options\n      }, mode);\n    }\n    this.updateElements(points, start, count, mode);\n  }\n  addElements() {\n    const {showLine} = this.options;\n    if (!this.datasetElementType && showLine) {\n      this.datasetElementType = registry.getElement('line');\n    }\n    super.addElements();\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const data = meta.data || [];\n    if (!this.options.showLine) {\n      let max = 0;\n      for (let i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n      }\n      return max > 0 && max;\n    }\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n}\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPolarAreaController: PolarAreaController,\nPieController: PieController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\nclass DateAdapter {\n  constructor(options) {\n    this.options = options || {};\n  }\n  init(chartOptions) {}\n  formats() {\n    return abstract();\n  }\n  parse(value, format) {\n    return abstract();\n  }\n  format(timestamp, format) {\n    return abstract();\n  }\n  add(timestamp, amount, unit) {\n    return abstract();\n  }\n  diff(a, b, unit) {\n    return abstract();\n  }\n  startOf(timestamp, unit, weekday) {\n    return abstract();\n  }\n  endOf(timestamp, unit) {\n    return abstract();\n  }\n}\nDateAdapter.override = function(members) {\n  Object.assign(DateAdapter.prototype, members);\n};\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  return {lo: 0, hi: data.length - 1};\n}\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\nvar Interaction = {\n  evaluateInteractionItems,\n  modes: {\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n      if (!items.length) {\n        return [];\n      }\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n      return elements;\n    },\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n      return items;\n    },\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n  if (!isObject(pos)) {\n    if (layout.size) {\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n  chartArea.x = x;\n  chartArea.y = y;\n}\ndefaults.set('layout', {\n  autoPadding: true,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n    chart.boxes.push(item);\n  },\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n\nclass BasePlatform {\n  acquireContext(canvas, aspectRatio) {}\n  releaseContext(context) {\n    return false;\n  }\n  addEventListener(chart, type, listener) {}\n  removeEventListener(chart, type, listener) {}\n  getDevicePixelRatio() {\n    return 1;\n  }\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n  isAttached(canvas) {\n    return true;\n  }\n  updateConfig(config) {\n  }\n}\n\nclass BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n\nconst EXPANDO_KEY = '$chartjs';\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\nconst isNullOrEmpty = value => value === null || value === '';\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n  return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, (args) => {\n    const event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\nclass DomPlatform extends BasePlatform {\n  acquireContext(canvas, aspectRatio) {\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n    if (context && context.canvas === canvas) {\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n    return null;\n  }\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n    canvas.width = canvas.width;\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n  addEventListener(chart, type, listener) {\n    this.removeEventListener(chart, type);\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n    if (!proxy) {\n      return;\n    }\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n\nfunction _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nclass PluginService {\n  constructor() {\n    this._init = [];\n  }\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n    return true;\n  }\n  invalidate() {\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n    const descriptors = this._cache = this._createDescriptors(chart);\n    this._notifyStateChanges(chart);\n    return descriptors;\n  }\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\nfunction allPlugins(config) {\n  const localIds = {};\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n      localIds[plugin.id] = true;\n    }\n  }\n  return {plugins, localIds};\n}\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\nfunction createDescriptors(chart, {plugins, localIds}, options, all) {\n  const result = [];\n  const context = chart.getContext();\n  for (const plugin of plugins) {\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)\n    });\n  }\n  return result;\n}\nfunction pluginOpts(config, {plugin, local}, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  if (local && plugin.defaults) {\n    scopes.push(plugin.defaults);\n  }\n  return config.createResolver(scopes, context, [''], {\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n\nfunction getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const firstIDs = Object.create(null);\n  const scales = Object.create(null);\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\nclass Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n  get platform() {\n    return this._config.platform;\n  }\n  get type() {\n    return this._config.type;\n  }\n  set type(type) {\n    this._config.type = type;\n  }\n  get data() {\n    return this._config.data;\n  }\n  set data(data) {\n    this._config.data = initData(data);\n  }\n  get options() {\n    return this._config.options;\n  }\n  set options(options) {\n    this._config.options = options;\n  }\n  get plugins() {\n    return this._config.plugins;\n  }\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n    const scopes = new Set();\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n  chartOptionScopes() {\n    const {options, type} = this;\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {},\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar version = \"3.9.1\";\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n  return item;\n}\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\nclass Chart {\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.'\n      );\n    }\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n    instances[this.id] = this;\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      return aspectRatio;\n    }\n    if (maintainAspectRatio && _aspectRatio) {\n      return _aspectRatio;\n    }\n    return height ? width / height : null;\n  }\n  get data() {\n    return this.config.data;\n  }\n  set data(data) {\n    this.config.data = data;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this.config.options = options;\n  }\n  _initialize() {\n    this.notifyPlugins('beforeInit');\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n    this.bindEvents();\n    this.notifyPlugins('afterInit');\n    return this;\n  }\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n    this.notifyPlugins('resize', {size: newSize});\n    callback(options.onResize, [this, newSize], this);\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        this.render();\n      }\n    }\n  }\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n      scale.init(scaleOptions, options);\n    });\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n    this._removeUnreferencedMetasets();\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass.prototype, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n    this._updateMetasets();\n    return newControllers;\n  }\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n  update(mode) {\n    const config = this.config;\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n    this._plugins.invalidate();\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    const newControllers = this.buildOrUpdateControllers();\n    this.notifyPlugins('beforeElementsUpdate');\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n    if (!animsDisabled) {\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n    this._updateDatasets(mode);\n    this.notifyPlugins('afterUpdate', {mode});\n    this._layers.sort(compare2Level('z', '_idx'));\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n    this.render();\n  }\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n    layouts.update(this, this.width, this.height, minPadding);\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        return;\n      }\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n    this.notifyPlugins('afterLayout');\n  }\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n    meta.controller._update(mode);\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this._drawDatasets();\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this.notifyPlugins('afterDraw');\n  }\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = this.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n    meta.controller.draw();\n    if (useClip) {\n      unclipArea(ctx);\n    }\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n    return [];\n  }\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n    return meta;\n  }\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n    const meta = this.getDatasetMeta(datasetIndex);\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n    this._stop();\n    this.config.clearCache();\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n    this.notifyPlugins('destroy');\n    delete instances[this.id];\n    this.notifyPlugins('afterDestroy');\n  }\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n    each(this.options.events, (type) => _add(type, listener));\n  }\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n    let detached;\n    const attached = () => {\n      _remove('attach', attached);\n      this.attached = true;\n      this.resize();\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n    detached = () => {\n      this.attached = false;\n      _remove('resize', listener);\n      this._stop();\n      this._resize(0, 0);\n      _add('attach', attached);\n    };\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed) {\n      this._active = active;\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n    if (changed || args.changed) {\n      this.render();\n    }\n    return this;\n  }\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n    if (inChartArea) {\n      this._lastEvent = null;\n      callback(options.onHover, [e, active, this], this);\n      if (isClick) {\n        callback(options.onClick, [e, active, this], this);\n      }\n    }\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n    this._lastEvent = lastEvent;\n    return changed;\n  }\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\nconst enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable,\n    value: registry\n  },\n  version: {\n    enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable,\n    value: (...items) => {\n      registry.add(...items);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable,\n    value: (...items) => {\n      registry.remove(...items);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\nfunction pathArc(ctx, element, offset, spacing, end, circular) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n  let spacingOffset = 0;\n  const alpha = end - start;\n  if (spacing) {\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  if (circular) {\n    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n    if (outerEnd > 0) {\n      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n    }\n    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n    ctx.lineTo(p4.x, p4.y);\n    if (innerEnd > 0) {\n      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n    }\n    ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\n    if (innerStart > 0) {\n      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n    }\n    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n    ctx.lineTo(p8.x, p8.y);\n    if (outerStart > 0) {\n      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n    }\n  } else {\n    ctx.moveTo(x, y);\n    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerStartX, outerStartY);\n    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerEndX, outerEndY);\n  }\n  ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing, circular) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, startAngle + TAU, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.fill();\n  return endAngle;\n}\nfunction drawFullCircleBorders(ctx, element, inner) {\n  const {x, y, startAngle, pixelMargin, fullCircles} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  let i;\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\nfunction drawBorder(ctx, element, offset, spacing, endAngle, circular) {\n  const {options} = element;\n  const {borderWidth, borderJoinStyle} = options;\n  const inner = options.borderAlign === 'inner';\n  if (!borderWidth) {\n    return;\n  }\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.stroke();\n}\nclass ArcElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(chartX, chartY, useFinalPosition) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = this.options.spacing / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n    return (betweenAngles && withinRadius);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference',\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n  tooltipPosition(useFinalPosition) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n  draw(ctx) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 2;\n    const spacing = (options.spacing || 0) / 2;\n    const circular = options.circular;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n    ctx.save();\n    let radiusOffset = 0;\n    if (offset) {\n      radiusOffset = offset / 2;\n      const halfAngle = (this.startAngle + this.endAngle) / 2;\n      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n      if (this.circumference >= PI) {\n        radiusOffset = offset;\n      }\n    }\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    const endAngle = drawArc(ctx, this, radiusOffset, spacing, circular);\n    drawBorder(ctx, this, radiusOffset, spacing, endAngle, circular);\n    ctx.restore();\n  }\n}\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderJoinStyle: undefined,\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: undefined,\n  circular: true,\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n  return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    prev = point;\n  }\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n  return !!loop;\n}\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n    if (point.skip) {\n      continue;\n    }\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    lastY = y;\n  }\n  drawX();\n}\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n  return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\nclass LineElement extends Element {\n  constructor(cfg) {\n    super();\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n  get points() {\n    return this._points;\n  }\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n    if (!segments.length) {\n      return;\n    }\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n    start = start || 0;\n    count = count || (this.points.length - start);\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n    if (points.length && options.borderWidth) {\n      ctx.save();\n      draw(ctx, this, start, count);\n      ctx.restore();\n    }\n    if (this.animated) {\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0,\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\nclass PointElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  size(options) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n  draw(ctx, area) {\n    const options = this.options;\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n  getRange() {\n    const options = this.options || {};\n    return options.radius + options.hitRadius;\n  }\n}\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\n  let left, right, top, bottom, half;\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n  return {left, top, right, bottom};\n}\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n  const enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\nclass BarElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n    ctx.save();\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n    ctx.restore();\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: 'auto',\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nLineElement: LineElement,\nPointElement: PointElement,\nBarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  const samples = options.samples || availableWidth;\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n  const decimated = [];\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n    maxArea = area = -1;\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      const lastIndex = i - 1;\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n  return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {value: data});\n  }\n}\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n  let start = 0;\n  let count;\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n  return {start, count};\n}\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n    const availableWidth = chart.width;\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n      if (!meta.controller.supportsDecimation) {\n        return;\n      }\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n      if (chart.options.parsing) {\n        return;\n      }\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n      dataset._decimated = decimated;\n    });\n  },\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = _findSegmentEnd(start, end, points);\n    const bounds = _getBounds(property, points[start], points[end], segment.loop);\n    if (!target.segments) {\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n    const targetSegments = _boundSegments(target, bounds);\n    for (const tgt of targetSegments) {\n      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\nfunction _pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = _findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = _pointsFromSegments(boundary, line);\n  }\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\nfunction _shouldApplyFill(source) {\n  return source && source.fill !== false;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n  if (!propagate) {\n    return fill;\n  }\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n    if (target.visible) {\n      return fill;\n    }\n    visited.push(fill);\n    fill = target.fill;\n  }\n  return false;\n}\nfunction _decodeFill(line, index, count) {\n  const fill = parseFillOption(line);\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n  let target = parseFloat(fill);\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    return decodeTargetIndex(fill[0], index, target, count);\n  }\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n  if (firstCh === '-' || firstCh === '+') {\n    target = index + target;\n  }\n  if (target === index || target < 0 || target >= count) {\n    return false;\n  }\n  return target;\n}\nfunction _getTargetPixel(fill, scale) {\n  let pixel = null;\n  if (fill === 'start') {\n    pixel = scale.bottom;\n  } else if (fill === 'end') {\n    pixel = scale.top;\n  } else if (isObject(fill)) {\n    pixel = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    pixel = scale.getBasePixel();\n  }\n  return pixel;\n}\nfunction _getTargetValue(fill, scale, startValue) {\n  let value;\n  if (fill === 'start') {\n    value = startValue;\n  } else if (fill === 'end') {\n    value = scale.options.reverse ? scale.min : scale.max;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  return value;\n}\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n  if (fill === false || fill === null) {\n    return false;\n  }\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\n\nfunction _buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line));\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\n\nclass simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\n\nfunction _getTarget(source) {\n  const {chart, fill, line} = source;\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n  if (fill === 'stack') {\n    return _buildStackLine(source);\n  }\n  if (fill === 'shape') {\n    return true;\n  }\n  const boundary = computeBoundary(source);\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n  return _createBoundaryLine(boundary, line);\n}\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  const pixel = _getTargetPixel(fill, scale);\n  if (isNumberFinite(pixel)) {\n    const horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? pixel : null,\n      y: horizontal ? null : pixel\n    };\n  }\n  return null;\n}\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const start = options.reverse ? scale.max : scale.min;\n  const value = _getTargetValue(fill, scale, start);\n  const target = [];\n  if (options.grid.circular) {\n    const center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n  for (let i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n  const target = _getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n  if (property === 'x' && below !== above) {\n    clipVertical(ctx, target, area.top);\n    fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    clipVertical(ctx, target, area.bottom);\n  }\n  fill(ctx, {line, target, color: below, scale, property});\n  ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[_findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\nfunction fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n    clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n    ctx.beginPath();\n    const lineLoop = !!line.pathSegment(ctx, src);\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n    ctx.restore();\n  }\n}\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\nvar index = {\n  id: 'filler',\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: _decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n      meta.$filler = source;\n      sources.push(source);\n    }\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n      source.fill = _resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n      source.line.updateControlPoints(area, source.axis);\n      if (draw && source.fill) {\n        _drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (_shouldApplyFill(source)) {\n        _drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n    if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n    _drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n  }\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n  constructor(config) {\n    super();\n    this._added = false;\n    this.legendHitBoxes = [];\n    this._hoveredItem = null;\n    this.doughnutMode = false;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n    this.legendItems = legendItems;\n  }\n  fit() {\n    const {options, ctx} = this;\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n    let width, height;\n    ctx.font = labelFont.string;\n    if (this.isHorizontal()) {\n      width = this.maxWidth;\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight;\n      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    }\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n    return totalHeight;\n  }\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n    let left = 0;\n    let col = 0;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\n    return totalWidth;\n  }\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n      this._draw();\n      unclipArea(ctx);\n    }\n  }\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {color: fontColor, padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n    this.drawTitle();\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n      ctx.save();\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n      if (labelOpts.usePointStyle) {\n        const drawOptions = {\n          radius: boxHeight * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n      } else {\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n        ctx.beginPath();\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n    };\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n    overrideTextDirection(this.ctx, opts.textDirection);\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\n      ctx.fillStyle = legendItem.fontColor || fontColor;\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n      rtlHelper.setWidth(this.width);\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n      const realX = rtlHelper.x(x);\n      drawLegendBox(realX, y, legendItem);\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n      fillText(rtlHelper.x(x), y, legendItem);\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    if (!titleOpts.display) {\n      return;\n    }\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n    let left = this.left;\n    let maxWidth = this.width;\n    if (this.isHorizontal()) {\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n    const x = _alignStartEnd(position, left, left + maxWidth);\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          return this.legendItems[i];\n        }\n      }\n    }\n    return null;\n  }\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        callback(opts.onLeave, [e, previous, this], this);\n      }\n      this._hoveredItem = hoveredItem;\n      if (hoveredItem && !sameItem) {\n        callback(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      callback(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n\nclass Title extends Element {\n  constructor(config) {\n    super();\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n    this.left = 0;\n    this.top = 0;\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    if (!opts.display) {\n      return;\n    }\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n  id: 'subtitle',\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst positioners = {\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n    return {\n      x,\n      y\n    };\n  }\n};\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n  return base;\n}\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {width, height};\n}\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n  return xAlign;\n}\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\nclass Tooltip extends Element {\n  constructor(config) {\n    super();\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart || config._chart;\n    this._chart = this.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n    if (cached) {\n      return cached;\n    }\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n  getTitle(context, options) {\n    const {callbacks} = options;\n    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);\n    const title = callbacks.title.apply(this, [context]);\n    const afterTitle = callbacks.afterTitle.apply(this, [context]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n    return lines;\n  }\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n  }\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));\n      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));\n      bodyItems.push(bodyItem);\n    });\n    return bodyItems;\n  }\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n  }\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\n    const footer = callbacks.footer.apply(this, [tooltipItems]);\n    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n    return lines;\n  }\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(scoped.labelColor.call(this, context));\n      labelPointStyles.push(scoped.labelPointStyle.call(this, context));\n      labelTextColors.push(scoped.labelTextColor.call(this, context));\n    });\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.titleAlign, options);\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing;\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing;\n        }\n      }\n    }\n  }\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColors = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2,\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.fillStyle = labelColors.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      ctx.lineWidth = isObject(labelColors.borderWidth) ? Math.max(...Object.values(labelColors.borderWidth)) : (labelColors.borderWidth || 1);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.setLineDash(labelColors.borderDash || []);\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n      lines = bodyItem.lines;\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n      each(bodyItem.after, fillLineOfText);\n    }\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing;\n  }\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n      footerFont = toFont(options.footerFont);\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n    ctx.fill();\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n  _willRender() {\n    return !!this.opacity;\n  }\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n    if (!opacity) {\n      return;\n    }\n    this._updateAnimationTarget(options);\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n    const padding = toPadding(options.padding);\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n      this.drawBackground(pt, ctx, tooltipSize, options);\n      overrideTextDirection(ctx, options.textDirection);\n      pt.y += padding.top;\n      this.drawTitle(pt, ctx, options);\n      this.drawBody(pt, ctx, options);\n      this.drawFooter(pt, ctx, options);\n      restoreTextDirection(ctx, options.textDirection);\n      ctx.restore();\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n    const positionChanged = this._positionChanged(active, e);\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n    if (changed) {\n      this._active = active;\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n        this.update(true, replay);\n      }\n    }\n    return changed;\n  }\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n    if (options.reverse) {\n      active.reverse();\n    }\n    return active;\n  }\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n      if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n        return;\n      }\n      tooltip.draw(chart.ctx);\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          const item = tooltipItems[0];\n          const labels = item.chart.data.labels;\n          const labelCount = labels ? labels.length : 0;\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n        return label;\n      },\n      labelColor(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0,\n        };\n      },\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation,\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\nclass CategoryScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n      return labels[value];\n    }\n    return value;\n  }\n  configure() {\n    super.configure();\n    if (!this.isHorizontal()) {\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n  getBasePixel() {\n    return this.bottom;\n  }\n}\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  const ticks = [];\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n      if (niceMin < min) {\n        j++;\n      }\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n  for (; j < numSpaces; ++j) {\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\n  }\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n  return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n    return +raw;\n  }\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n    if (min === max) {\n      let offset = 1;\n      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\n        offset = Math.abs(max * 0.05);\n      }\n      setMax(max + offset);\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n    return maxTicks;\n  }\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n    super.configure();\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n\nclass LinearScale extends LinearScaleBase {\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? min : 0;\n    this.max = isNumberFinite(max) ? max : 1;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\n  return remain === 1;\n}\nfunction generateTicks(generationOptions, dataRange) {\n  const endExp = Math.floor(log10(dataRange.max));\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  const ticks = [];\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  let exp = Math.floor(log10(tickVal));\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  do {\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\n    ++significand;\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\n  return ticks;\n}\nclass LogarithmicScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isNumberFinite(value) && value > 0 ? value : null;\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n    this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n    this.handleTickRangeOptions();\n  }\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\n    if (min === max) {\n      if (min <= 0) {\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(exp(min, -1));\n        setMax(exp(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(exp(max, -1));\n    }\n    if (max <= 0) {\n      setMax(exp(min, +1));\n    }\n    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\n      setMin(exp(min, -1));\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n  configure() {\n    const start = this.min;\n    super.configure();\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\nfunction fitWithPointLabels(scale) {\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const extra = getTickBackdropHeight(opts) / 2;\n  const outerDistance = scale.drawingArea;\n  const additionalAngle = opts.pointLabels.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const size = labelSizes[i];\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    items.push({\n      x: pointLabelPosition.x,\n      y,\n      textAlign,\n      left,\n      top: y,\n      right: left + size.w,\n      bottom: y + size.h\n    });\n  }\n  return items;\n}\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n  return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\n    const {backdropColor} = optsAtIndex;\n    if (!isNullOrUndef(backdropColor)) {\n      const borderRadius = toTRBLCorners(optsAtIndex.borderRadius);\n      const padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      const backdropLeft = left - padding.left;\n      const backdropTop = top - padding.top;\n      const backdropWidth = right - left + padding.width;\n      const backdropHeight = bottom - top + padding.height;\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: backdropLeft,\n          y: backdropTop,\n          w: backdropWidth,\n          h: backdropHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n      }\n    }\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n  const {color, lineWidth} = gridLineOpts;\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\nclass RadialLinearScale extends LinearScaleBase {\n  constructor(cfg) {\n    super(cfg);\n    this.xCenter = undefined;\n    this.yCenter = undefined;\n    this.drawingArea = undefined;\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n  setDimensions() {\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n    this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n  fit() {\n    const opts = this.options;\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid} = opts;\n    const labelCount = this._pointLabels.length;\n    let i, offset, position;\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const optsAtIndex = grid.setContext(this.getContext(index - 1));\n          drawRadiusLine(this, optsAtIndex, offset, labelCount);\n        }\n      });\n    }\n    if (angleLines.display) {\n      ctx.save();\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n        if (!lineWidth || !color) {\n          continue;\n        }\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    }\n  }\n  drawBorder() {}\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    if (!tickOpts.display) {\n      return;\n    }\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    this.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n    ctx.restore();\n  }\n  drawTitle() {}\n}\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback(label) {\n      return label;\n    },\n    padding: 5,\n    centerPointLabels: false\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\n\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\nconst UNITS = (Object.keys(INTERVALS));\nfunction sorter(a, b) {\n  return a - b;\n}\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n  if (value === null) {\n    return null;\n  }\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n  return +value;\n}\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n  return UNITS[ilen - 1];\n}\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n  constructor(props) {\n    super(props);\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    this._unit = 'day';\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n  init(scaleOpts, opts) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n    adapter.init(opts);\n    mergeIf(time.displayFormats, adapter.formats());\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n    super.init(scaleOpts);\n    this._normalized = opts.normalized;\n  }\n  parse(raw, index) {\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n    if (!minDefined || !maxDefined) {\n      _applyBounds(this._getLabelBounds());\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n    const min = this.min;\n    const max = this.max;\n    const ticks = _filterBetween(timestamps, min, max);\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n    if (options.reverse) {\n      ticks.reverse();\n    }\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n  afterAutoSkip() {\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n  initOffsets(timestamps) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    const formatter = options.ticks.callback;\n    return formatter ? callback(formatter, [label, index, ticks], this) : label;\n  }\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const metas = this.getMatchingVisibleMetas();\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n    return (this._cache.data = this.normalize(timestamps));\n  }\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n  normalize(values) {\n    return _arrayUnique(values.sort(sorter));\n  }\n}\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n  constructor(props) {\n    super(props);\n    this._table = [];\n    this._minPos = undefined;\n    this._tableRange = undefined;\n  }\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n    if (items.length < 2) {\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n    return timestamps;\n  }\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\n"]},"metadata":{},"sourceType":"module"}